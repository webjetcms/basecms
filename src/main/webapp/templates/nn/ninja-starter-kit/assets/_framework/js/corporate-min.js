(window.psdlWebpackJsonp=window.psdlWebpackJsonp||[]).push([[3],{1087:function(e){e.exports=JSON.parse('[{"value":"AD","label":"Andorra"},{"value":"AE","label":"Verenigde Arabische Emiraten"},{"value":"AF","label":"Afghanistan"},{"value":"AG","label":"Antigua en Barbuda"},{"value":"AI","label":"Anguilla"},{"value":"AL","label":"Albanië"},{"value":"AM","label":"Armenië"},{"value":"AO","label":"Angola"},{"value":"AQ","label":"Antarctica"},{"value":"AR","label":"Argentinië"},{"value":"AS","label":"Amerikaans Samoa"},{"value":"AT","label":"Oostenrijk"},{"value":"AU","label":"Australië"},{"value":"AW","label":"Aruba"},{"value":"AX","label":"ALAND ISLANDS"},{"value":"AZ","label":"Azerbeidzjan"},{"value":"BA","label":"Bosnië-Herzegovina"},{"value":"BB","label":"Barbados"},{"value":"BD","label":"Bangladesh"},{"value":"BE","label":"België"},{"value":"BF","label":"Burkina Faso"},{"value":"BG","label":"Bulgarije"},{"value":"BH","label":"Bahrein"},{"value":"BI","label":"Burundi"},{"value":"BJ","label":"Benin"},{"value":"BL","label":"Sint-Bartholomeus"},{"value":"BM","label":"Bermuda"},{"value":"BN","label":"Brunei"},{"value":"BO","label":"Bolivia"},{"value":"BQ","label":"Bonaire, Saint Eustatius and Saba"},{"value":"BR","label":"Brazilië"},{"value":"BS","label":"Bahama\'s"},{"value":"BT","label":"Bhutan"},{"value":"BV","label":"Bouveteiland"},{"value":"BW","label":"Botswana"},{"value":"BY","label":"Wit-Rusland"},{"value":"BZ","label":"Belize"},{"value":"CA","label":"Canada"},{"value":"CC","label":"Cocoseilanden"},{"value":"CD","label":"Republiek Congo"},{"value":"CF","label":"Centraal-Afrikaanse Republiek"},{"value":"CG","label":"Congo"},{"value":"CH","label":"Zwitserland"},{"value":"CI","label":"Ivoorkust"},{"value":"CK","label":"Cookeilanden"},{"value":"CL","label":"Chili"},{"value":"CM","label":"Kameroen"},{"value":"CN","label":"China"},{"value":"CO","label":"Colombia"},{"value":"CR","label":"Costa Rica"},{"value":"CU","label":"Cuba"},{"value":"CV","label":"Kaapverdië"},{"value":"CW","label":"Curaçoa"},{"value":"CX","label":"Christmaseiland"},{"value":"CY","label":"Cyprus"},{"value":"CZ","label":"Tsjechische Republiek"},{"value":"DE","label":"Duitsland"},{"value":"DJ","label":"Djibouti"},{"value":"DK","label":"Denemarken"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Dominicaanse Republiek"},{"value":"DZ","label":"Algerije"},{"value":"EC","label":"Ecuador"},{"value":"EE","label":"Estland"},{"value":"EG","label":"Egypte"},{"value":"EH","label":"Westelijke Sahara"},{"value":"ER","label":"Eritrea"},{"value":"ES","label":"Spanje"},{"value":"ET","label":"Ethiopië"},{"value":"EU","label":"Europese Unie"},{"value":"FI","label":"Finland"},{"value":"FJ","label":"Fiji"},{"value":"FK","label":"Falklandeilanden"},{"value":"FM","label":"Micronesia"},{"value":"FO","label":"Faeröer"},{"value":"FR","label":"Frankrijk"},{"value":"GA","label":"Gabon"},{"value":"GB","label":"Verenigd Koninkrijk"},{"value":"GD","label":"Grenada"},{"value":"GE","label":"Georgië"},{"value":"GF","label":"Frans-Guyana"},{"value":"GG","label":"GUERNSEY, C.I."},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GL","label":"Groenland"},{"value":"GM","label":"Gambia"},{"value":"GN","label":"Guinee"},{"value":"GP","label":"Guadeloupe"},{"value":"GQ","label":"Equatoriaal-Guinea"},{"value":"GR","label":"Griekenland"},{"value":"GS","label":"Zuid-Georgië en Zuidelijke Sandwicheilanden"},{"value":"GT","label":"Guatemala"},{"value":"GU","label":"Guam"},{"value":"GW","label":"Guinee-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HK","label":"Hongkong"},{"value":"HM","label":"Heard- en McDonaldeilanden"},{"value":"HN","label":"Honduras"},{"value":"HR","label":"Kroatië"},{"value":"HT","label":"Haïti"},{"value":"HU","label":"Hongarije"},{"value":"ID","label":"Indonesië"},{"value":"IE","label":"Ierland"},{"value":"IL","label":"Israël"},{"value":"IM","label":"Isle of Man"},{"value":"IN","label":"India"},{"value":"IO","label":"Brits gebied in de Indische Oceaan"},{"value":"IQ","label":"Irak"},{"value":"IR","label":"Iran"},{"value":"IS","label":"IJsland"},{"value":"IT","label":"Italië"},{"value":"JE","label":"JERSEY, C.I."},{"value":"JM","label":"Jamaica"},{"value":"JO","label":"Jordanië"},{"value":"JP","label":"Japan"},{"value":"KE","label":"Kenia"},{"value":"KG","label":"Kirgizië"},{"value":"KH","label":"Cambodja"},{"value":"KI","label":"Kiribati"},{"value":"KM","label":"Comoren"},{"value":"KN","label":"Saint Kitts en Nevis"},{"value":"KP","label":"Noord-Korea"},{"value":"KR","label":"Zuid-Korea"},{"value":"KW","label":"Koeweit"},{"value":"KY","label":"Caymaneilanden"},{"value":"KZ","label":"Kazachstan"},{"value":"LA","label":"Laos"},{"value":"LB","label":"Libanon"},{"value":"LC","label":"Saint Lucia"},{"value":"LI","label":"Liechtenstein"},{"value":"LK","label":"Sri Lanka"},{"value":"LR","label":"Liberia"},{"value":"LS","label":"Lesotho"},{"value":"LT","label":"Litouwen"},{"value":"LU","label":"Luxemburg"},{"value":"LV","label":"Letland"},{"value":"LY","label":"Libië"},{"value":"MA","label":"Marokko"},{"value":"MC","label":"Monaco"},{"value":"MD","label":"Moldavië"},{"value":"ME","label":"Montenegro"},{"value":"MF","label":"Saint Martin (Frans deel)"},{"value":"MG","label":"Madagaskar"},{"value":"MH","label":"Marshalleilanden"},{"value":"MK","label":"Macedonië"},{"value":"ML","label":"Mali"},{"value":"MM","label":"Myanmar"},{"value":"MN","label":"Mongolië"},{"value":"MO","label":"Macau"},{"value":"MP","label":"Noordelijke Marianen"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"Mauritanië"},{"value":"MS","label":"Montserrat"},{"value":"MT","label":"Malta"},{"value":"MU","label":"Mauritius"},{"value":"MV","label":"Malediven"},{"value":"MW","label":"Malawi"},{"value":"MX","label":"Mexico"},{"value":"MY","label":"Maleisië"},{"value":"MZ","label":"Mozambique"},{"value":"NA","label":"Namibië"},{"value":"NC","label":"Nieuw-Caledonië"},{"value":"NE","label":"Niger"},{"value":"NF","label":"Norfolkeiland"},{"value":"NG","label":"Nigeria"},{"value":"NI","label":"Nicaragua"},{"value":"NL","label":"Nederland"},{"value":"NO","label":"Noorwegen"},{"value":"NP","label":"Nepal"},{"value":"NR","label":"Nauru"},{"value":"NT","label":"NAVO"},{"value":"NU","label":"Niue"},{"value":"NZ","label":"Nieuw-Zeeland"},{"value":"OM","label":"Oman"},{"value":"OR","label":"Oranje"},{"value":"PA","label":"Panama"},{"value":"PE","label":"Peru"},{"value":"PF","label":"Frans-Polynesië"},{"value":"PG","label":"Papoea-Nieuw-Guinea"},{"value":"PH","label":"Filippijnen"},{"value":"PK","label":"Pakistan"},{"value":"PL","label":"Polen"},{"value":"PM","label":"Saint-Pierre en Miquelon"},{"value":"PN","label":"Pitcairneilanden"},{"value":"PR","label":"Puerto Rico"},{"value":"PS","label":"Palestina"},{"value":"PT","label":"Portugal"},{"value":"PW","label":"Palau"},{"value":"PY","label":"Paraguay"},{"value":"QA","label":"Qatar"},{"value":"RE","label":"Réunion"},{"value":"RO","label":"Roemenië"},{"value":"RS","label":"Republiek Servië"},{"value":"RU","label":"Russische Federatie"},{"value":"RW","label":"Rwanda"},{"value":"SA","label":"Saudi-Arabië"},{"value":"SB","label":"Salomonseilanden"},{"value":"SC","label":"Seychellen"},{"value":"SD","label":"Sudan"},{"value":"SE","label":"Zweden"},{"value":"SG","label":"Singapore"},{"value":"SH","label":"Sint-Helena"},{"value":"SI","label":"Slovenië"},{"value":"SJ","label":"Svalbard"},{"value":"SK","label":"Slowakije"},{"value":"SL","label":"Sierra Leone"},{"value":"SM","label":"San Marino"},{"value":"SN","label":"Senegal"},{"value":"SO","label":"Somalië"},{"value":"SR","label":"Surilabel"},{"value":"SS","label":"Zuid-Soedan"},{"value":"ST","label":"Sao Tomé en Principe"},{"value":"SV","label":"El Salvador"},{"value":"SX","label":"Sint Maarten (Nederlands gedeelte)"},{"value":"SY","label":"Syrië"},{"value":"SZ","label":"Swaziland"},{"value":"TC","label":"Turks- en Caicoseilanden"},{"value":"TD","label":"Tsjaad"},{"value":"TG","label":"Togo"},{"value":"TH","label":"Thailand"},{"value":"TJ","label":"Tadzjikistan"},{"value":"TK","label":"Tokelau-eilanden"},{"value":"TL","label":"Oost-Timor"},{"value":"TM","label":"Turkmenistan"},{"value":"TN","label":"Tunesië"},{"value":"TO","label":"Tonga"},{"value":"TR","label":"Turkije"},{"value":"TT","label":"Trinidad en Tobago"},{"value":"TV","label":"Tuvalu"},{"value":"TW","label":"Taiwan"},{"value":"TZ","label":"Tanzania"},{"value":"UA","label":"Oekraïne"},{"value":"UG","label":"Uganda"},{"value":"UM","label":"Amerikaanse ondergeschikte afgelegen eilanden"},{"value":"UN","label":"Verenigde Naties"},{"value":"US","label":"VS"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Oezbekistan"},{"value":"VA","label":"Vaticaanstad"},{"value":"VC","label":"Saint Vincent en de Grenadines"},{"value":"VE","label":"Venezuela"},{"value":"VG","label":"Britse Maagdeneilanden"},{"value":"VI","label":"Amerikaanse Maagdeneilanden"},{"value":"VN","label":"Vietnam"},{"value":"VU","label":"Vanuatu"},{"value":"WF","label":"Wallis & Futuna"},{"value":"WS","label":"West-Samoa"},{"value":"XK","label":"Kosovo"},{"value":"XM","label":"Montenegro"},{"value":"XS","label":"Serbia"},{"value":"YE","label":"Jemen"},{"value":"YT","label":"Mayotte"},{"value":"ZA","label":"Zuid-Afrika"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]')},1088:function(e,t,a){},1089:function(e,t,a){},1090:function(e,t,a){},1091:function(e,t){e.exports='<div>\n  <h1>Account zoeken</h1>\n  <div class ="o-layout">\n    <div class="o-layout__row">\n      <div class="o-layout__col-xs-12 o-layout__col-m-6">\n        <p>Zoek een account op</p>\n        <nn-dropdown \n          @change="onSearchTypeChange" \n          :options="searchOptions" \n          v-model="searchType"\n          full-width\n        ></nn-dropdown>\n        <search-form :placeholder="searchPlaceholder" @onSubmit="handleSubmit" :alert="message"></search-form>\n      </div>\n      <div class="o-layout__col-xs-12 o-layout__col-m-3 u-float-right">\n        <h4>Navigeer naar</h4>\n        <ul class="c-list">\n          <li class="c-list__item"><nn-link :href="config.redirectHomeMijnNNZakelijk">Home Mijn NN Zakelijk (Digital Support)</nn-link></li>\n          <li class="c-list__item"><nn-link :href="config.redirectHomePSOPAO">Home PSO/PAO/ISO</nn-link></li>\n        </ul>\n      </div>\n    </div>\n    <nn-spinner v-if="status === \'loading\'" class="u-margin-top"></nn-spinner>\n    <datatable v-if="status !== \'loading\'" :rows="rows" :displayedColumns="resultTableColumns" :crud="true" class="u-margin-top">\n      <template slot-scope="user">\n        <a @click.prevent="goToEdit(user)">\n          <span aria-hidden="true" class="c-icon u-font-size-l c-icon--edit"></span>\n        </a>\n      </template>\n    </datatable>\n  </div>\n</div>'},42:function(e,t,a){"use strict";var n=!0;try{n=!!window.localStorage}catch(e){n=!1}var r=void 0;n&&(r={key:localStorage.key.bind(localStorage),clear:localStorage.clear.bind(localStorage),removeItem:localStorage.removeItem.bind(localStorage),getItem:function(e){return JSON.parse(localStorage.getItem(e))},setItem:function(e,t){localStorage.setItem(e,JSON.stringify(t))}}),window.app=window.app||{};var s=window.app.localStorage=r;a.d(t,"d",function(){return i}),a.d(t,"f",function(){return l}),a.d(t,"c",function(){return u}),a.d(t,"e",function(){return c}),a.d(t,"b",function(){return d}),a.d(t,"a",function(){return m});var o="debugLog";function i(){s.getItem(o)&&window.console.log.apply(console,arguments)}function l(){window.console.warn.apply(console,arguments)}function u(){arguments[0]&&"SINON_FAKE"===arguments[0].message||window.console.error.apply(console,arguments)}function c(){window.console.trace()}function d(){s.setItem(o,!0)}function m(){s.setItem(o,!1)}},709:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"updateAddressRow",function(){return Q}),a.d(n,"updateAddressFields",function(){return X}),a.d(n,"setInitialCompanyData",function(){return ee}),a.d(n,"setResults",function(){return te}),a.d(n,"updateStatusFind",function(){return ae}),a.d(n,"updateBusinessName",function(){return ne}),a.d(n,"updateStartDate",function(){return re}),a.d(n,"updateContact",function(){return se}),a.d(n,"updateAddressToModify",function(){return oe}),a.d(n,"updateStatusSendForm",function(){return ie}),a.d(n,"resetAddress",function(){return le}),a.d(n,"resetState",function(){return ue});var r={};a.r(r),a.d(r,"findBusinesses",function(){return Fe}),a.d(r,"setInitialCompanyData",function(){return Pe}),a.d(r,"updateAddressFields",function(){return Ee}),a.d(r,"updateBusinessName",function(){return Re}),a.d(r,"updateStartDate",function(){return De}),a.d(r,"updateContact",function(){return Me}),a.d(r,"updateAddressToModify",function(){return Te}),a.d(r,"updateStatusSendForm",function(){return je}),a.d(r,"resetState",function(){return Le}),a.d(r,"resetAddress",function(){return Ue}),a.d(r,"sendFinalForm",function(){return Be});var s=a(722),o=a(736),i=a(727),l=a(788),u=a(724),c=a(819),d=a(723),m=Object(d.a)(c.a,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"contextDialog",staticClass:"u-inline-block",attrs:{"data-module":"contextdialog","data-config":e.dataConfig}},[e._m(0),e._v(" "),a("div",{staticClass:"u-hidden",attrs:{"data-role":"context-dialog-content"}},[e._t("default")],2)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{attrs:{href:"#","data-role":"context-dialog-link"}},[t("i",{staticClass:"c-icon c-icon--pict-info c-link--info"})])}],!1,null,null,null).exports,v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function f(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}var p,h={components:{contextDialog:m},data:function(){return{formKvkNumber:"",searchInputError:"",kvkNumber:""}},computed:v({},Object(u.d)(["newAddress","results","status","kvk"])),methods:v({},Object(u.b)(["findBusinesses","setInitialCompanyData","resetState"]),{onSearchBusiness:(p=f(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.target.elements.searchInput.value.trim()){e.next=11;break}if(this.resetState(),this.searchInputError="",a=t.target.elements.searchInput.value.trim(),this.validateSearchInput(a))return this.kvkNumber=a,e.next=8,this.findBusinesses(a);e.next=10;break;case 8:e.next=11;break;case 10:this.searchInputError="Controleer het KvK nummer. Een juist KvK nummer heeft 8 getallen.";case 11:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)}),onSelected:function(e){this.setInitialCompanyData(e),this.$router.push({name:"businessdetails"})},nextPageWithoutKvk:function(){this.resetState(),this.$router.push({name:"businessdetails"})},beforeMount:function(){this.resetState()},validateSearchInput:function(e){return!isNaN(e)&&8===e.length}})},_=Object(d.a)(h,function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("div",[n("div",{staticClass:"u-color-background--ultra-light-grey u-padding--30 u-margin-bottom--15"},[n("form",{on:{submit:function(e){return e.preventDefault(),a.onSearchBusiness(e)}}},[n("div",{staticClass:"u-margin-bottom--15"},[n("nn-input-field",{attrs:{name:"searchInput",placeholder:"KVK-nummer",label:"Zoek bedrijf in het KvK Handelsregister",hasSearchButton:!0,searchButtonType:"submit"},model:{value:a.formKvkNumber,callback:function(e){a.formKvkNumber=e},expression:"formKvkNumber"}})],1)]),a._v(" "),n("nn-link",{attrs:{href:"#","data-test":"noKvK"},on:{click:function(e){return e.preventDefault(),a.nextPageWithoutKvk()}}},[a._v("Ik heb geen KVK-nummer")])],1),a._v(" "),a.searchInputError&&"error"!==a.status.find?n("div",[n("alert",{attrs:{type:"error"}},[a._v(a._s(a.searchInputError))])],1):a._e(),a._v(" "),"loading"===a.status.find?n("div",[n("nn-spinner")],1):a._e(),a._v(" "),"error"===a.status.find?n("div",[n("alert",{attrs:{type:"error"}},[a._v("Er is een fout opgetreden, probeer het later nog eens.")])],1):a._e(),a._v(" "),"not-found"===a.status.find?n("div",[n("alert",{attrs:{type:"error"}},[a._v("Dit KVK-nummer is niet helaas niet gevonden.")])],1):a._e(),a._v(" "),"done"===a.status.find?n("div",{staticClass:"u-margin-top--35"},[n("h2",{directives:[{name:"coloredText",rawName:"v-coloredText"}],staticClass:"u-margin--none"},[a._v("Gevonden bedrijven in het KvK Handelsregister")]),a._v(" "),a._m(0),a._v(" "),n("div",{staticClass:"c-scrollablecontainer--horizontal"},[n("table",{staticClass:"c-table"},[n("thead",{staticClass:"c-table__header"},[n("tr",{staticClass:"c-table__header__row"},[n("th",{staticClass:"c-table__header__cell"},[a._v("Bedrijfsnaam")]),a._v(" "),n("th",{staticClass:"c-table__header__cell"},[a._v("\n              Adres in het KvK Handelsregister\n              "),n("context-dialog",{attrs:{side:"bottom"}},[[n("h3",{directives:[{name:"coloredText",rawName:"v-coloredText"}]},[a._v("Adres in KvK Handelsregister")]),a._v(" "),n("p",[a._v("\n                    We tonen ter identificatie hier het adres zoals het bekend is bij de Kamer van Koophandel.\n                    Dit is niet het adres zoals bij Nationale-Nederlanden bekend is.\n                  ")])]],2)],1),a._v(" "),n("th",{staticClass:"c-table__header__cell"},[a._v("KVK-nummer")]),a._v(" "),n("th",{staticClass:"c-table__header__cell"})])]),a._v(" "),n("tbody",{staticClass:"c-table__body"},a._l(a.results,function(t){return n("tr",{staticClass:"c-table__body__row c-table__body__row--hover"},[n("td",{staticClass:"c-table__body__cell c-table__body__cell__linkblock"},[n("a",{staticClass:"c-table__body__cell__link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),a.onSelected(t)}}},[n("span",{staticClass:"u-screen-reader"},[a._v("Selecteer address")])]),a._v(" "),n("span",[a._v(a._s(t.Organisation.OrganisationName))])]),a._v(" "),n("td",{staticClass:"c-table__body__cell c-table__body__cell__linkblock"},[n("a",{staticClass:"c-table__body__cell__link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),a.onSelected(t)}}},[n("span",{staticClass:"u-screen-reader"},[a._v("Selecteer address")])]),a._v(" "),a._m(1,!0),a._v(" "),"object"!=typeof t.Address.Street?n("span",[a._v(a._s(t.Address.Street)+" ")]):n("span",[a._v("Postbus ")]),a._v(" "),"object"!=typeof t.Address.HouseNumber?n("span",[a._v(a._s(t.Address.HouseNumber))]):n("span",[a._v(a._s(t.Address.POBox))]),a._v(" "),"object"!=typeof t.Address.HouseNumberAddition?n("span",[a._v(a._s(t.Address.HouseNumberAddition)),n("br")]):n("span",[n("br")]),a._v(" "),n("span",{staticClass:"u-margin-bottom--10"},[a._v(a._s(t.Address.PostalCode)+", "+a._s(t.Address.City))])]),a._v(" "),n("td",{staticClass:"c-table__body__cell c-table__body__cell__linkblock"},[n("a",{staticClass:"c-table__body__cell__link",attrs:{href:"#","data-test":"selectBusiness"},on:{click:function(e){return e.preventDefault(),a.onSelected(t)}}},[n("span",{staticClass:"u-screen-reader"},[a._v("Selecteer address")])]),a._v(" "),n("span",[a._v(a._s(a.kvkNumber?a.kvkNumber:a.kvk))])]),a._v(" "),n("td",{staticClass:"c-table__body__cell c-table__body__cell__linkblock"},[n("nn-link",{attrs:{href:"#",alt:"businessdetails link"},on:{click:function(e){return e.preventDefault(),a.onSelected(t)}}},[a._v("Selecteer")])],1)])}),0)])])]):a._e()])},[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"u-margin-bottom--30"},[t("span",{staticClass:"u-font-bold"},[this._v("Let op:")]),this._v(" het adres dat getoond wordt is het adres zoals het bekend is bij de Kamer van Koophandel. Geef je nieuwe adres ook aan ons door.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"u-font-bold"},[this._v("Vestigingsadres"),t("br")])}],!1,null,null,null).exports,b=a(42);function y(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}var g,A,C={name:"address-finder",data:function(){return{status:"initial",validationMessage:null,errorType:"error"}},props:{address:{type:Object,required:!0}},watch:{address:{handler:function(e,t){t.houseNumber===e.houseNumber&&t.postalCode===e.postalCode&&t.houseNumberAddition===e.houseNumberAddition||this.onCheckAddress(e)},deep:!0}},methods:{onCheckAddress:(g=y(regeneratorRuntime.mark(function e(t){var a,n,r,s=t.houseNumber,o=t.postalCode,i=t.houseNumberAddition;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&o)return e.prev=1,this.status="loading",this.validationMessage=null,e.next=6,k(s,o,i);e.next=17;break;case 6:a=e.sent,n=a.street,r=a.city,this.status="done",this.$emit("onAddressFound",{street:n,city:r}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),this.status="error","NOTFOUND"===e.t0.message?(this.validationMessage='De ingevoerde combinatie van "Huisnummer" en "postcode" is onbekend. Controleer uw gegevens of vul deze zelf verder aan.',this.errorType="info",this.$emit("onAddressNotFound")):(this.validationMessage="Er is een onbekende fout opgetreden, probeer het later nog eens",this.errorType="error",this.$emit("onError",e.t0));case 17:case"end":return e.stop()}},e,this,[[1,13]])})),function(e){return g.apply(this,arguments)})}},k=(A=y(regeneratorRuntime.mark(function e(t,a,n){var r,s,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={CheckPostalCodeREQ:{PostalAddress:{HouseNumber:t,HouseNumberAddition:n,Postalcode:a,CountryCode:"nl"}}},e.next=3,fetch("/api/c0/execute/WebEnvironment/CheckPostalCode",{method:"POST",body:JSON.stringify(r)});case 3:return s=e.sent,e.next=6,s.json();case 6:if("OK"===(o=e.sent).CheckPostalCodeRLY.ReplyEnvelope.returnCode)return i="POSTBUS"===o.CheckPostalCodeRLY.PostalAddress.Street_tpg?"Postbus":o.CheckPostalCodeRLY.PostalAddress.Street,e.abrupt("return",{street:i,city:o.CheckPostalCodeRLY.PostalAddress.City});e.next=10;break;case 10:throw new Error("NOTFOUND");case 11:case"end":return e.stop()}},e,void 0)})),function(e,t,a){return A.apply(this,arguments)}),w=Object(d.a)(C,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("label",{staticClass:"c-form-label"},[e._v("Adres")]),e._v(" "),"initial"===e.status?a("div",{staticClass:"u-font-bold"},[e.address.houseNumber&&e.address.postalCode?a("div",[e.address.street?a("span",[e._v(e._s(e.address.street))]):a("span",[e._v("Postbus ")]),e._v("                 \n      "+e._s(e.address.houseNumber)+" "+e._s(e.address.houseNumberAddition)+", "+e._s(e.address.city)+"\n    ")]):a("div",[e._v("Na het invoeren van uw postcode en huisnummer zal hier het adres getoond worden.")])]):e._e(),e._v(" "),"loading"===e.status?a("div",{staticClass:"u-font-bold"},[a("nn-spinner")],1):e._e(),e._v(" "),"done"===e.status?a("div",{staticClass:"u-font-bold"},[e.address.street?a("span",[e._v(e._s(e.address.street))]):a("span",[e._v("Postbus ")]),e._v("                 \n    "+e._s(e.address.houseNumber)+" "+e._s(e.address.houseNumberAddition)+", "+e._s(e.address.city)+"\n  ")]):e._e(),e._v(" "),e.validationMessage?a("div",[a("alert",{attrs:{type:e.errorType}},[e._v(e._s(e.validationMessage))])],1):e._e()])},[],!1,null,null,null).exports,N=a(761),x=/^[0-9]{4} *[a-zA-Z]{2}$/,S={addressLineOne:function(e){return{valid:!!e.trim(),message:"Vul je adres in"}},houseNumber:function(e){return{valid:!!e.trim(),message:"Vul je huisnummer in"}},street:function(e){return{valid:!!e.trim(),message:"Vul je straat in"}},city:function(e){return{valid:!!e.trim(),message:"Vul je straat plaatsnaam in"}},postalCode:function(e){return e.trim()?{valid:x.test(e),message:"Vul een postcode van 4 cijfes en 2 letters in."}:{valid:!1,message:"Vul je postcode in."}}};function O(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}var F,P=a(1087),E={name:"address-block",mixins:[Object(N.a)(S)],data:function(){return{formFilled:!1,findAddressError:!1,addressNotFound:!1,countries:P,addressLineTwo:"",addressLineOne:"",region:""}},components:{addressFinder:w},props:{address:{type:Object,required:!0},title:String,blockLabelsId:{type:String,required:!0}},mounted:function(){this.address.postalCode&&this.address.houseNumber&&(this.formFilled=!0),this.checkRequiredValidation()},beforeDestroy:function(){this.$emit("onFieldsValidated",{isValid:!0})},methods:{validatePostCodeAfterCheck:function(e,t){"NL"===this.address.countryCode?this.validateFormElement(e,t):4<=t.trim().length?this.validationResults[e]={valid:!0,message:""}:this.validationResults[e]={valid:!1,message:"Vul je postcode in."}},onUpdateAddressField:function(e,t){var a,n,r;this.formFilled=!1,this.$emit("onAddressInput",(a={},n=t.target.name,r=t.target.value,n in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a)),this.checkRequiredValidation()},onUpdateForeignAddressField:function(){var e=this.addressLineOne+" "+this.addressLineTwo+" "+this.region;this.$emit("onAddressInput",{street:e}),this.checkRequiredValidation()},onUpdateSelectedCountry:function(e){this.formFilled=!1,this.resetAddressBlock(),this.$emit("onAddressInput",{countryCode:e})},onAddressFound:function(e){var t=e.street,a=e.city;this.formFilled=!0,this.$emit("onFieldsValidated",{isValid:!0}),this.addressNotFound=!1,this.findAddressError=!1,this.$emit("onAddressFound",{street:t,city:a})},onAddressFoundError:function(){return this.addressNotFound=!1,this.findAddressError=!0,b.c},onAddressNotFound:function(){this.formFilled=!1,this.addressNotFound=!0,this.findAddressError=!1},onFormValidation:(F=O(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!this.findAddressError,e.t0)return e.next=4,this.$validator.validate();e.next=5;break;case 4:e.t0=e.sent;case 5:return t=e.t0,e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)})),function(){return F.apply(this,arguments)}),runValidations:function(){return this.validatePostCodeAfterCheck("postalCode",this.address.postalCode),"NL"===this.address.countryCode?(this.validateFormElement("houseNumber",this.address.houseNumber),this.addressNotFound&&(this.validateFormElement("city",this.address.city),this.validateFormElement("street",this.address.street))):(this.validateFormElement("addressLineOne",this.addressLineOne),this.validateFormElement("city",this.address.city)),this.checkRequiredValidation()},checkRequiredValidation:function(){var e=!1;return"NL"===this.address.countryCode?(e=!!this.formFilled&&!(this.findAddressError||!this.isFormFieldValid(["houseNumber","city","street"])),this.addressNotFound&&this.address.street&&this.address.city&&(e=!0)):this.isFormFieldValid(["addressLineOne","city"])&&(e=!0),this.$emit("onFieldsValidated",{isValid:e}),e},isFormFieldValid:function(e){for(var t=0;t<e.length;t++){var a=e[t];if(!this.validationResults[a].valid)return!1}return!0},resetAddressBlock:function(){this.$emit("onResetAddress"),this.findAddressError=!1,this.addressNotFound=!1,this.addressLineTwo="",this.addressLineOne="",this.region=""}}},R=Object(d.a)(E,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-10 o-layout__col-s-8 o-layout__col-m-6 o-layout__col-l-8 u-margin-bottom--30"},[a("nn-dropdown",{attrs:{options:t.countries,value:t.address.countryCode,label:"Land"},on:{change:t.onUpdateSelectedCountry}})],1)]),t._v(" "),"NL"!==t.address.countryCode?a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-10 u-margin-bottom--30"},[a("nn-input-field",{staticClass:"u-margin-bottom",attrs:{name:"addressLineOne",id:"addressLineOne-"+t.blockLabelsId,label:"Adres",invalid:!t.isValidatedAndValid("addressLineOne"),error:t.validationMessage("addressLineOne"),required:""},on:{change:t.onUpdateForeignAddressField,blur:function(e){return t.validateFormElement("addressLineOne",e.target.value)},keydownEnter:function(e){return t.validateFormElement("addressLineOne",e.target.value)}},model:{value:t.addressLineOne,callback:function(e){t.addressLineOne=e},expression:"addressLineOne"}}),t._v(" "),a("nn-input-field",{attrs:{name:"addressLineTwo",id:"addressLineTwo-"+t.blockLabelsId,addValidationIconPlaceholder:!0},on:{change:t.onUpdateForeignAddressField},model:{value:t.addressLineTwo,callback:function(e){t.addressLineTwo=e},expression:"addressLineTwo"}})],1)]):t._e(),t._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-10 o-layout__col-s-8 o-layout__col-m-6 o-layout__col-l-8 u-margin-bottom--30"},[a("nn-input-field",{attrs:{name:"postalCode",label:"Postcode",id:"postalCode-"+t.blockLabelsId,value:t.address.postalCode,required:"",invalid:!t.isValidatedAndValid("postalCode"),error:t.validationMessage("postalCode")},on:{blur:function(e){return t.validatePostCodeAfterCheck("postalCode",e.target.value)},keydownEnter:function(e){return t.validatePostCodeAfterCheck("postalCode",e.target.value)},change:t.onUpdateAddressField}})],1)]),t._v(" "),"NL"===t.address.countryCode?a("div",[a("div",{staticClass:"o-layout__row u-flex u-flex--end"},[a("div",{staticClass:"o-layout__col-xs-5 o-layout__col-s-8 o-layout__col-m-6 o-layout__col-l-4 u-margin-bottom--30"},[a("nn-input-field",{attrs:{name:"houseNumber",label:"Huisnummer",id:"houseNumber-"+t.blockLabelsId,required:"",value:t.address.houseNumber,invalid:!t.isValidatedAndValid("houseNumber"),error:t.validationMessage("houseNumber")},on:{change:t.onUpdateAddressField,blur:function(e){return t.validateFormElement("houseNumber",e.target.value)},keydownEnter:function(e){return t.validateFormElement("houseNumber",e.target.value)}}})],1),t._v(" "),a("div",{staticClass:"o-layout__col-xs-5 o-layout__col-s-4 o-layout__col-m-6 o-layout__col-l-4 u-margin-bottom--30"},[a("nn-input-field",{attrs:{name:"houseNumberAddition",id:"addressLineTwo-"+t.blockLabelsId,label:"Toevoeging (optioneel)",value:t.addressLineTwo,addValidationIconPlaceholder:!0},on:{change:t.onUpdateForeignAddressField}})],1)]),t._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-12 div u-margin-bottom--30"},[a("address-finder",{attrs:{address:t.address},on:{onAddressFound:t.onAddressFound,onError:t.onAddressFoundError,onAddressNotFound:t.onAddressNotFound}})],1)]),t._v(" "),t.addressNotFound?a("div",[a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-10 o-layout__col-s-8 o-layout__col-m-6 o-layout__col-l-8 u-margin-bottom--30"},[a("nn-input-field",{attrs:{name:"street",label:"Straat",id:"street-"+t.blockLabelsId,value:t.address.street,required:"",invalid:!t.isValidatedAndValid("street"),error:t.validationMessage("street")},on:{change:t.onUpdateAddressField,blur:function(e){return t.validateFormElement("street",e.target.value)},keydownEnter:function(e){return t.validateFormElement("street",e.target.value)}}})],1)])]):t._e()]):t._e(),t._v(" "),t.addressNotFound||"NL"!==t.address.countryCode?a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-10 o-layout__col-s-8 o-layout__col-m-6 o-layout__col-l-8 u-margin-bottom--30"},[a("nn-input-field",{attrs:{name:"city",label:"Plaatsnaam",id:"city-"+t.blockLabelsId,value:t.address.city,required:"",invalid:!t.isValidatedAndValid("city"),error:t.validationMessage("city")},on:{change:t.onUpdateAddressField,blur:function(e){return t.validateFormElement("city",e.target.value)},keydownEnter:function(e){return t.validateFormElement("city",e.target.value)}}})],1)]):t._e(),t._v(" "),"NL"!==t.address.countryCode?a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-10 o-layout__col-s-8 o-layout__col-m-6 o-layout__col-l-8 u-margin-bottom--30"},[a("nn-input-field",{attrs:{name:"region",label:"Regio (optioneel)",id:"region-"+t.blockLabelsId,value:t.region,addValidationIconPlaceholder:!0},on:{change:t.onUpdateForeignAddressField}})],1)]):t._e()])},[],!1,null,null,null).exports,D=a(820),M=Object(d.a)(D.a,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("label",{staticClass:"c-form-label",attrs:{for:"datepicker"}},[t._v("\n    Datum\n  ")]),t._v(" "),a("div",{staticClass:"o-flex"},[a("div",{staticClass:"o-flex__col"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],ref:"datepicker",staticClass:"c-form-text c-datepicker",attrs:{id:"datepicker",type:"text",name:t.name,placeholder:"dd-mm-jjjj","data-component":"DatepickerField","data-date-picker-toggle":"true","data-vv-validate-on":"change","data-end-date":t.monthsFromToday(6),"data-start-date":t.monthsFromToday(-3)},domProps:{value:t.value},on:{change:function(e){return t.$emit("change",e)}}})]),t._v(" "),a("div",{staticClass:"o-flex__col o-flex__col--auto  o-flex__col--icon"},[t.validationMessage?a("span",{staticClass:"c-icon c-icon--pict-warning u-color--medium-orange u-font-size-m"}):a("span",{staticClass:"c-icon u-color--medium-orange u-font-size-m c-icon--check",class:[t.value?"":"u-invisible"]})])]),t._v(" "),t.validationMessage?a("div",{staticClass:"u-color--medium-orange u-font-bold u-margin-top--5",attrs:{"data-test":"form-errorMessage"}},[t._v("\n    "+t._s(t.validationMessage)+"\n  ")]):t._e()])},[],!1,null,null,null).exports,T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function j(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function U(e){return!!e&&!!e.trim()}var L={components:{addressBlock:R,datepicker:M},provide:function(){return{$validator:this.$validator}},data:function(){return{showNotificationNoAddressSelected:!1,formErrors:{},checkboxesAddressType:[{id:"mainAddress",label:"Nieuw vestigingsadres"},{id:"postAddress",label:"Nieuw postadres"}]}},computed:T({},Object(u.d)(["newAddress","oldAddress","kvk","name","results","status","startDate","addressesToModify"])),methods:T({},Object(u.b)(["updateAddressFields","updateStartDate","updateBusinessName","updateAddressToModify","resetAddress"]),{updateModificationAddressType:function(e,t){this.showNotificationNoAddressSelected=!1,this.updateAddressToModify({name:t.target.name,value:e})},_updateAddressFields:function(e,t,a){this.updateAddressFields({key:e,type:t,addressFields:a})},_resetAddress:function(e,t){this.resetAddress({key:e,type:t})},_updateStartDate:function(e){this.formErrors.startDate="",this.updateStartDate(e)},validateFormElement:function(e,t){this.formErrors=T({},this.formErrors,j({},t,!event.target.value.trim()))},validatedAdressblock:function(e,t){this.formErrors=T({},this.formErrors,j({},e,!t.isValid))},isFormDataValid:function(){if(!this.addressesToModify.mainAddress&&!this.addressesToModify.postAddress)return!(this.showNotificationNoAddressSelected=!0);var e=!0;for(var t in this.$refs)this.$refs[t]&&!this.$refs[t].runValidations()&&e&&(e=!1);for(var a in(this.addressesToModify.mainAddress||this.addressesToModify.postAddress)&&(this.formErrors.startDate=this.startDate?"":"Denkt u aan het invullen van dit veld",this.formErrors.Bedrijfsnaam=!this.name.trim()),this.formErrors)this.formErrors.hasOwnProperty(a)&&this.formErrors[a]&&(e=!1);return e}}),beforeRouteLeave:function(e,t,a){"contactdetails"===e.name?this.isFormDataValid()&&a():a()}},B=Object(d.a)(L,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"o-layout"},[a("h2",[t._v("Welke adreswijziging(en) wil je aan ons doorgeven?")]),t._v(" "),a("nn-checkbox-group",{attrs:{mode:"vertical"}},t._l(t.checkboxesAddressType,function(e){return a("nn-checkbox",{key:e.id,attrs:{name:e.id,value:t.addressesToModify[e.id]},on:{change:t.updateModificationAddressType}},[t._v(t._s(e.label))])}),1),t._v(" "),a("div",{staticClass:"o-layout__row u-margin-bottom"},[a("div",{staticClass:"o-layout__col-xs-12 o-layout__col-m-9"},[a("nn-notification",{attrs:{type:"error"},model:{value:t.showNotificationNoAddressSelected,callback:function(e){t.showNotificationNoAddressSelected=e},expression:"showNotificationNoAddressSelected"}},[t._v("Kies een adres dat je wilt wijzigen.")])],1)]),t._v(" "),a("hr"),t._v(" "),a("transition",{attrs:{name:"slide"}},[t.addressesToModify.mainAddress||t.addressesToModify.postAddress?a("div",{staticClass:"o-layout__row u-margin-bottom--40"},[a("div",{staticClass:"o-layout__col-xs-12 o-layout__col-m-4"},[a("h2",[t._v("Bedrijfsgegevens")]),t._v(" "),a("nn-input-field",{attrs:{name:"name",id:"business-name",value:t.name,label:"Bedrijfsnaam",required:!0,invalid:!!t.formErrors.Bedrijfsnaam,error:"Vul je bedrijfsnaam in",readonly:0<t.kvk.length},on:{input:function(e){return t.updateBusinessName(e)},blur:function(e){return t.validateFormElement(e,"Bedrijfsnaam")},"keyup-enter":function(e){return t.validateFormElement(e,"Bedrijfsnaam")}}})],1)]):t._e()]),t._v(" "),a("transition",{attrs:{name:"slide"}},[t.addressesToModify.mainAddress||t.addressesToModify.postAddress&&!t.addressesToModify.mainAddress?a("div",{staticClass:"o-layout__row u-margin-bottom--40"},[t.kvk?t._e():a("div",{staticClass:"o-layout__col-xs-12 o-layout__col-m-6"},[t.addressesToModify.mainAddress?a("h2",[t._v("Oud vestigingsadres")]):a("h2",[t._v("Vestigingsadres")]),t._v(" "),a("address-block",{ref:"oldMainAddress",attrs:{title:"Oud adres",blockLabelsId:"oldMainAddress",address:t.oldAddress.mainAddress,"data-test":"oldMainAddressBlock"},on:{onAddressInput:function(e){return t._updateAddressFields("oldAddress","mainAddress",e)},onAddressFound:function(e){return t._updateAddressFields("oldAddress","mainAddress",e)},onResetAddress:function(e){return t._resetAddress("oldAddress","mainAddress")},onFieldsValidated:function(e){return t.validatedAdressblock("oldMainAddress",e)}}})],1),t._v(" "),t.addressesToModify.mainAddress?a("div",{staticClass:"o-layout__col-xs-12 o-layout__col-m-6"},[a("h2",[t._v("Nieuw vestigingsadres")]),t._v(" "),a("address-block",{ref:"newMainAddress",attrs:{title:"Nieuw adres",blockLabelsId:"mainAddress",address:t.newAddress.mainAddress,"data-test":"newMainAddressBlock"},on:{onAddressInput:function(e){return t._updateAddressFields("newAddress","mainAddress",e)},onAddressFound:function(e){return t._updateAddressFields("newAddress","mainAddress",e)},onResetAddress:function(e){return t._resetAddress("newAddress","mainAddress")},onFieldsValidated:function(e){return t.validatedAdressblock("mainAddress",e)}}})],1):t._e()]):t._e()]),t._v(" "),a("transition",{attrs:{name:"slide"}},[t.addressesToModify.postAddress?a("div",{staticClass:"o-layout__row u-margin-bottom--40"},[a("div",{staticClass:"o-layout__col-xs-12 o-layout__col-m-6"},[a("h2",[t._v("Nieuw postadres")]),t._v(" "),a("address-block",{ref:"newpostAddress",attrs:{title:"Nieuw postadres",addressType:"postAddress",blockLabelsId:"postAddress",address:t.newAddress.postAddress,"data-test":"newPostAddressBlock"},on:{onAddressInput:function(e){return t._updateAddressFields("newAddress","postAddress",e)},onAddressFound:function(e){return t._updateAddressFields("newAddress","postAddress",e)},onResetAddress:function(e){return t._resetAddress("newAddress","postAddress")},onFieldsValidated:function(e){return t.validatedAdressblock("postAddress",e)}}})],1)]):t._e()]),t._v(" "),t.addressesToModify.mainAddress||t.addressesToModify.postAddress?a("div",{staticClass:"o-layout__row u-margin-bottom--40"},[t._m(0),t._v(" "),a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-4 u-margin-bottom--30"},[a("datepicker",{attrs:{value:t.startDate,validationMessage:t.formErrors.startDate,name:"startDate"},on:{change:function(e){return t._updateStartDate(e.target.value)}}})],1),t._v(" "),a("hr")]):t._e()],1),t._v(" "),a("div",{staticClass:"u-margin-top--20"},[a("nn-button",{attrs:{variant:"back",to:"/"}},[t._v("Terug")]),t._v(" "),a("nn-button",{staticClass:"pull-right c-button--enabled",attrs:{variant:"next",name:"forward",to:"/contactdetails","data-test":"forwardButton"}},[t._v("\n      Volgende stap\n    ")])],1)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"o-layout__col-xs-12"},[t("h2",[this._v("Ingangsdatum adreswijziging")])])}],!1,null,null,null).exports,I=/^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6})*$/,V=/^\+[0-9]{2}|^\+[0-9]{2}\(0\)|^\(\+[0-9]{2}\)\(0\)|^00[0-9]{2}|^0[0-9]{9}$|[0-9\-\s]{10}$/,$={firstName:function(e){return{valid:U(e),message:"Denkt u aan het invullen van dit veld"}},lastName:function(e){return{valid:U(e),message:"Denkt u aan het invullen van dit veld"}},emailAddress:function(e){return U(e)?{valid:I.test(e),message:"Vul een email adres in"}:{valid:!1,message:"Denkt u aan het invullen van dit veld"}},phoneNumber:function(e){return U(e)?{valid:V.test(e),message:"Vul een geldig telefoonnummer in"}:{valid:!0,message:""}}},q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};var G={mixins:[Object(N.a)($)],data:function(){return{selected:this.$store.state.contact.salutation}},computed:q({},Object(u.d)(["status","contact","name"])),methods:q({},Object(u.b)(["updateContact","updateStatusSendForm"]),{onUpdateContact:function(e,t){var a,n,r,s=q({},this.$store.state.contact,(a={},n=t.target.name,r=t.target.value,n in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a));this.updateContact(s)},validateAndUpdateFormElement:function(e,t){this.validateFormElement(t,e.target.value),this.onUpdateContact(e.target.value,e)}}),mounted:function(){this.name||this.$router.push("/")},beforeRouteLeave:function(e,t,a){"review"===e.name&&this.isFormValid?(this.validateForm(this.contact),this.isFormValid&&(this.updateStatusSendForm(),a())):a()}},K=Object(d.a)(G,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.contact?a("div",{staticClass:"o-layout"},[a("h2",[t._v("Wat zijn je contactgegevens?")]),t._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-9 o-layout__col-m-6"},[a("div",{staticClass:"u-margin-bottom--30"},[a("nn-input-field",{attrs:{name:"firstName",value:t.contact.firstName,label:"Voornaam",required:!0,invalid:!t.isValidatedAndValid("firstName"),error:t.validationMessage("firstName")},on:{blur:function(e){return t.validateAndUpdateFormElement(e,"firstName")},"keyup-enter":function(e){return t.validateAndUpdateFormElement(e,"firstName")}}})],1)])]),t._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-9 o-layout__col-m-6"},[a("div",{staticClass:"u-margin-bottom--30"},[a("nn-input-field",{attrs:{name:"preposition",value:t.contact.preposition,label:"Tussenvoegsels (optioneel)"},on:{change:t.onUpdateContact}})],1)])]),t._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-9 o-layout__col-m-6"},[a("div",{staticClass:"u-margin-bottom--30"},[a("nn-input-field",{attrs:{name:"lastName",value:t.contact.lastName,label:"Achternaam",required:!0,invalid:!t.isValidatedAndValid("lastName"),error:t.validationMessage("lastName")},on:{blur:function(e){return t.validateAndUpdateFormElement(e,"lastName")},"keyup-enter":function(e){return t.validateAndUpdateFormElement(e,"lastName")}}})],1)])]),t._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-9 o-layout__col-m-6 "},[a("div",{staticClass:"u-margin-bottom--30"},[a("nn-input-field",{attrs:{name:"phoneNumber",value:t.contact.phoneNumber,label:"Telefoonnummer (optioneel)",invalid:!t.isValidatedAndValid("phoneNumber"),error:t.validationMessage("phoneNumber")},on:{change:t.onUpdateContact,blur:function(e){return t.validateAndUpdateFormElement(e,"phoneNumber")},"keyup-enter":function(e){return t.validateAndUpdateFormElement(e,"phoneNumber")}}})],1)])]),t._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-9 o-layout__col-m-6"},[a("div",{staticClass:"u-margin-bottom--30"},[a("nn-input-field",{attrs:{name:"emailAddress",value:t.contact.emailAddress,label:"E-mailadres",required:!0,invalid:!t.isValidatedAndValid("emailAddress"),error:t.validationMessage("emailAddress")},on:{blur:function(e){return t.validateAndUpdateFormElement(e,"emailAddress")},"keyup-enter":function(e){return t.validateAndUpdateFormElement(e,"emailAddress")}}})],1)])])]):t._e(),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"u-margin-top--20"},[a("nn-button",{attrs:{variant:"back",to:"/businessdetails"}},[t._v("Terug")]),t._v(" "),a("nn-button",{staticClass:"pull-right c-button--enabled",attrs:{variant:"next",name:"forward",to:"/review","data-test":"forwardButton"}},[t._v("Volgende stap")])],1)])},[],!1,null,null,null).exports,z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},H={computed:z({},Object(u.d)(["addressesToModify","newAddress","oldAddress","status","startDate","contact","name","kvk"])),methods:z({},Object(u.b)(["sendFinalForm"]),{sendForm:function(){this.sendFinalForm()}}),mounted:function(){this.name||this.$router.push("/")}},Z=Object(d.a)(H,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["initial"==t.status.sendForm||"error"==t.status.sendForm?a("div",[a("h4",[t._v("Bedrijfsgegevens")]),t._v(" "),a("div",{staticClass:"o-layout u-margin-bottom--30"},[a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-4"},[t._v("\n          Bedrijfsnaam:\n        ")]),t._v(" "),a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-6"},[t._v("\n          "+t._s(t.name)+"\n        ")])]),t._v(" "),""!==t.kvk?a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-4"},[t._v("\n          KVK-nummer:\n        ")]),t._v(" "),a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-3"},[t._v("\n          "+t._s(t.kvk)+"\n        ")])]):t._e(),t._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-s-12"},["error"===t.status.sendForm?a("alert",{staticClass:"u-margin-bottom--30",attrs:{type:"error"}},[a("span",[t._v("Versturen van uw formulier is mislukt. Probeer het alstublieft nogmaals.")])]):t._e()],1)]),t._v(" "),t.addressesToModify.mainAddress||t.addressesToModify.postAddress&&!t.addressesToModify.mainAddress?a("div",[a("div",{staticClass:"o-layout__row"},[t.addressesToModify.mainAddress?a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-4"},[t._v("\n            Oud vestigingsadres:\n          ")]):a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-4"},[t._v("\n            Vestigingsadres:\n          ")]),t._v(" "),a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-6"},[a("div",[t._v(t._s(t.oldAddress.mainAddress.street)+" "+t._s(t.oldAddress.mainAddress.houseNumber)+" "+t._s(t.oldAddress.mainAddress.houseNumberAddition)+"\n            ")]),t._v(" "),a("div",[t._v(t._s(t.oldAddress.mainAddress.postalCode)+", "+t._s(t.oldAddress.mainAddress.city))])])]),t._v(" "),t.addressesToModify.mainAddress?a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-4"},[t._v("\n            Nieuw vestigingsadres:\n          ")]),t._v(" "),a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-6"},[a("div",[t._v(t._s(t.newAddress.mainAddress.street)+" "+t._s(t.newAddress.mainAddress.houseNumber)+" "+t._s(t.newAddress.mainAddress.houseNumberAddition))]),t._v(" "),a("div",[t._v(t._s(t.newAddress.mainAddress.postalCode)+", "+t._s(t.newAddress.mainAddress.city))])])]):t._e()]):t._e(),t._v(" "),t.addressesToModify.postAddress?a("div",[a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-4"},[t._v("\n            Nieuw postadres:\n          ")]),t._v(" "),a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-6"},[a("div",[t._v(t._s(t.newAddress.postAddress.street)+" "+t._s(t.newAddress.postAddress.houseNumber)+" "+t._s(t.newAddress.postAddress.houseNumberAddition))]),t._v(" "),a("div",[t._v(t._s(t.newAddress.postAddress.postalCode)+", "+t._s(t.newAddress.postAddress.city))])])])]):t._e()]),t._v(" "),a("h4",[t._v("Contactgegevens")]),t._v(" "),a("div",{staticClass:"o-layout u-margin-bottom--30"},[a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-4"},[t._v("\n          Voornaam:\n        ")]),t._v(" "),a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-3"},[t._v("\n          "+t._s(t.contact.firstName)+"\n        ")])]),t._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-4"},[t._v("\n          Achternaam:\n        ")]),t._v(" "),a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-6"},[t._v("\n          "+t._s(t.contact.preposition)+" "+t._s(t.contact.lastName)+"\n        ")])]),t._v(" "),""!==t.contact.phoneNumber?a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-4"},[t._v("\n          Telefoonnummer:\n        ")]),t._v(" "),a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-3"},[t._v("\n          "+t._s(t.contact.phoneNumber)+"\n        ")])]):t._e(),t._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-4"},[t._v("\n          E-mailadres:\n        ")]),t._v(" "),a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-6"},[t._v("\n          "+t._s(t.contact.emailAddress)+"\n        ")])])]),t._v(" "),a("h4",[t._v("Ingangsdatum")]),t._v(" "),a("div",{staticClass:"o-layout u-margin-bottom--30"},[a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-3"},[t._v("\n          "+t._s(t.startDate)+"\n        ")])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"u-margin-top--20"},[a("nn-button",{attrs:{variant:"back",to:"/contactdetails"}},[t._v("Terug")]),t._v(" "),a("nn-button",{staticClass:"pull-right",attrs:{variant:"next"},on:{click:function(e){return t.sendForm()}}},[t._v("Verzenden")])],1)]):t._e(),t._v(" "),"loading"==t.status.sendForm?a("div",[a("nn-spinner")],1):t._e(),t._v(" "),"done"==t.status.sendForm?a("div",[a("h4",[t._v("Uw bedrijfsgegevens zijn ontvangen")]),t._v(" "),t._m(0)]):t._e()])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"o-layout u-margin-bottom--20"},[t("div",{staticClass:"o-layout__row"},[t("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-6"},[this._v("\n          We hebben uw nieuwe bedrijfsgegevens in goede orde ontvangen en zullen deze zo snel mogelijk verwerken. U\n          ontvangt binnen 5 werkdagen een brief met een bevestiging.\n        ")])])])}],!1,null,null,null).exports,W=function(){return s.default.use(l.a),new l.a({routes:[{path:"/",name:"find",component:_},{path:"/businessdetails",name:"businessdetails",component:B},{path:"/contactdetails",name:"contactdetails",component:K},{path:"/review",name:"review",component:Z},{path:"*",redirect:"/"}]})},J=(a(750),Object(d.a)({data:function(){return{steps:[{name:"Zoek bedrijf",to:"find"},{name:"Bedrijfsgegevens",to:"businessdetails"},{name:"Contactgegevens",to:"contactdetails"},{name:"Controleer & Verzend",to:"review"}]}},computed:{currentStep:function(){var t=this,e=this.steps.find(function(e){return t.$route&&e.to===t.$route.name});return this.steps.indexOf(e)}}},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("nn-stepper",{attrs:{steps:e.steps,activeStep:e.currentStep}}),e._v(" "),a("router-view")],1)},[],!1,null,null,null).exports),Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Q=function(e,t){e[t.addressKey][t.addressType]=t.address},X=function(e,t){var a=t.key,n=t.type,r=t.addressFields;e[a][n]=Y({},e[a][n],r)},ee=function(e,t){e.oldAddress=t.address,e.kvk=t.kvk,e.name=t.name},te=function(e,t){e.results=t},ae=function(e,t){e.status.find=t},ne=function(e,t){e.name=t},re=function(e,t){e.startDate=t},se=function(e,t){e.contact=t},oe=function(e,t){var a=t.name,n=t.value;e.addressesToModify[a]=n},ie=function(e,t){e.status.sendForm=t},le=function(e,t){var a=t.key,n=t.type;e[a][n].street="",e[a][n].city="",e[a][n].postalCode="",e[a][n].houseNumber="",e[a][n].houseNumberAddition="",e[a][n].pOBox=""},ue=function(t){var a=Y({},Ve());Object.keys(a).forEach(function(e){return t[e]=a[e]})};function ce(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}var de,me,ve=(de=ce(regeneratorRuntime.mark(function e(t){var a,n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=fe(t),e.next=3,fetch("/api/c0/execute/CustomerAdministration/FindKVKDataForAll",{method:"POST",body:JSON.stringify(a)});case 3:return n=e.sent,e.next=6,n.json();case 6:if("OK"===(r=e.sent).FindKVKData_Response.Result.Status)return s=(s=r.FindKVKData_Response.BusinessPartner)?s&&s.constructor===Array?s:[r.FindKVKData_Response.BusinessPartner]:[],e.abrupt("return",s);e.next=11;break;case 11:throw new Error(r.FindKVKData_Response);case 12:case"end":return e.stop()}},e,void 0)})),function(e){return de.apply(this,arguments)}),fe=function(e){return{FindKVKData_Request:{KVKNumber:e}}},pe=(me=ce(regeneratorRuntime.mark(function e(t){var a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=he(t),e.next=3,fetch("/api/c0/execute/CustomerAdministration/RequestMovement2ForAll",{method:"POST",body:JSON.stringify(a)});case 3:return n=e.sent,e.next=6,n.json();case 6:if("OK"===e.sent.RequestMovement_Response.Result.Status)return e.abrupt("return",!0);e.next=9;break;case 9:throw new Error("Endpoint Error");case 10:case"end":return e.stop()}},e,void 0)})),function(e){return me.apply(this,arguments)}),he=function(e){var t=Ae();return{RequestMovement_Request:{MessageID:Ce(e.kvk),RequestMovement_Action:{RequestEnvelope:{TransactionDate:ge(),TimeStamp:t,AuditTrail:{EventType:"VerhuizingZakelijk",From:"",SourceSystem:"NN",ProcessID:"",TimeStampProcess:t}},BusinessPartner:{Identification:{IdentificationNumber:{IdentificationType:"ZKVK",IdentificationNumber:e.kvk}},Organisation:{OrganisationName:e.name,Contactperson:{Person:{LastNamePrefix:e.contact.preposition,LastName:e.contact.lastName,FirstName:e.contact.firstName},ContactInformation:{TelephoneNumber:e.contact.phoneNumber,EmailAddresses:{EmailAddress:e.contact.emailAddress}}}}},Movement:{MovementDate:ye(e.startDate),Addresses:_e(e)}}}}},_e=function(e){var t=[],a={AddressType:"XXDEFAULT",OldAddress:be(e,"oldAddress","mainAddress")};return e.addressesToModify.mainAddress&&(a.NewAddress=be(e,"newAddress","mainAddress")),t.push(a),e.addressesToModify.postAddress&&t.push({AddressType:"Z_POSTAD",NewAddress:be(e,"newAddress","postAddress")}),t},be=function(e,t,a){return{PostalCode:e[t][a].postalCode,HouseNumber:e[t][a].houseNumber,HouseNumberAddition:e[t][a].houseNumberAddition,Street:e[t][a].street,City:e[t][a].city,Country:e[t][a].countryCode}},ye=function(e){return e.split("-").reverse().join("-")},ge=function(){return Ae().split("T").shift()},Ae=function(){return(new Date).toISOString()},Ce=function(e){return e+(new Date).getTime()+Math.floor(1e7*Math.random()+1)},ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,s=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw s}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ne=function(e,t){var a={};a.kvk=t;var n={},r=!0,s=!1,o=void 0;try{for(var i,l=Object.entries(e.Address)[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value,c=we(u,2),d=c[0],m=c[1],v=d.charAt(0).toLowerCase()+d.substring(1);"object"===(void 0===m?"undefined":ke(m))&&0===Object.keys(m).length?n[v]="":n[v]=m}}catch(e){s=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(s)throw o}}return a.mainAddress=n,a.postAddress={street:"",postalCode:"",city:"",countryCode:"NL",houseNumber:"",houseNumberAddition:"",pOBox:""},a.name=e.Organisation.OrganisationName,!a.mainAddress.houseNumber&&a.mainAddress.pOBox&&(a.mainAddress.houseNumber=a.mainAddress.pOBox,a.mainAddress.street="Postbus"),a};function xe(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}var Se,Oe,Fe=(Se=xe(regeneratorRuntime.mark(function e(t,a){var n,r=t.commit;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r("updateStatusFind","loading"),e.next=4,ve(a);case 4:0<(n=e.sent).length?(n.kvkNumber=a,r("setResults",n),r("updateStatusFind","done")):(r("setResults",[]),r("updateStatusFind","not-found")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),Object(b.c)(e.t0),r("setResults",[]),r("updateStatusFind","error");case 13:case"end":return e.stop()}},e,void 0,[[0,8]])})),function(e,t){return Se.apply(this,arguments)}),Pe=function(e,t){var a,n,r=e.commit,s=e.state,o=(a=t,n=s.results,Ne(n.find(function(e){return e===a}),n.kvkNumber));r("setInitialCompanyData",{address:{mainAddress:o.mainAddress,postAddress:o.postAddress},kvk:o.kvk,name:o.name})},Ee=function(e,t){(0,e.commit)("updateAddressFields",{key:t.key,type:t.type,addressFields:t.addressFields})},Re=function(e,t){(0,e.commit)("updateBusinessName",t)},De=function(e,t){(0,e.commit)("updateStartDate",t)},Me=function(e,t){(0,e.commit)("updateContact",t)},Te=function(e,t){(0,e.commit)("updateAddressToModify",{name:t.name,value:t.value})},je=function(e){(0,e.commit)("updateStatusSendForm","initial")},Ue=function(e,t){(0,e.commit)("resetAddress",{key:t.key,type:t.type})},Le=function(e){(0,e.commit)("resetState")},Be=(Oe=xe(regeneratorRuntime.mark(function e(t){var a=t.commit,n=t.state;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a("updateStatusSendForm","loading"),e.next=4,pe(n);case 4:e.sent&&a("updateStatusSendForm","done"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),Object(b.c)(e.t0),a("updateStatusSendForm","error");case 12:case"end":return e.stop()}},e,void 0,[[0,8]])})),function(e){return Oe.apply(this,arguments)});s.default.use(u.a);function Ie(){return{street:"",postalCode:"",city:"",countryCode:"NL",houseNumber:"",houseNumberAddition:"",pOBox:""}}var Ve=function(){return{status:{find:"initial",sendForm:"initial"},addressesToModify:{mainAddress:!1,postAddress:!1},results:[],oldAddress:{mainAddress:Ie()},newAddress:{mainAddress:Ie(),postAddress:Ie()},startDate:"",contact:{firstName:"",preposition:"",lastName:"",phoneNumber:"",emailAddress:""},kvk:"",name:""}},$e=new u.a.Store({state:Ve(),mutations:n,actions:r});a(1088);function qe(e){return new s.default({el:Object(i.a)(e),router:W(),store:$e,render:function(e){return e(J)}})}a.d(t,"default",function(){return qe}),s.default.use(o.a)},711:function(e,t,a){"use strict";a.r(t);function n(e){return e?!!e.trim():!!e}function r(){return[{name:"Accountgegevens",to:"/add"},{name:"Bevestiging"}]}function s(e){return[{name:"Accountgegevens",to:"/edit/"+e},{name:"Bevestiging"}]}var o=a(722),i=a(736),l=a(788),u=a(746),c={props:{config:Object},directives:{coloredText:u.a},data:function(){return{links:[{url:"/add",label:"Account aanmaken"},{url:this.config.redirectCorporateSearch,label:"Account wijzigen"}]}},created:function(){this.$store.commit("resetAccount")}},d=a(723),m=Object(d.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"o-layout o-layout__container"},[a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-s-9"},[a("h1",{directives:[{name:"coloredText",rawName:"v-coloredText"}]},[e._v("Account beheer voor PSO/PAO/ISO")])]),e._v(" "),a("div",{staticClass:"o-layout__col-s-3"},[a("h2",{staticClass:"h2--secondary"},[e._v("Uw acties")]),e._v(" "),a("ul",{staticClass:"c-list"},[a("li",{staticClass:"c-list__item"},[a("nn-link",{attrs:{to:"/add"}},[e._v("Account aanmaken")])],1),e._v(" "),a("li",{staticClass:"c-list__item"},[a("nn-link",{attrs:{href:e.config.redirectCorporateSearch}},[e._v("Account zoeken en wijzigen")])],1)])])]),e._v(" "),a("div",{staticClass:"o-layout__row"})])},[],!1,null,null,null).exports,v=a(724),f=a(730),p=a(761),h=/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,_=/^[a-zA-Z0-9-_.]+$/,b={firstName:function(e){return{valid:n(e),message:"Geef een voornaam op voor de gebruiker"}},lastName:function(e){return{valid:n(e),message:"Geef een achternaam op voor de gebruiker"}},userName:function(e){return n(e)&&e.trim().length<2?{valid:!1,message:"Je gebruikersnaam moet tussen de 2 en 50 karakters bevatten."}:_.test(e)?{valid:n(e),message:"Geef een gebruikersnaam op waarmee de gebruiker kan inloggen"}:{valid:!1,message:"De toegestane tekens zijn a-z, A-Z, 0-9 en . - _ "}},email:function(e){return n(e)?{valid:h.test(e),message:"Vul een geldig e-mailadres in"}:{valid:!1,message:"Geef een e-mailadres op waar we het account naar toe kunnen sturen"}}};function y(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g)}var A=(function(e,t,a){return t&&y(e.prototype,t),a&&y(e,a),e}(g,[{key:"post",value:function(e,t){var a={method:"POST",headers:this._headers(),credentials:this._credentials(),body:this._body(t)};return fetch(""+e,a).then(this._handleResponse).then(function(e){return e})}},{key:"get",value:function(e){var t={method:"GET",headers:this._headers(),credentials:this._credentials()};return fetch(""+e,t).then(this._handleResponse).then(function(e){return e})}},{key:"_handleResponse",value:function(e){return e.ok?e.text().then(function(e){return JSON.parse(e)}).catch(function(e){return Promise.reject(e)}):Promise.reject(e)}},{key:"_headers",value:function(){return{}}},{key:"_body",value:function(e){return JSON.stringify(e)}},{key:"_credentials",value:function(){return"same-origin"}}]),g),C=function(e,t,a){return t&&k(e.prototype,t),a&&k(e,a),e};function k(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var x,S,O,F,P,E,R,D,M,T=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(j,Error),j);function j(e,t){N(this,j);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,e));return a.name=a.constructor.name,a.messages=t,a}function U(){N(this,U)}var L=(C(U,[{key:"searchUsers",value:(M=w(regeneratorRuntime.mark(function e(t,a){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={SearchBusinessUser_Request:{UsernameRequester:"?",UserCategory:"DL",Filters:{Filter:{Element:t,Value:a}}}},e.next=4,this._executeRequest("/api/c2/execute/WebEnvironment/SearchBusinessUserForBusinessCustomer",n);case 4:if(r=e.sent,s=this._handleReponse(r),!(0<Number(s.TotalNumberOfResults))){e.next=10;break}if(Array.isArray(s.Results.BusinessUser))return e.abrupt("return",s.Results.BusinessUser);e.next=9;break;case 9:return e.abrupt("return",[s.Results.BusinessUser]);case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,this)})),function(e,t){return M.apply(this,arguments)})},{key:"getUser",value:(D=w(regeneratorRuntime.mark(function e(t){var a,n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={GetUserDataBusinessCustomer_Request:{RequesterUsername:"?",Username:t}},e.next=4,this._executeRequest("/api/c2/execute/WebEnvironment/GetUserDataBusinessCustomerForBusinessCustomer",a);case 4:return n=e.sent,r=this._handleReponse(n),s="",r.LegacyDLData.Authorisations&&(s="true"===r.LegacyDLData.Authorisations.ISO&&s.length<1?"ISO":"",s="true"===r.LegacyDLData.Authorisations.PSO&&s.length<1?"PSO":s,s="true"===r.LegacyDLData.Authorisations.PAO&&s.length<1?"PAO":s),e.abrupt("return",{firstName:r.UserData.FirstName||"",middleName:r.UserData.FamilyNamePrefix||"",lastName:r.UserData.FamilyName||"",gender:r.UserData.Gender||"",userName:r.UserData.Username||"",phone:r.UserData.Telephonenumber||"",email:r.UserData.EmailAddress||"",employerId:r.Employer.MandateForBusiness||"",accountType:s,isAdmin:r.UserData.IsAdmin});case 9:case"end":return e.stop()}},e,this)})),function(e){return D.apply(this,arguments)})},{key:"getUserCollectives",value:(R=w(regeneratorRuntime.mark(function e(t){var a,n,r,s,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={GetUserDataBusinessCustomer_Request:{RequesterUsername:"?",Username:t}},e.next=4,this._executeRequest("/api/c2/execute/WebEnvironment/GetUserDataBusinessCustomerForBusinessCustomer",a);case 4:return n=e.sent,r=this._handleReponse(n),s=[],r.LegacyDLData.DataAuthorisation&&(Array.isArray(r.LegacyDLData.DataAuthorisation)?s=r.LegacyDLData.DataAuthorisation.map(function(e){return o._formatCollective(e)}):s.push(this._formatCollective(r.LegacyDLData.DataAuthorisation))),e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)})),function(e){return R.apply(this,arguments)})},{key:"createUser",value:(E=w(regeneratorRuntime.mark(function e(t){var a,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={HandleBusinessUserDL_Request:{UsernameRequester:"?",Admin:"true",Action:"Create",Username:t.userName,FirstName:t.firstName,FamilyName:t.lastName,FamilyNamePrefix:t.middleName||"",Gender:"U",EmailAddress:t.email,Telephonenumber:t.phone||"",Authorisations:{ISO:"ISO"===t.accountType?"true":"false",PSO:"PSO"===t.accountType?"true":"false",PAO:"PAO"===t.accountType?"true":"false"},DataAuthorisations:[]}},e.next=4,this._executeRequest("/api/c2/execute/WebEnvironment/HandleBusinessUserDLForBusinessCustomer",a);case 4:return n=e.sent,r=this._handleReponse(n),e.abrupt("return",r.DLPortalsEmployerId?Number(r.DLPortalsEmployerId):0);case 7:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)})},{key:"createOrUpdateCollectives",value:function(e,t){var a=this;e.forEach(function(e){a.createOrUpdateCollective(e.data,t)})}},{key:"createOrUpdateCollective",value:(P=w(regeneratorRuntime.mark(function e(t,a){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={HandleDataAuthorisationDL_Request:{UsernameRequester:"?",DLPortalsEmployerId:a,Action:"CreateOrUpdate",DataAuthorisation:{ID:t.collective,CompanyName:t.companyName,PortfolioNumber:t.rcNumber,EmployerQNumber:t.qNumber,"ModifyOrInsight ":t.mutation}}},e.next=4,this._executeRequest("/api/c2/execute/WebEnvironment/HandleDataAuthorisationDLForBusinessCustomer",n);case 4:r=e.sent,this._handleReponse(r);case 6:case"end":return e.stop()}},e,this)})),function(e,t){return P.apply(this,arguments)})},{key:"deleteCollectives",value:function(e,t){var a=this;e.forEach(function(e){a.deleteCollective(e,t)})}},{key:"deleteCollective",value:(F=w(regeneratorRuntime.mark(function e(t,a){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={HandleDataAuthorisationDL_Request:{UsernameRequester:"?",DLPortalsEmployerId:a,Action:"Delete",DataAuthorisation:{ID:t.collective}}},e.next=4,this._executeRequest("/api/c2/execute/WebEnvironment/HandleDataAuthorisationDLForBusinessCustomer",n);case 4:r=e.sent,this._handleReponse(r);case 6:case"end":return e.stop()}},e,this)})),function(e,t){return F.apply(this,arguments)})},{key:"updateUser",value:(O=w(regeneratorRuntime.mark(function e(t,a){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={HandleBusinessUserDL_Request:{UsernameRequester:"?",Admin:t.isAdmin,Action:"Update",Username:t.userName.trim(),DLPortalsEmployerId:a,FirstName:t.firstName,FamilyName:t.lastName,FamilyNamePrefix:t.middleName,Gender:"U",EmailAddress:t.email,Telephonenumber:t.phone,Authorisations:{ISO:"ISO"===t.accountType?"true":"false",PSO:"PSO"===t.accountType?"true":"false",PAO:"PAO"===t.accountType?"true":"false"},DataAuthorisations:[]}},e.next=4,this._executeRequest("/api/c2/execute/WebEnvironment/HandleBusinessUserDLForBusinessCustomer",n);case 4:r=e.sent,this._handleReponse(r);case 6:case"end":return e.stop()}},e,this)})),function(e,t){return O.apply(this,arguments)})},{key:"deleteUser",value:(S=w(regeneratorRuntime.mark(function e(t){var a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={DeleteBusinessUserDL_Request:{UsernameRequester:"?",Username:t}},e.next=4,this._executeRequest("/api/c2/execute/WebEnvironment/DeleteBusinessUserDLForBusinessCustomer",a);case 4:n=e.sent,this._handleReponse(n);case 6:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})},{key:"resetUser",value:(x=w(regeneratorRuntime.mark(function e(t){var a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={ResetPassword_Request:{Party:{UsernameRequester:"?",Username:t,PartyType:"GEKO"}}},e.next=4,this._executeRequest("/api/c2/execute/WebEnvironment/ResetPasswordForCall",a);case 4:n=e.sent,this._handleReponse(n);case 6:case"end":return e.stop()}},e,this)})),function(e){return x.apply(this,arguments)})},{key:"createUniqueId",value:function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"===e?t:3&t|8).toString(16)})}},{key:"_formatCollective",value:function(e){return{id:this.createUniqueId(),valid:!0,data:{collective:e.ID,companyName:e.CompanyName,rcNumber:e.PortfolioNumber,qNumber:e.EmployerQNumber,mutation:e.ModifyOrInsight}}}},{key:"_getHttpStatusErrorMessages",value:function(e){return e instanceof Response&&401===e.status?[{code:e.status,description:"Niet geauthorizeerd om deze actie uit te voeren"}]:[]}},{key:"_getValidationErrorMessages",value:function(e){var t={"DUPLICATE USERNAME":"Deze gebruikersnaam is al reeds in gebruik. Kies een andere gebruikersnaam.","NOT-FOUND":"Gebruiker bestaat niet (meer).","NOT-ALLOWED":"Niet geauthorizeerd om deze actie uit te voeren",DEFAULT:"Er is een onbekende fout opgetreden. Probeer het nog eens."};return Object.values(e.Result.ErrorList).map(function(e){return{code:e.code,description:t[e.code]||t.DEFAULT}})}},{key:"_executeRequest",value:function(e,t){return(new A).post(e,t)}},{key:"_handleReponse",value:function(e){var t=this._getHttpStatusErrorMessages(e);if(t.length)throw new T("ApiErrorMessage",t);var a=this._convertResponse(e);if("OK"===a.Result.Status)return a;if("ERROR"===a.Result.Status)throw new T("ApiErrorMessage",this._getValidationErrorMessages(a))}},{key:"_convertResponse",value:function(e){try{return JSON.parse(JSON.stringify(e[Object.keys(e)[0]]).replace(/{}/g,'""'))}catch(e){return{}}}}]),U),B={props:{id:{type:String},collective:{type:Object,required:!0},locked:{type:Boolean,default:!1},valid:{type:Boolean,default:!0},isAdmin:{type:Boolean,default:!0},duplicates:{type:Array,default:[]},newAccount:Boolean},mixins:[Object(p.a)({collective:function(e){return{valid:!!e&&!!e.trim(),message:"Geeft een collectiviteit op"}}})],data:function(){return{options:[{label:"N.v.t.",value:""},{label:"Muteren",value:"M"},{label:"Inzien",value:"I"}]}},methods:{updateProperty:function(e,t){this.$store.commit("updateCollectiveProperty",{id:this.id,name:e,value:t}),"collective"===e&&this.$store.commit("updateCollectiveValidity",{id:this.id,valid:!!t})},remove:function(){this.$store.commit("removeCollective",this.id)}}},I=Object(d.a)(B,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"o-layout",staticStyle:{position:"relative"},attrs:{"data-test":"collective"}},[a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-2"},[a("div",{staticClass:"u-margin-bottom--30"},[a("nn-input-field",{attrs:{label:"Collectiviteiten",name:"collective",value:t.collective.collective,readonly:t.locked||!t.isAdmin,maxlength:16,invalid:!t.isValidatedAndValid("collective"),error:t.validationMessage("collective")},on:{input:function(e){return t.updateProperty("collective",e)},blur:function(e){return t.validateFormElement("collective",e.target.value)},"keydown-enter":function(e){return t.validateFormElement("collective",e.target.value)}}})],1)]),t._v(" "),a("div",{staticClass:"o-layout__col-xs-4"},[a("div",{staticClass:"u-margin-bottom--30"},[a("nn-input-field",{attrs:{label:"Bedrijfsnaam",name:"companyName",value:t.collective.companyName,readonly:!t.isAdmin},on:{input:function(e){return t.updateProperty("companyName",e)}}})],1)]),t._v(" "),a("div",{staticClass:"o-layout__col-xs-2"},[a("div",{staticClass:"u-margin-bottom--30"},[a("nn-input-field",{attrs:{readonly:!t.isAdmin,label:"RC-nummer",name:"rcNumber",value:t.collective.rcNumber,maxlength:6},on:{input:function(e){return t.updateProperty("rcNumber",e)}}})],1)]),t._v(" "),a("div",{staticClass:"o-layout__col-xs-2"},[a("div",{staticClass:"u-margin-bottom--30 qNumber"},[a("nn-input-field",{attrs:{label:"Q-nummer",name:"qNumber",value:t.collective.qNumber,maxlength:11,readonly:!t.isAdmin},on:{input:function(e){return t.updateProperty("qNumber",e)}}})],1)]),t._v(" "),a("div",{staticClass:"o-layout__col-xs-2"},[a("div",{staticClass:"u-margin-bottom--30"},[a("nn-dropdown",{attrs:{value:t.collective.mutation,options:t.options,id:t._uid+"afstand",name:"mutation",label:"Rol",placeholder:t.newAccount?"":"N.v.t.",readonly:!t.isAdmin},on:{change:function(e){return t.updateProperty("mutation",e)}}})],1)]),t._v(" "),t.isAdmin?a("div",{staticStyle:{position:"absolute",right:"-20px",top:"30px"}},[a("a",{on:{click:function(e){return e.preventDefault(),t.remove(e)}}},[a("span",{staticClass:"c-icon u-font-size-l c-icon--delete u-margin-left--10",attrs:{"aria-hidden":"true"}})])]):t._e()])])},[],!1,null,null,null).exports,V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function $(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}var q=new L;var G,K,z,H,Z={name:"userform",components:{Alert:f.a,Collective:I},mixins:[Object(p.a)(b)],props:{newAccount:Boolean,config:Object},data:function(){return{status:this.newAccount?"done":"initial",isAdmin:!0,markedForDeleteCollectives:[],errorMessages:[]}},computed:V({},Object(v.d)(["account","collectives"]),{steps:function(){return this.newAccount?r():s(this.account.userName)}}),methods:{onPropertyChanged:function(e,t){this.$store.commit("updateAccountProperty",{name:e,value:t})},cancel:function(){this.$router.push({name:"home"})},validateFormAndSubmit:(H=$(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.$refs.collectives||[]).forEach(function(e){e.validateForm(e.collective)}),a=t.every(function(e){return e.isFormValid}),this.validateForm(V({},this.account)),!this.isFormValid||!a){e.next=8;break}this.submitForm(),e.next=12;break;case 8:return e.next=10,this.$nextTick();case 10:(n=document.querySelector("form.userform input.c-form-text--error"))&&n.focus();case 12:case"end":return e.stop()}},e,this)})),function(){return H.apply(this,arguments)}),getDuplicates:function(){if(this.collectives.length<2||this.collectives.some(function(e){return null===e.data.collective}))return[];var t=this.collectives.reduce(function(e,t){return e[t.id]=++e[t.id]||0,e},{});return this.collectives.filter(function(e){return t[e.id]})},hasDuplicates:function(){return 0<this.getDuplicates().length},addCollective:function(){var a;this.$store.commit("addCollective",{id:(a=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"===e?t:3&t|8).toString(16)})),valid:!1,data:{collective:null,companyName:"",rcNumber:"",qNumber:"",mutation:""}})},openPasswordResetModal:function(){this.$refs.PsoAccPasswordReset.open()},closeResetPasswordModal:function(){this.$refs.PsoAccPasswordReset.close()},loadData:(z=$(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.status="loading",e.next=4,q.getUser(this.$route.params.id);case 4:return t=e.sent,e.next=7,q.getUserCollectives(this.$route.params.id,t.employerId);case 7:a=e.sent,n=a.map(function(e){return e.locked=!0,e.valid=!0,e}),this.$store.commit("updateAccount",t),this.$store.commit("updateCollectives",n),this.isAdmin="true"===t.isAdmin,this.status="done",e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),e.t0.messages?this.errorMessages=e.t0.messages.map(function(e){return e.description}):this.errorMessages=["Er is een onbekende fout opgetreden."],this.status="error";case 19:case"end":return e.stop()}},e,this,[[0,15]])})),function(){return z.apply(this,arguments)}),resetAccount:(K=$(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.resetUser(this.account.userName);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.messages?this.errorMessages=e.t0.messages.map(function(e){return e.description}):this.errorMessages=["Er is een onbekende fout opgetreden"];case 8:return e.prev=8,this.closeResetPasswordModal(),e.finish(8);case 11:case"end":return e.stop()}},e,this,[[0,5,8,11]])})),function(){return K.apply(this,arguments)}),getFullName:function(){return(this.account.firstName+" "+this.account.middleName+" "+this.account.lastName).replace("  "," ")},submitForm:(G=$(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.$store.commit("updateAccount",this.account),this.$store.commit("updateCollectives",this.collectives),this.newAccount)return e.next=6,q.createUser(this.account);e.next=12;break;case 6:return t=e.sent,e.next=9,q.createOrUpdateCollectives(this.collectives,t);case 9:this.$router.push({name:"confirmAddAccount"}),e.next=20;break;case 12:return e.next=14,q.updateUser(this.account,this.account.employerId);case 14:return e.next=16,q.deleteCollectives(this.markedForDeleteCollectives,this.account.employerId);case 16:return e.next=18,q.createOrUpdateCollectives(this.collectives,this.account.employerId);case 18:this.markedForDeleteCollectives=[],this.$router.push({name:"confirmEditAccount"});case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),e.t0.messages?this.errorMessages=e.t0.messages.map(function(e){return e.description}):this.errorMessages=["Er is een onbekende fout opgetreden"];case 25:case"end":return e.stop()}},e,this,[[0,22]])})),function(){return G.apply(this,arguments)})},mounted:function(){this.newAccount||this.loadData()}},W=Object(d.a)(Z,function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("form",{staticClass:"userform",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),a.validateFormAndSubmit(e)}}},[n("h1",[a._v(a._s("Account "+(a.newAccount?"aanmaken":"wijzigen")+" voor PSO/PAO/ISO"))]),a._v(" "),n("nn-stepper",{attrs:{steps:a.steps,activeStep:0}}),a._v(" "),0<a.errorMessages.length?n("div",[n("alert",{staticClass:"u-margin-bottom--30",attrs:{type:"error"}},a._l(a.errorMessages,function(e,t){return n("span",{key:e},[a._v(a._s(e))])}),0),a._v(" "),n("nn-button",{staticClass:"u-margin-top--20",attrs:{variant:"back",to:"/"}},[a._v("Terug naar het startscherm")])],1):a._e(),a._v(" "),"loading"===a.status?n("nn-spinner"):a._e(),a._v(" "),"done"===a.status?n("div",{staticClass:"o-layout form-fields"},[n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-xs-9"},[n("fieldset",{staticClass:"c-form-fieldset"},[n("div",{staticClass:"o-layout"},[n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-4"},[n("div",{staticClass:"u-margin-bottom--30"},[n("nn-input-field",{attrs:{readonly:!a.newAccount&&!a.isAdmin,label:"Voornaam",name:"firstName",value:a.account.firstName,invalid:!a.isValidatedAndValid("firstName"),error:a.validationMessage("firstName")},on:{input:function(e){return a.onPropertyChanged("firstName",e)},blur:function(e){return a.validateFormElement("firstName",e.target.value)},"keydown-enter":function(e){return a.validateFormElement("firstName",e.target.value)}}})],1)]),a._v(" "),n("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-4"},[n("div",{staticClass:"u-margin-bottom--30"},[n("nn-input-field",{attrs:{readonly:!a.newAccount&&!a.isAdmin,label:"Tussenvoegsel (optioneel)",name:"middleName",value:a.account.middleName},on:{input:function(e){return a.onPropertyChanged("middleName",e)}}})],1)])]),a._v(" "),n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-8"},[n("div",{staticClass:"u-margin-bottom--30"},[n("nn-input-field",{attrs:{readonly:!a.newAccount&&!a.isAdmin,label:"Achternaam",name:"lastName",value:a.account.lastName,invalid:!a.isValidatedAndValid("lastName"),error:a.validationMessage("lastName"),required:""},on:{input:function(e){return a.onPropertyChanged("lastName",e)},blur:function(e){return a.validateFormElement("lastName",e.target.value)},"keydown-enter":function(e){return a.validateFormElement("lastName",e.target.value)}}})],1),a._v(" "),n("div",{staticClass:"u-margin-bottom--30"},[n("nn-input-field",{attrs:{readonly:!a.newAccount,label:"Gebruikersnaam",name:"userName",value:a.account.userName,invalid:!a.isValidatedAndValid("userName"),error:a.validationMessage("userName"),minlength:2,maxlength:50,required:""},on:{input:function(e){return a.onPropertyChanged("userName",e)},blur:function(e){return a.validateFormElement("userName",e.target.value)},"keydown-enter":function(e){return a.validateFormElement("userName",e.target.value)}}})],1),a._v(" "),n("div",{staticClass:"u-margin-bottom--30"},[n("nn-input-field",{attrs:{readonly:!a.newAccount&&!a.isAdmin,label:"Telefoonnummer (optioneel)",name:"phone",value:a.account.phone,type:"tel"},on:{input:function(e){return a.onPropertyChanged("phone",e)}}})],1),a._v(" "),n("div",{staticClass:"u-margin-bottom--30"},[n("nn-input-field",{attrs:{readonly:!a.newAccount&&!a.isAdmin,label:"E-mailadres",name:"email",value:a.account.email,invalid:!a.isValidatedAndValid("email"),error:a.validationMessage("email"),type:"email",required:""},on:{input:function(e){return a.onPropertyChanged("email",e)},blur:function(e){return a.validateFormElement("email",e.target.value)},"keydown-enter":function(e){return a.validateFormElement("email",e.target.value)}}})],1),a._v(" "),n("div",{staticClass:"u-margin-bottom--20"},[a.newAccount?n("div",[n("nn-radio-button",{attrs:{model:a.account.accountType,value:"PSO"},on:{change:function(e){return a.onPropertyChanged("accountType",e)}}},[a._v("Beheer PSO")]),a._v(" "),n("nn-radio-button",{attrs:{model:a.account.accountType,value:"PAO"},on:{change:function(e){return a.onPropertyChanged("accountType",e)}}},[a._v("Beheer PAO")]),a._v(" "),n("nn-radio-button",{attrs:{model:a.account.accountType,value:"ISO"},on:{change:function(e){return a.onPropertyChanged("accountType",e)}}},[a._v("Beheer ISO")])],1):n("div",[n("nn-input-field",{attrs:{readonly:"",label:"Account type",name:"accountType",value:a.account.accountType}})],1)])])])])])]),a._v(" "),a.newAccount?a._e():n("div",{staticClass:"o-layout__col-s-3"},[n("h2",{staticClass:"h2--secondary"},[a._v("Uw acties")]),a._v(" "),n("ul",{staticClass:"c-list"},[n("li",{staticClass:"c-list__item"},[n("nn-link",{on:{click:function(e){return e.preventDefault(),a.openPasswordResetModal(e)}}},[a._v("Wachtwoord reset")])],1)])])]),a._v(" "),n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-xs-12 collective-list",attrs:{"data-test":"collectiveList"}},a._l(a.collectives,function(e){return n("collective",{key:e.id,ref:"collectives",refInFor:!0,attrs:{"is-admin":a.newAccount||a.isAdmin,locked:e.locked&&!a.newAccount,id:e.id,duplicates:a.getDuplicates(),collective:e.data,"new-account":a.newAccount}})}),1)]),a._v(" "),a.newAccount||a.isAdmin?n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-xs-12 u-margin-bottom--30"},[n("nn-button",{staticClass:"u-width-100p u-textalign-left add-collective-button",attrs:{variant:"dashed"},on:{click:a.addCollective}},[a._v("Collectiviteit toevoegen")])],1)]):a._e(),a._v(" "),n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-xs-12"},[n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-xs-6"},[a.newAccount?n("nn-button",{attrs:{variant:"secondary"},on:{click:a.cancel}},[a._v("Annuleren")]):n("nn-button",{attrs:{variant:"back",href:a.config.redirectCorporateSearch}},[a._v("Terug naar zoeken")])],1),a._v(" "),a.newAccount||a.isAdmin?n("div",{staticClass:"o-layout__col-xs-6 u-textalign-right submit"},[n("nn-button",{staticClass:"save-button",attrs:{type:"submit"}},[a._v(a._s(a.newAccount?"Account aanmaken":"Opslaan")+"\n            ")])],1):a._e()])])])]):a._e(),a._v(" "),n("nn-modal",{ref:"PsoAccPasswordReset",attrs:{position:"middle",title:"Wachtwoord resetten"}},[n("p",[a._v("\n      Weet u het zeker, dat u het wachtwoord van\n      "),n("strong",[a._v(a._s(a.getFullName(a.account)))]),a._v(" wilt resetten?\n    ")]),a._v(" "),n("div",{staticClass:"o-layout"},[n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-xs-6"},[n("nn-button",{attrs:{variant:"secondary"},on:{click:a.closeResetPasswordModal}},[a._v("Annuleren")])],1),a._v(" "),n("div",{staticClass:"o-layout__col-xs-6 u-textalign-right"},[n("nn-button",{on:{click:a.resetAccount}},[a._v("Reset")])],1)])])])],1)},[],!1,null,null,null).exports,J=a(742),Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Q={name:"ConfirmAddAccount",components:{Datatable:J.a},directives:{ColoredText:u.a},data:function(){return{columns:{collective:"Collectiviteit",companyName:"Bedrijfsnaam",qNumber:"Q-nummer",rcNumber:"RC-nummer",mutation:"Muteren"}}},methods:{gotoAddAccount:function(){this.$router.push({name:"addAccount"})},backToStart:function(){this.$store.commit("resetAccount"),this.$router.push({name:"home"})},getFullName:function(){var e=this.account.middleName&&0<this.account.middleName.length?this.account.middleName+" "+this.account.lastName:this.account.lastName;return this.account.firstName+" "+e},getMutationLabel:function(e){switch(e){case"M":return"Muteren";case"I":return"Inzien";default:return"N.v.t."}}},computed:Y({},Object(v.d)(["account","collectives"]),{steps:function(){return r()},rows:function(){var t=this;return this.collectives.map(function(e){return e.data.mutation=t.getMutationLabel(e.data.mutation),e.data})}}),created:function(){null===this.account.firstName&&this.gotoAddAccount()}},X=Object(d.a)(Q,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",{directives:[{name:"colored-text",rawName:"v-colored-text"}]},[e._v("Account aanmaken voor PSO/PAO/ISO")]),e._v(" "),a("nn-stepper",{attrs:{steps:e.steps,activeStep:1}}),e._v(" "),a("p",[e._v("Er wordt een account aangemaakt voor "),a("strong",[e._v(e._s(e.getFullName()))]),e._v(". "),a("br"),e._v("Binnen enkele minuten\n    versturen we een e-mail met inloggegevens voor "+e._s(e.account.accountType)+" naar "),a("strong",[e._v(e._s(e.account.email))]),e._v(".\n  ")]),e._v(" "),a("div",{staticClass:"o-layout"},[a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-6"},[a("h3",{staticClass:"u-margin-top u-margin-bottom--5"},[e._v("Details")]),e._v(" "),a("table",{staticClass:"summary"},[a("tr",[e._m(0),e._v(" "),a("td",[e._v(e._s(e.account.firstName||"-"))])]),e._v(" "),a("tr",[e._m(1),e._v(" "),a("td",[e._v(e._s(e.account.middleName||"-"))])]),e._v(" "),a("tr",[e._m(2),e._v(" "),a("td",[e._v(e._s(e.account.lastName||"-"))])]),e._v(" "),a("tr",[e._m(3),e._v(" "),a("td",[e._v(e._s(e.account.userName||"-"))])]),e._v(" "),a("tr",[e._m(4),e._v(" "),a("td",[e._v(e._s(e.account.phone||"-"))])]),e._v(" "),a("tr",[e._m(5),e._v(" "),a("td",[e._v(e._s(e.account.email||"-"))])]),e._v(" "),a("tr",[e._m(6),e._v(" "),a("td",[e._v(e._s(e.account.accountType||"-"))])])])])]),e._v(" "),a("div",{staticClass:"o-layout__row u-margin-bottom--20"},[a("div",{staticClass:"o-layout__col-xs-9"},[a("h3",{staticClass:"u-margin-top u-margin-bottom--5"},[e._v("Collectiviteiten")]),e._v(" "),a("Datatable",{attrs:{rows:e.rows,displayedColumns:e.columns,border:!1}})],1)]),e._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-6"},[a("nn-button",{attrs:{variant:"back"},on:{click:e.backToStart}},[e._v("Terug naar home PSO/PAO/ISO")])],1)])])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("strong",[this._v("Voornaam")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("strong",[this._v("Tussenvoegsel")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("strong",[this._v("Achternaam")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("strong",[this._v("Gebruikersnaam")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("strong",[this._v("Telefoonnummer")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("strong",[this._v("E-mailadres")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("strong",[this._v("Systeem")])])}],!1,null,null,null).exports,ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},te={name:"ConfirmEditAccount",components:{Datatable:J.a},directives:{ColoredText:u.a},props:{config:Object},methods:{gotoEditAccount:function(){this.$router.push({name:"editAccount"})},backToStart:function(){this.$store.commit("resetAccount"),this.$router.push({name:"home"})},getFullName:function(){return this.account.firstName+" "+(this.account.middleName&&0<this.account.middleName.length?this.account.middleName+" "+this.account.lastName:this.account.lastName)}},computed:ee({},Object(v.d)(["account","collectives"]),{steps:function(){return s(this.account.userName)}}),created:function(){null===this.account.firstName&&this.gotoEditAccount()}},ae=Object(d.a)(te,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",{directives:[{name:"colored-text",rawName:"v-colored-text"}]},[e._v("Account wijzigen voor PSO/PAO/ISO")]),e._v(" "),a("nn-stepper",{attrs:{steps:e.steps,activeStep:1}}),e._v(" "),a("p",[e._v("Er zijn wijzigingen doorgevoerd voor "),a("strong",[e._v(e._s(e.getFullName()))]),e._v(".")]),e._v(" "),a("div",{staticClass:"o-layout"},[a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-9"},[a("nn-button",{attrs:{variant:"back",href:e.config.redirectCorporateSearch}},[e._v("Terug naar accounts zoeken")]),e._v(" "),a("nn-button",{staticClass:"u-float-right",on:{click:e.backToStart}},[e._v("Naar home PSO/PAO/ISO")])],1)])])],1)},[],!1,null,null,null).exports,ne=function(){return o.default.use(l.a),new l.a({routes:[{path:"/",name:"home",component:m},{path:"/add",name:"addAccount",component:W,props:{newAccount:!0}},{path:"/confirmAdd",name:"confirmAddAccount",component:X},{path:"/edit/:id",name:"editAccount",component:W},{path:"/confirmEdit",name:"confirmEditAccount",component:ae}],scrollBehavior:function(){return{x:0,y:0}}})};function re(){return{firstName:null,middleName:null,lastName:null,gender:null,userName:null,phone:null,email:null,accountType:"PSO"}}var se=function(){o.default.use(v.a);var e={account:re(),collectives:[]},t={updateAccount:function(e,t){e.account=t},updateAccountProperty:function(e,t){var a=t.name,n=t.value;e.account[a]=n},addCollective:function(e,t){e.collectives.push(t)},updateCollectiveValidity:function(e,t){var a=t.id,n=t.valid;e.collectives.find(function(e){return e.id===a}).valid=n},updateCollectiveProperty:function(e,t){var a=t.id,n=t.name,r=t.value;e.collectives.find(function(e){return e.id===a}).data[n]=r},updateCollectives:function(e,t){e.collectives=t},resetAccount:function(e){e.account=re(),e.collectives=[]}};return new v.a.Store({state:e,mutations:t,actions:{}})},oe=a(727),ie=(a(1089),{props:{config:Object},template:'<div><router-view :config="config"></router-view></div>'});o.default.use(i.a);t.default=function(e,t){new o.default({el:Object(oe.a)(e),router:ne(),store:se(),render:function(e){return e(ie,{props:{config:t}})}})}},712:function(e,t,a){"use strict";a.r(t);var n=a(722),r=a(736),s=a(788);function o(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i)}var l=(function(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e}(i,[{key:"post",value:function(e,t){var a={method:"POST",headers:this._headers(),credentials:this._credentials(),body:this._body(t)};return fetch(""+e,a).then(this._handleResponse).then(function(e){return e})}},{key:"get",value:function(e){var t={method:"GET",headers:this._headers(),credentials:this._credentials()};return fetch(""+e,t).then(this._handleResponse).then(function(e){return e})}},{key:"_handleResponse",value:function(n){return n.text().then(function(e){var t=e&&JSON.parse(e);if(n.ok)return t;var a=t&&t.message||n.status+": "+n.statusText;return Promise.reject(a)})}},{key:"_headers",value:function(){return{"Content-Type":"application/json"}}},{key:"_body",value:function(e){return JSON.stringify(e)}},{key:"_credentials",value:function(){return"same-origin"}}]),i),u=function(e,t,a){return t&&c(e.prototype,t),a&&c(e,a),e};function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v,f,p,h,_,b,y=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,Error),g);function g(e,t){m(this,g);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,e));return a.name=a.constructor.name,a.messages=t,a}function A(){m(this,A)}var C=(u(A,[{key:"searchUsers",value:(b=d(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={SearchBusinessUser_Request:{UsernameRequester:"?",UserCategory:"DL",Filters:{}}},e.next=4,this._executeRequest("/api/x2/execute/WebEnvironment/SearchBusinessUserForBusinessCustomer",t);case 4:if(a=e.sent,n=this._handleReponse(a),!(0<Number(n.TotalNumberOfResults))){e.next=10;break}if(Array.isArray(n.Results.BusinessUser))return e.abrupt("return",n.Results.BusinessUser);e.next=9;break;case 9:return e.abrupt("return",[n.Results.BusinessUser]);case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"getAdminData",value:(_=d(regeneratorRuntime.mark(function e(){var t,a,n,r,s,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={GetUserDataBusinessCustomer_Request:{RequesterUsername:"?"}},e.next=4,this._executeRequest("/api/x2/execute/WebEnvironment/GetUserDataBusinessCustomerForBusinessCustomer",t);case 4:return a=e.sent,n=this._handleReponse(a),r=[],n.LegacyDLData&&n.LegacyDLData.DataAuthorisation&&(s=[],s=Array.isArray(n.LegacyDLData.DataAuthorisation)?n.LegacyDLData.DataAuthorisation:[n.LegacyDLData.DataAuthorisation],r=s.map(function(e){return{collective:e.ID,companyName:e.CompanyName,rcNumber:e.PortfolioNumber,qNumber:e.EmployerQNumber,mutation:o._getMutationLabel(e.ModifyOrInsight)}})),e.abrupt("return",{collectives:r,employerId:n.Employer.MandateForBusiness,authorisations:n.LegacyDLData.Authorisations});case 9:case"end":return e.stop()}},e,this)})),function(){return _.apply(this,arguments)})},{key:"getUser",value:(h=d(regeneratorRuntime.mark(function e(t){var a,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={GetUserDataBusinessCustomer_Request:{RequesterUsername:"?",Username:t}},e.next=4,this._executeRequest("/api/x2/execute/WebEnvironment/GetUserDataBusinessCustomerForBusinessCustomer",a);case 4:return n=e.sent,r=this._handleReponse(n),e.abrupt("return",{firstName:r.UserData.FirstName||"",middleName:r.UserData.FamilyNamePrefix||"",lastName:r.UserData.FamilyName||"",gender:r.UserData.Gender||"",userName:r.UserData.Username||"",phone:r.UserData.Telephonenumber||"",email:r.UserData.EmailAddress||""});case 7:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"getUserCollectives",value:(p=d(regeneratorRuntime.mark(function e(t){var a,n,r,s,o,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={GetUserDataBusinessCustomer_Request:{RequesterUsername:"?",Username:t}},e.next=4,this._executeRequest("/api/x2/execute/WebEnvironment/GetUserDataBusinessCustomerForBusinessCustomer",a);case 4:return n=e.sent,r=this._handleReponse(n),s=[],r.LegacyDLData.DataAuthorisation&&(o=[],o=Array.isArray(r.LegacyDLData.DataAuthorisation)?r.LegacyDLData.DataAuthorisation:[r.LegacyDLData.DataAuthorisation],s=o.map(function(e){return{collective:e.ID,companyName:e.CompanyName,rcNumber:e.PortfolioNumber,qNumber:e.EmployerQNumber,mutation:i._getMutationLabel(e.ModifyOrInsight)}})),e.abrupt("return",s);case 9:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createUser",value:function(e,t,a,n){return this.modifyUser("Create",e,t,a,n)}},{key:"updateUser",value:function(e,t,a,n){return this.modifyUser("Update",e,t,a,n)}},{key:"modifyUser",value:(f=d(regeneratorRuntime.mark(function e(t,a,n,r,s){var o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.map(function(e){return e.collective}),i={HandleBusinessUserDL_Request:{UsernameRequester:"?",Action:t,Username:a.userName,DLPortalsEmployerId:n,FirstName:a.firstName,FamilyName:a.lastName,FamilyNamePrefix:a.middleName||"",Gender:"U",EmailAddress:a.email,Telephonenumber:a.phone||"",Authorisations:s,DataAuthorisations:{ID:o}}},e.next=5,this._executeRequest("/api/x2/execute/WebEnvironment/HandleBusinessUserDLForBusinessCustomer",i);case 5:l=e.sent,this._handleReponse(l);case 7:case"end":return e.stop()}},e,this)})),function(e,t,a,n,r){return f.apply(this,arguments)})},{key:"deleteUser",value:(v=d(regeneratorRuntime.mark(function e(t){var a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={DeleteBusinessUserDL_Request:{UsernameRequester:"?",Username:t}},e.next=4,this._executeRequest("/api/x2/execute/WebEnvironment/DeleteBusinessUserDLForBusinessCustomer",a);case 4:n=e.sent,this._handleReponse(n);case 6:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"_executeRequest",value:function(e,t){return(new l).post(e,t)}},{key:"_handleReponse",value:function(e){var t=this._getHttpStatusErrorMessages(e);if(t.length)throw new y("ApiErrorMessage",t);var a=this._convertResponse(e);if("OK"===a.Result.Status)return a;if("ERROR"===a.Result.Status)throw new y("ApiErrorMessage",this._getValidationErrorMessages(a))}},{key:"_convertResponse",value:function(e){try{return JSON.parse(JSON.stringify(e[Object.keys(e)[0]]).replace(/{}/g,'""'))}catch(e){return{}}}},{key:"_getHttpStatusErrorMessages",value:function(e){return e instanceof Response&&401===e.status?[{code:e.status,description:"Niet geauthorizeerd om deze actie uit te voeren"}]:[]}},{key:"_getValidationErrorMessages",value:function(e){var t={"DUPLICATE USERNAME":"Deze gebruikersnaam is al reeds in gebruik. Kies een andere gebruikersnaam.","NOT-FOUND":"Gebruiker bestaat niet (meer).","NOT-ALLOWED":"Niet geauthorizeerd om deze actie uit te voeren",DEFAULT:"Er is een onbekende fout opgetreden. Probeer het nog eens."};return Object.values(e.Result.ErrorList).map(function(e){return{code:e.code,description:t[e.code]||t.DEFAULT}})}},{key:"_getMutationLabel",value:function(e){switch(e){case"M":return"Muteren";case"I":return"Inzien";default:return"N.v.t."}}}]),A),k=a(730),w=a(742),N=a(42);function x(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}function S(e){return!!e&&!!e.trim()}var O,F,P=new C,E={components:{Datatable:w.a,Alert:k.a},data:function(){return{rows:[],columns:{Naam:"Naam",Gebruikersnaam:"Gebruikersnaam",crud:""},modalData:{},status:"initial",errors:[],errorMessage:null,warningMessage:null,errorCode:null,successMessage:null}},methods:{loadData:(F=x(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.errorMessage=null,this.warningMessage=null,this.rows=[],this.status="loading",e.next=7,P.searchUsers();case 7:(t=e.sent).length?t.map(function(e){"false"===e.Admin&&a.rows.push({Naam:a._getFullName(e),Gebruikersnaam:e.Username,crud:e})}):this.warningMessage="Geen accounts gevonden.",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),e.t0.messages?(this.errorCode=e.t0.messages[0].code,this.errorMessage=e.t0.messages[0].description):(this.errorMessage="Er is een onbekende fout opgetreden.",Object(N.c)(e.t0));case 14:return e.prev=14,this.status="loaded",e.finish(14);case 17:case"end":return e.stop()}},e,this,[[0,11,14,17]])})),function(){return F.apply(this,arguments)}),deleteUser:(O=x(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.deleteUser(this.modalData.Username);case 3:return this.successMessage=this.modalData.Username+" is verwijderd.",e.next=6,this.loadData();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.messages?this.errorMessage=e.t0.messages[0].description:(this.errorMessage="Er is een onbekende fout opgetreden",Object(N.c)(e.t0));case 11:return e.prev=11,this.closeModal(),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])})),function(){return O.apply(this,arguments)}),gotoEdit:function(e){this.$router.push({path:"/edit/"+e})},openModal:function(e){this.modalData=e,this.$refs.PsoDeleteUser.open()},closeModal:function(){this.$refs.PsoDeleteUser.close()},_getFullName:function(e){return e.FirstName+" "+(e.FamilyNamePrefix&&0<e.FamilyNamePrefix.length?e.FamilyNamePrefix+" "+e.FamilyName:e.FamilyName)}},created:function(){this.loadData()}},R=a(723),D=Object(R.a)(E,function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("div",{staticClass:"o-layout o-layout__container"},[n("div",{staticClass:"o-layout__row"},[a.successMessage?n("alert",{class:"u-margin-bottom--30 u-padding-top--25",attrs:{type:"success"},on:{closeAlert:function(e){a.successMessage=null}}},[a._v(a._s(a.successMessage))]):a._e(),a._v(" "),n("div",{staticClass:"o-layout__col-s-9"}),a._v(" "),"NOT-ALLOWED"!==a.errorCode?n("div",{staticClass:"o-layout__col-s-3"},[n("h2",{staticClass:"h2--secondary"},[a._v("Uw acties")]),a._v(" "),n("ul",{staticClass:"c-list"},[n("li",{staticClass:"c-list__item"},[n("nn-link",{attrs:{to:"/add"}},[a._v("Nieuwe gebruiker")])],1)])]):a._e()],1),a._v(" "),n("div",{staticClass:"o-layout__row"},["loading"===a.status?n("nn-spinner"):a._e(),a._v(" "),a.warningMessage?n("alert",{attrs:{type:"warning"}},[a._v("\n        "+a._s(a.warningMessage)+"\n    ")]):a._e(),a._v(" "),a.errorMessage?n("alert",{attrs:{type:"error"}},[a._v("\n        "+a._s(a.errorMessage)+"\n    ")]):a._e(),a._v(" "),"loaded"===a.status?n("Datatable",{attrs:{elementsPerPage:100,rows:a.rows,displayedColumns:a.columns,crud:!0},scopedSlots:a._u([{key:"default",fn:function(t){return[n("a",{on:{click:function(e){return e.preventDefault(),a.gotoEdit(t.Username)}}},[n("span",{staticClass:"c-icon u-font-size-l c-icon--edit",attrs:{"aria-hidden":"true"}})]),a._v(" "),n("a",{on:{click:function(e){return e.preventDefault(),a.openModal(t)}}},[n("span",{staticClass:"c-icon u-font-size-l c-icon--delete u-margin-left--10",attrs:{"aria-hidden":"true"}})])]}}],null,!1,2803811859)}):a._e()],1),a._v(" "),n("nn-modal",{ref:"PsoDeleteUser",attrs:{variant:"middle",title:"Gebruiker verwijderen"}},[n("div",{staticClass:"o-layout"},[n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-xs-12"},[n("p",[a._v("Weet u het zeker, dat u het account van "),n("strong",[a._v(a._s(a._getFullName(a.modalData)))]),a._v(" wilt verwijderen? Het is voor "+a._s(a._getFullName(a.modalData))+" dan niet meer mogelijk om in te loggen.")])])]),a._v(" "),n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-xs-6"},[n("nn-button",{attrs:{variant:"secondary"},on:{click:a.closeModal}},[a._v("Annuleren")])],1),a._v(" "),n("div",{staticClass:"o-layout__col-xs-6 u-textalign-right"},[n("nn-button",{on:{click:a.deleteUser}},[a._v("Verwijderen")])],1)])])])],1)},[],!1,null,null,null).exports,M=a(761),T=/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,j=/^[a-zA-Z0-9-_.]+$/,U={firstName:function(e){return{valid:S(e),message:"Geef een voornaam op voor de gebruiker"}},lastName:function(e){return{valid:S(e),message:"Geef een achternaam op voor de gebruiker"}},userName:function(e){return S(e)&&e.trim().length<2?{valid:!1,message:"Je gebruikersnaam moet tussen de 2 en 50 karakters bevatten."}:S(e)&&!j.test(e)?{valid:!1,message:"De toegestane tekens zijn a-z, A-Z, 0-9 en . - _ "}:{valid:S(e),message:"Geef een gebruikersnaam op waarmee de gebruiker kan inloggen"}},email:function(e){return S(e)?{valid:T.test(e),message:"Vul een geldig e-mailadres in"}:{valid:!1,message:"Geef een e-mailadres op waar we het account naar toe kunnen sturen"}}};function L(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}var B,I={name:"userform",components:{Alert:k.a},mixins:[Object(M.a)(U)],props:{onPropertyChanged:Function,title:String,status:String,onFormSubmit:Function,account:Object,errorMessages:Array},methods:{_validateFormAndSubmit:(B=L(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validateForm(this.account),!this.isFormValid){e.next=5;break}this.onFormSubmit(),e.next=8;break;case 5:return e.next=7,this.$nextTick();case 7:this.$el.querySelector("form.userform input.c-form-text--error").focus();case 8:case"end":return e.stop()}},e,this)})),function(){return B.apply(this,arguments)})}},V=Object(R.a)(I,function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("form",{staticClass:"userform",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),a._validateFormAndSubmit(e)}}},[n("h1",[a._v(a._s(a.title))]),a._v(" "),0<a.errorMessages.length?n("alert",{staticClass:"u-margin-bottom--30",attrs:{type:"error"}},a._l(a.errorMessages,function(e,t){return n("span",{key:t},[a._v(a._s(e))])}),0):a._e(),a._v(" "),"loading"===a.status?n("nn-spinner"):a._e(),a._v(" "),"done"===a.status?n("div",[n("fieldset",{staticClass:"c-form-fieldset"},[n("div",{staticClass:"o-layout"},[n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-3"},[n("div",{staticClass:"u-margin-bottom--30"},[n("nn-input-field",{attrs:{label:"Voornaam",name:"firstName",value:a.account.firstName,invalid:!a.isValidatedAndValid("firstName"),error:a.validationMessage("firstName")},on:{input:function(e){return a.onPropertyChanged("firstName",e)},blur:function(e){return a.validateFormElement("firstName",e.target.value)},"keydown-enter":function(e){return a.validateFormElement("firstName",e.target.value)}}})],1)]),a._v(" "),n("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-3"},[n("div",{staticClass:"u-margin-bottom--30"},[n("nn-input-field",{attrs:{label:"Tussenvoegsel (optioneel)",name:"middleName",value:a.account.middleName},on:{input:function(e){return a.onPropertyChanged("middleName",e)}}})],1)])]),a._v(" "),n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-6"},[n("div",{staticClass:"u-margin-bottom--30"},[n("nn-input-field",{attrs:{label:"Achternaam",name:"lastName",value:a.account.lastName,invalid:!a.isValidatedAndValid("lastName"),error:a.validationMessage("lastName"),required:""},on:{input:function(e){return a.onPropertyChanged("lastName",e)},blur:function(e){return a.validateFormElement("lastName",e.target.value)},"keydown-enter":function(e){return a.validateFormElement("lastName",e.target.value)}}})],1),a._v(" "),n("div",{staticClass:"u-margin-bottom--30"},[n("nn-input-field",{attrs:{label:"Gebruikersnaam",name:"userName",value:a.account.userName,invalid:!a.isValidatedAndValid("userName"),error:a.validationMessage("userName"),minlength:2,maxlength:50,required:"",readonly:a.account.userName&&0<a.account.userName.length},on:{input:function(e){return a.onPropertyChanged("userName",e)},blur:function(e){return a.validateFormElement("userName",e.target.value)},"keydown-enter":function(e){return a.validateFormElement("userName",e.target.value)}}})],1),a._v(" "),n("div",{staticClass:"u-margin-bottom--30"},[n("nn-input-field",{attrs:{label:"Telefoonnummer (optioneel)",name:"phone",value:a.account.phone,type:"tel"},on:{input:function(e){return a.onPropertyChanged("phone",e)}}})],1),a._v(" "),n("div",{staticClass:"u-margin-bottom--30"},[n("nn-input-field",{attrs:{label:"E-mailadres",name:"email",value:a.account.email,invalid:!a.isValidatedAndValid("email"),error:a.validationMessage("email"),type:"email",required:""},on:{input:function(e){return a.onPropertyChanged("email",e)},blur:function(e){return a.validateFormElement("email",e.target.value)},"keydown-enter":function(e){return a.validateFormElement("email",e.target.value)}}})],1)])])])]),a._v(" "),a._t("default")],2):a._e()],1)},[],!1,null,null,null).exports,$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function q(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}var G,K,z=new C,H={name:"CreateAccount",components:{UserForm:V,Datatable:w.a,Alert:k.a},data:function(){return{account:{firstName:null,middleName:null,lastName:null,userName:null,phone:null,email:null},employerId:"",columns:{collective:"Collectiviteiten",companyName:"Bedrijfsnaam",qNumber:"Q-nr",rcNumber:"RC-nr",mutation:"Rol"},collectives:[],checkedCollectives:[],authorisation:null,errorMessages:[],status:"initial"}},methods:{onPropertyChanged:function(e,t){var a,n,r;this.account=$({},this.account,(r=t,(n=e)in(a={})?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a))},loadData:(K=q(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.status="loading",e.next=4,z.getAdminData();case 4:t=e.sent,this.employerId=t.employerId,this.collectives=t.collectives,this.authorisation=t.authorisations,this.status="done",e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),this.status="failed",e.t0.messages?this.errorMessages=e.t0.messages.map(function(e){return"NOT-FOUND"===e.code?"U bent niet bevoegd een nieuwe gebruiker aan te maken.":e.description}):(this.errorMessages=["Er is een onbekende fout opgetreden"],Object(N.c)(e.t0));case 15:case"end":return e.stop()}},e,this,[[0,11]])})),function(){return K.apply(this,arguments)}),submitForm:(G=q(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.createUser(this.account,this.employerId,this.checkedCollectives,this.authorisation);case 3:this.$router.push({name:"home"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.messages?this.errorMessages=e.t0.messages.map(function(e){return e.description}):this.errorMessages=["Er is een onbekende fout opgetreden"];case 9:case"end":return e.stop()}},e,this,[[0,6]])})),function(){return G.apply(this,arguments)}),updateSelection:function(e){this.checkedCollectives=e},cancel:function(){this.$router.push({name:"home"})}},mounted:function(){this.loadData()}},Z=Object(R.a)(H,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("user-form",{attrs:{title:"Nieuwe gebruiker toevoegen",status:e.status,account:e.account,onFormSubmit:e.submitForm,onPropertyChanged:e.onPropertyChanged,errorMessages:e.errorMessages}},[a("h2",[e._v("Toekennen rechten voor beheer collectiviteiten")]),e._v(" "),a("div",{staticClass:"o-layout"},[a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-12 collectivityTable"},[a("Datatable",{attrs:{rows:e.collectives,showPagination:!1,border:!1,displayedColumns:e.columns,multiSelect:!0,selection:e.checkedCollectives},on:{updateSelection:e.updateSelection}})],1)]),e._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-12 u-margin-bottom--30"},[e._v('Wanneer u op "account aanmaken" klikt wordt er een bevestigingsmail naar de gebruiker gestuurd.')])]),e._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-6"},[a("nn-button",{attrs:{variant:"secondary"},on:{click:e.cancel}},[e._v("Annuleren")])],1),e._v(" "),a("div",{staticClass:"o-layout__col-xs-6 u-textalign-right"},[a("nn-button",{attrs:{type:"submit"}},[e._v("Account aanmaken")])],1)])])])},[],!1,null,null,null).exports,W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function J(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}var Y,Q,X=new C,ee={name:"EditAccount",components:{Datatable:w.a,UserForm:V},data:function(){return{account:{firstName:null,middleName:null,lastName:null,userName:null,phone:null,email:null},employerId:"",columns:{collective:"Collectiviteiten",companyName:"Bedrijfsnaam",qNumber:"Q-nr",rcNumber:"RC-nr",mutation:"Rol"},collectives:[],checkedCollectives:[],status:"initial",authorisation:null,errorMessages:[]}},methods:{onPropertyChanged:function(e,t){var a,n,r;this.account=W({},this.account,(r=t,(n=e)in(a={})?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a))},loadData:(Q=J(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.status="loading",t=this.$route.params.id||"",e.next=5,X.getUser(t);case 5:return this.account=e.sent,e.next=8,X.getAdminData();case 8:return a=e.sent,this.employerId=a.employerId,this.collectives=a.collectives,this.authorisation=a.authorisations,e.next=14,X.getUserCollectives(t);case 14:this.checkedCollectives=e.sent,this.status="done",e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),e.t0.messages?this.errorMessages=[e.t0.messages[0].description]:(this.errorMessages=["Er is een onbekende fout opgetreden."],Object(N.c)(e.t0)),this.status="error";case 22:case"end":return e.stop()}},e,this,[[0,18]])})),function(){return Q.apply(this,arguments)}),submitForm:(Y=J(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.updateUser(this.account,this.employerId,this.checkedCollectives,this.authorisation);case 3:this.$router.push({name:"home"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.messages?this.errorMessages=e.t0.messages.map(function(e){return e.description}):(this.errorMessages=["Er is een onbekende fout opgetreden"],Object(N.c)(e.t0));case 9:case"end":return e.stop()}},e,this,[[0,6]])})),function(){return Y.apply(this,arguments)}),isCollectiveChecked:function(e){return-1<this.checkedCollectives.indexOf(e)},getSelection:function(){return this.checkedCollectives},updateSelection:function(e){this.checkedCollectives=e},cancel:function(){this.$router.push({name:"home"})}},created:function(){this.loadData()}},te=Object(R.a)(ee,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("user-form",{attrs:{title:"Aanpassen accountgegevens",status:e.status,onPropertyChanged:e.onPropertyChanged,account:e.account,onFormSubmit:e.submitForm,errorMessages:e.errorMessages}},[a("h2",[e._v("Aanpassen beheer collectiviteiten")]),e._v(" "),a("div",{staticClass:"o-layout"},[a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-12 collectivityTable"},[a("Datatable",{attrs:{rows:e.collectives,showPagination:!1,border:!1,displayedColumns:e.columns,multiSelect:!0,selection:e.getSelection()},on:{updateSelection:e.updateSelection}})],1)]),e._v(" "),a("div",{staticClass:"o-layout__row"},[a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-3"},[a("nn-button",{attrs:{variant:"secondary"},on:{click:e.cancel}},[e._v("Annuleren")])],1),e._v(" "),a("div",{staticClass:"o-layout__col-xs-6 o-layout__col-m-3 u-textalign-right"},[a("nn-button",{attrs:{type:"submit","data-test":"edit-submitButton"}},[e._v("Opslaan")])],1)])])])},[],!1,null,null,null).exports,ae=function(){return n.default.use(s.a),new s.a({routes:[{path:"/",name:"home",component:D},{path:"/add",name:"addAccount",component:Z},{path:"/edit/:id",name:"editAccount",component:te}]})},ne=a(727);a(1090);function re(e){return new n.default({el:Object(ne.a)(e),router:ae(),template:"<div><router-view></router-view></div>"})}a.d(t,"default",function(){return re}),n.default.use(r.a)},717:function(e,t,a){"use strict";a.r(t);var n=a(722),r=a(736),s=a(727),o=a(1091),i=a.n(o),l=a(724),u=a(150),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function d(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}var m,v={template:i.a,props:{config:Object},data:function(){return{searchType:null,searchPlaceholder:null,searchOptions:[{label:"Account naam",searchPlaceholder:"Zoek een bestaande gebruikersnaam",value:"Username",disabled:!1},{label:"E-mailadres",searchPlaceholder:"Zoek een bestaand E-mailadres",value:"Emailaddress",disabled:!1},{label:"Collectiviteit",searchPlaceholder:"Zoek een bestaande collectiviteit",value:"DataAuthorisationID",disabled:!1},{label:"Golden Record ID",searchPlaceholder:"Zoek een bestaand Golden Record ID",value:"Customer_GR_ID",disabled:!1}],resultTableColumns:{fullName:"Naam",userName:"Account naam",emailAddress:"E-mailadres",type:"Type klant"," ":" "}}},computed:c({},Object(l.d)(["message","status","businessUsers"]),{rows:function(){return(this.businessUsers||[]).map(function(e){var t=e.DLPortalsEmployerId?"PSO/PAO/ISO":"Mijn NN zakelijk";return{fullName:e.FullName,userName:e.Username,emailAddress:e.EmailAddress,type:t," ":e}})}}),methods:c({},Object(l.b)(["findBusinessUsers","clearState"]),{handleSubmit:(m=d(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.clearState(),e.next=3,this.findBusinessUsers({searchType:this.searchType,searchInput:t});case 3:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)}),goToEdit:function(e){var t=e.DLPortalsEmployerId?""+this.config.redirectEditPSOPAO+e.Username:""+this.config.redirectEditMijnNNZakelijk+e.Username;Object(u.a)(t)},onSearchTypeChange:function(t){this.searchPlaceholder=this.searchOptions.find(function(e){return e.value===t}).searchPlaceholder}}),mounted:function(){this.searchType=this.searchOptions[0].value,this.onSearchTypeChange(this.searchType)}},f=(a(750),a(82)),p=a(54);function h(e){return"string"==typeof e?e:""}var _=a(42);function b(e){return function(){var i=e.apply(this,arguments);return new Promise(function(s,o){return function t(e,a){try{var n=i[e](a),r=n.value}catch(e){return void o(e)}if(!n.done)return Promise.resolve(r).then(function(e){t("next",e)},function(e){t("throw",e)});s(r)}("next")})}}n.default.use(l.a);var y,g={setBusinessUsers:function(e,t){e.businessUsers=t.map(function(e){return{DLPortalsEmployerId:e.DLPortalsEmployerId,Customer_GR_ID:e.Customer_GR_ID,Username:e.Username,FirstName:e.FirstName,FamilyNamePrefix:e.FamilyNamePrefix,FamilyName:e.FamilyName,FullName:(t=e.FirstName,a=e.FamilyName,n=e.FamilyNamePrefix,r="",r+=h(t)+" ",h(n)&&(r+=h(n)+" "),r+=h(a)),EmailAddress:e.Emailaddress||e.EmailAddress};var t,a,n,r})},updateStatus:function(e,t){e.status=t.status},setMessage:function(e,t){e.message=t.message},clearState:function(e){e.message="",e.status="",e.businessUsers=[]}},A={clearState:function(e){(0,e.commit)("clearState")},findBusinessUsers:(y=b(regeneratorRuntime.mark(function e(t,a){var n,r,s=t.commit,o=a.searchType,i=a.searchInput;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={credentials:"same-origin"},r={SearchBusinessUser_Request:{UsernameRequester:"?",UserCategory:"ALL",Filters:{Filter:{Element:o,Value:i}}}},e.prev=3,s("updateStatus",{status:"loading"}),e.next=7,f.a.post("/api/c2/execute/WebEnvironment/SearchBusinessUserForBusinessCustomer",r,n).then(function(e){var t=Object(p.a)(e.SearchBusinessUser_Response.Results.BusinessUser);t?s("setBusinessUsers",t):s("setMessage",{message:"Er is geen account gevonden."})});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(3),Object(_.c)(e.t0),s("setMessage",{message:"Er is een fout opgetreden. Probeer het later nog eens."});case 13:return e.prev=13,s("updateStatus",{status:"done"}),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[3,9,13,16]])})),function(e,t){return y.apply(this,arguments)})},C=new l.a.Store({state:{message:"",status:"",businessUsers:[]},mutations:g,actions:A});n.default.use(r.a);t.default=function(e,t){new n.default({el:Object(s.a)(e),store:C,render:function(e){return e(v,{props:{config:t}})}})}},727:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function(e){var t=document.createElement("div");return e.appendChild(t),t}},730:function(e,t,a){"use strict";var n=a(748),r=a.n(n);t.a={name:"alert",template:r.a,props:{type:{type:String,default:""},isOpen:{type:Boolean,default:!0},showCloseButton:{type:Boolean,default:!1}},computed:{alertClasses:function(){return"c-notification c-notification--"+this.type}},methods:{closeAlert:function(){this.$emit("closeAlert",this)}}}},742:function(e,t,a){"use strict";var n=a(760),r=a.n(n),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a={name:"Datatable",template:r.a,props:{rows:{type:Array,default:[]},displayedColumns:{type:Object,default:function(){return{}}},multiSelect:{type:Boolean,default:!1},selection:{type:Array,default:function(){return[]}},elementsPerPage:{type:Number,default:10},border:{type:Boolean,default:!0},crud:{type:Boolean,default:!1},displayHeaders:{type:Boolean,default:!0},showPagination:{type:Boolean,default:!0}},data:function(){return{currentPage:1}},methods:{displayColumn:function(e,t){return e[t]&&0<e[t].length?e[t]:"-"},isPager:function(){return this.showPagination&&1<this.numPages()},numPages:function(){return Math.ceil(this.rows.length/this.elementsPerPage)},getRows:function(){if(this.showPagination){var e=(this.currentPage-1)*this.elementsPerPage,t=e+this.elementsPerPage;return this.rows.slice(e,t)}return this.rows},changePage:function(e){this.currentPage=e},clickRow:function(e,t){this.multiSelect&&(this.updateSelection(t),e.stopPropagation())},clickCheckBox:function(e){return e.preventDefault(),e.stopPropagation(),!1},updateSelection:function(e){var t=document.querySelector('input[name="row_'+e+'"]');t.checked=!t.checked;var a=this.rows.filter(function(e,t){return document.querySelector('input[name="row_'+t+'"]').checked});this.$emit("updateSelection",a)},isChecked:function(t){var a=this;return this.selection.find(function(e){return a.deepCompare(a.rows[t],e)})},isCrud:function(e){return e===this.columns.length-1&&this.crud},hasRows:function(){return!!this.rows.length},deepCompare:function(e,t){for(var a in e){if(e.hasOwnProperty(a)!==t.hasOwnProperty(a))return!1;switch(s(e[a])){case"object":if(!Object.compare(e[a],t[a]))return!1;break;case"function":if(void 0===t[a]||"compare"!==a&&e[a].toString()!==t[a].toString())return!1;break;default:if(e[a]!==t[a])return!1}}for(var n in t)if(void 0===e[n])return!1;return!0}},computed:{columns:function(){return this.rows.length<1?[]:this.displayedColumns.length<1?Object.keys(this.rows[0]):Object.keys(this.displayedColumns)},columnsLabels:function(){var t=this;return Object.keys(this.displayedColumns).map(function(e){return t.displayedColumns[e]})}}}},746:function(e,t,a){"use strict";var n=a(152);t.a={bind:function(e){new n.a(e)}}},748:function(e,t){e.exports='<div :class="alertClasses" role="alert">\n  <a v-if="showCloseButton" @click.prevent="closeAlert();" class="c-notification__close-btn"><span class="c-icon c-icon--close--thin" aria-label="Close"></span></a>\n  <slot></slot>\n</div>\n'},750:function(e,t,a){"use strict";var n=a(722),r=a(787),s=a.n(r),o={template:"<div></div>",data:function(){return{loadingOverlay:{}}},created:function(){this.loadingOverlay=new window.app.Loadingoverlay,this.loadingOverlay.show()},destroyed:function(){this.loadingOverlay.hide(),this.loadingOverlay.destroy()}},i=a(730),l=a(757),u={template:a.n(l).a,components:{Alert:i.a},props:{label:{type:String},placeholder:{type:String},clearOnSubmit:{type:Boolean,default:!1},alert:{type:String}},data:function(){return{searchInput:""}},methods:{handleSubmit:function(){this.$emit("onSubmit",this.searchInput.trim()),!0===this.clearOnSubmit&&(this.searchInput="")}}},c=a(758),d={name:"TextInput",template:a.n(c).a,model:{prop:"value",event:"change"},props:{type:{type:String,default:"text"},name:{type:String,default:""},label:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},className:{type:String},maxLength:{type:Number,default:255}},methods:{blur:function(e){this.$emit("blur",e)},focus:function(e){this.$emit("focus",e)},updateValue:function(e){this.$emit("input",e)}},computed:{getClass:function(){var e=this.error?"c-form-text c-form-text--error":"c-form-text";return e=this.className?e+" "+this.className:e},getIconClass:function(){return this.error?"c-icon c-icon--pict-warning u-color--medium-orange u-font-size-m":"c-icon c-icon--check u-color--medium-orange u-font-size-m u-invisible"}}},m=a(759),v={name:"List",template:a.n(m).a,data:function(){return{}},props:{links:{type:Array,default:function(){return[]}}},methods:{}},f=a(742),p=a(746);n.default.directive("coloredText",p.a),n.default.directive("phoneFormatter",{bind:function(e){(e="INPUT"!==e.nodeName&&e.querySelector("input")||e).addEventListener("keyup",function(){e.value=e.value.replace(/[^0-9.]/g,""),15<e.value.length&&(e.value=e.value.substr(0,15))})},unbind:function(e){e.removeEventListener("keyup")}}),n.default.component("text-input",d),n.default.component("search-form",u),n.default.component("list",v),n.default.component("datatable",f.a),n.default.component("loading-overlay",o),n.default.component("alert",i.a),n.default.use(s.a,{symbol:"€",thousandsSeparator:".",fractionCount:2,fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0})},757:function(e,t){e.exports='<form @submit.prevent="handleSubmit">\n  <div class="o-layout u-margin-top--15">\n    <div class="o-layout__row">\n      <div class="o-layout__col-s-12">\n        <label v-if="label" class="c-form-label" :for="searchInput">\n          {{label}}\n        </label>\n        <div style="display: flex; align-items: center;">\n          <input type="text" name="searchInput" class="c-form-text" :placeholder="placeholder" v-model="searchInput">\n          <button type="submit" class="c-form-button u-margin-left--10" :disabled="!searchInput.trim()">Zoek</button>\n        </div>\n      </div>\n    </div>\n    <div class="o-layout__row">\n      <div class="o-layout__col-s-12">\n        <alert v-if="alert" type="warning">\n          {{alert}}\n        </alert>\n      </div>\n    </div>\n  </div>\n</form>'},758:function(e,t){e.exports='<div>\n  <label v-if="label" class="c-form-label" :for="name">\n    {{label}}\n  </label>\n  <div class="o-flex">\n    <div class="o-flex__col">\n      <input v-bind:class="getClass"\n        :type="type"\n        :id="name"\n        :name="name"\n        :value="value"\n        :placeholder="placeholder"\n        :disabled="disabled"\n        :readonly="readonly"\n        :maxlength="maxLength"\n        @input="updateValue"\n        @change="updateValue"\n        @blur="blur"\n        @focus="focus"\n      />\n    </div>\n    <div class="o-flex__col o-flex__col--auto  o-flex__col--icon">\n      <span v-if="error" v-bind:class="getIconClass"></span>\n      <span v-if="!error" v-bind:class="getIconClass"></span>\n    </div>\n  </div>\n  <div v-if="errorMessage" class="u-color--medium-orange u-font-bold u-margin-top--5" data-test="textInput-errorMessage">{{errorMessage}}</div>\n</div>\n'},759:function(e,t){e.exports='<ul class="c-list">\n    <li v-for="link in links" class="c-list__item">\n      <router-link :to="link.url" class="c-link">{{link.label}}</router-link>\n    </li>\n</ul>'},760:function(e,t){e.exports='<div>\n  <table v-if="hasRows()" v-bind:class="border ? \'c-table c-table--large\' : \'c-table--no-border\'">\n    <thead v-if="displayHeaders" class="c-table__header">\n      <tr class="c-table__header__row">\n        <th v-if="multiSelect" class="c-table__header__cell"></th>\n        <th class="c-table__header__cell" v-for="col in columnsLabels">{{col}}</th>\n      </tr>\n    </thead>\n    <tbody class="c-table__body">\n      <tr class="c-table__body__row" v-for="(row, index) in getRows()" :key="index" @click="clickRow($event, index)">\n        <td v-if="multiSelect" style="width: 30px;" class="c-table__body__cell">\n            <input type="checkbox" class="c-form-checkbox" @click="clickCheckBox($event)" v-bind:name="\'row_\' + index" v-bind:value="index" v-bind:id="\'row_\' + index" v-bind:checked="isChecked(index)">\n            <label v-bind:for="\'row_\' + index">&nbsp;</label>\n        </td>\n        <td v-for="(col, ind) in columns" v-bind:class="isCrud(ind) ? \'c-table__body__cell u-textalign-right\' : \'c-table__body__cell\'">\n          <span v-if="!isCrud(ind)">{{ displayColumn(row, col) }}</span>\n          <slot v-if="isCrud(ind)" v-bind="row[col]"></slot>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <div v-if="isPager()" class="pagination">\n    <ul class="c-pagination__list">\n      <li v-for="i in numPages()" class="c-pagination__item">\n        <a href="#" v-bind:aria-label="\'pagina \' + currentPage" v-on:click="changePage(i)" v-bind:class="[i == currentPage ? \'active\' : \'\']"\n          class="c-pagination__link">{{i}}</a>\n      </li>\n    </ul>\n  </div>\n</div>\n'},761:function(e,t,a){"use strict";var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var c={valid:!0,message:""};t.a=function(l){return{data:function(){return{validationResults:Object.keys(l).reduce(function(e,t){return e[t]=c,e},{})}},computed:{isFormValid:function(){var t=this;return Object.keys(this.validationResults).map(function(e){return t.validationResults[e].valid}).every(function(e){return Boolean(e)})}},methods:{isValidatedAndValid:function(e){var t=this.validationResults[e];return!t||t.valid},validationMessage:function(e){var t=this.validationResults[e];return t?t.message:""},addConfiguration:function(e){return!(!e||Array.isArray(e)||"object"!==(void 0===e?"undefined":n(e)))&&(l=u({},l,e),this.validationResults=u({},this.validationResults,Object.keys(e).reduce(function(e,t){return e[t]=c,e},{})),l)},removeConfiguration:function(e){return Object.keys(l).includes(e)?(delete l[e],delete this.validationResults[e],l):"Non-existing key"},validateFormElement:function(e,t,a){var n=l[e];n||(this.validationResults[e]=c);var r,s,o,i=n(t,a);i=i||c,this.validationResults=u({},this.validationResults,(o=i,(s=e)in(r={})?Object.defineProperty(r,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[s]=o,r))},validateForm:function(t){var a=this;Object.keys(l).forEach(function(e){a.validateFormElement(e,t[e])})}}}}},819:function(e,t,a){"use strict";(function(e){t.a={name:"content-dialog",props:{side:{type:String,default:"top"},align:{type:String,default:"bottom"}},computed:{dataConfig:function(){return JSON.stringify({side:this.side,align:this.align})}},mounted:function(){e.initializeComponents(this.$refs.contextDialog)}}}).call(this,a(1))},820:function(e,a,t){"use strict";(function(e){a.a={props:{name:{type:String,required:!0},value:{type:String,requred:!0},validationMessage:{type:String,required:!1}},inject:["$validator"],methods:{monthsFromToday:function(e){return t(e)}},mounted:function(){e.initializeComponents(this.$refs.datepicker)}};var t=function(e){var t=new Date;if(!e||isNaN(e))return n(t);var a=new Date(t.setMonth(t.getMonth()+e));return n(a)},n=function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}}).call(this,t(1))}}]);
//# sourceMappingURL=corporate-min.js.map