(window.psdlWebpackJsonp=window.psdlWebpackJsonp||[]).push([[4],{710:function(e,t,n){"use strict";n.r(t);var a=n(722),o=n(736),r=n(724),i=n(54),c=n(747);function u(e){return"string"==typeof e?e:""}function l(e){return e.Organisation?e.Organisation.OrganisationName:""}c.config.setFetchMethod(fetch),c.config.setFetchCredentials("same-origin"),a.default.use(r.a);function s(e){return!!e&&!!e.trim()}var d={account:function(e,t){e.account=t?{Admin:u(t.Admin),Customer_GR_ID:u(t.Customer_GR_ID),Username:u(t.Username),FirstName:u(t.FirstName),FamilyNamePrefix:u(t.FamilyNamePrefix),FamilyName:u(t.FamilyName),Telephonenumber:u(t.Telephonenumber),EmailAddress:u(t.Emailaddress||t.EmailAddress)}:null},otherAccounts:function(e,t){e.otherAccounts=t},businessPartner:function(e,t){e.businessPartner=t},delegation:function(e,t){e.delegation=t,e.delegationModified=!1},delegate:function(e,t){e.delegate=t},removeDelegate:function(e,t){var n=e.delegation.requested.indexOf(t);e.delegation.requested.splice(n,1),e.delegationModified=!0},addDelegate:function(e){e.delegation.requested.push(e.delegate),e.delegate=null,e.delegationModified=!0}},m={findAccountByUsername:function(e,t){var n=e.commit;return c.api.corporateAccess.searchBusinessUserForBusinessCustomer("Username",t).then(function(e){n("account",e.Results.BusinessUser)})},createAccount:function(e,t){return c.api.corporateAccess.handleBusinessUserForBusinessCustomer(t)},updateAccount:function(e,t){var n=e.commit,a=Object.assign({},t,{Action:"Update"});return c.api.corporateAccess.handleBusinessUserForBusinessCustomer(a).then(function(){n("account",t)})},releaseAccount:function(e){var t=e.state,n=Object.assign({},t.account,{AccountStatus:"RE",Action:"Update"});return c.api.corporateAccess.handleBusinessUserForBusinessCustomer(n)},resetPassword:function(e){var t=e.state;return c.api.corporateAccess.resetPassword(t.account.Username)},findBusinessPartner:function(e,t){var n=e.commit;return c.api.corporateAccess.findBusinessPartnerForCall(t).then(function(e){n("businessPartner",e.BusinessPartner)})},findDelegate:function(e,t){var n=e.commit,a=e.state;return c.api.corporateAccess.findBusinessPartnerForCall(t).then(function(e){e.BusinessPartner?n("delegate",{OrganisationID:e.BusinessPartner.GoldenBPId,OrganisationName:l(e.BusinessPartner),Identification:{OrganisationID:a.delegation.goldenRecordId,OrganisationType:"BC"}}):n("delegate",null)})},findAccountsForDelegation:function(e,t){var n=e.commit,a=e.dispatch,o=e.state;return/^\d{10}$/.test(t)?c.api.corporateAccess.searchBusinessUserForBusinessCustomer("Customer_GR_ID",t).then(function(e){var t=Object(i.a)(e.Results.BusinessUser);t?(n("account",t.find(function(e){return"true"===e.Admin})),n("otherAccounts",t.filter(function(e){return e.Username!==o.account.Username}))):(n("account",null),n("otherAccounts",null))}):a("findAccountByUsername",t).then(function(){if(o.account)return c.api.corporateAccess.searchBusinessUserForBusinessCustomer("Customer_GR_ID",o.account.Customer_GR_ID).then(function(e){var t=Object(i.a)(e.Results.BusinessUser);n("otherAccounts",t?t.filter(function(e){return e.Username!==o.account.Username}):null)});n("otherAccounts",null)})},prepareForDelegation:function(e,t){var r=e.state,s=e.commit;return(0,e.dispatch)("findAccountByUsername",t).then(function(){if(!r.account)return Promise.reject();var e,t,a={goldenRecordId:r.account.Customer_GR_ID,username:r.account.Username,contactName:(e=r.account,t="",t+=u(e.FirstName)+" ",u(e.FamilyNamePrefix)&&(t+=u(e.FamilyNamePrefix)+" "),t+=u(e.FamilyName)),contactEmail:r.account.EmailAddress,original:[],requested:[]},n=c.api.corporateAccess.findBusinessPartnerForCall(a.goldenRecordId).then(function(e){a.organisationName=l(e.BusinessPartner)}),o=c.api.corporateAccess.getBusinessCustomerAuthorisationForBusinessCustomer(a.goldenRecordId).then(function(e){if(e.BusinessCustomerAuthorisation.Delegates){var t=[];return Object(i.a)(e.BusinessCustomerAuthorisation.Delegates).forEach(function(n){t.push(c.api.corporateAccess.findBusinessPartnerForCall(n.Identification.OrganisationID).then(function(e){var t={OrganisationID:n.Identification.OrganisationID,OrganisationName:l(e.BusinessPartner),BusinessRoleId:n.BusinessRoleData.BusinessRoleId,Identification:{OrganisationID:a.goldenRecordId,OrganisationType:"BC"}};a.original.push(t),a.requested.push(t)}))}),Promise.all(t)}});return Promise.all([n,o]).then(function(){s("delegation",a)})})},addDelegateWithBusinessRole:function(e){var t=e.state,n=e.commit;return c.api.corporateAccess.handleBusinessRoleDefinitionForBusinessCustomer(t.delegate.OrganisationID,"Volledig beheer",!0).then(function(e){t.delegate.BusinessRoleId=e.BusinessRoleId,n("addDelegate")})},addDelegates:function(e,t){var n=[],a=[];return t.forEach(function(t){n.push(c.api.corporateAccess.handleBusinessCustomerAuthorisationsForBusinessCustomer(t.OrganisationID,"Add",t,t.BusinessRoleId).catch(function(e){a.push({delegate:t,message:e.errorList[0].description})}))}),Promise.all(n).then(function(){if(0<a.length)return Promise.reject(a)})},deleteDelegates:function(e,t){var n=[];return t.forEach(function(e){n.push(c.api.corporateAccess.handleBusinessCustomerAuthorisationsForBusinessCustomer(e.OrganisationID,"Delete",e,e.BusinessRoleId))}),Promise.all(n)}},f=new r.a.Store({state:{account:null,otherAccounts:null,businessPartner:null,delegation:{},delegate:null,delegationModified:!1},mutations:d,actions:m}),v=n(788),p={props:{config:Object}},h=n(723),g=Object(h.a)(p,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"o-layout o-layout__container"},[n("div",{staticClass:"o-layout__row"},[e._m(0),e._v(" "),n("div",{staticClass:"o-layout__col-s-3"},[n("h2",{staticClass:"h2--secondary"},[e._v("Uw acties")]),e._v(" "),n("ul",{staticClass:"c-list"},[e.config.showCreateAccount?n("li",{staticClass:"c-list__item"},[n("nn-link",{attrs:{to:"/find-golden-record"}},[e._v("Account aanmaken")])],1):e._e(),e._v(" "),e.config.showDelegateAccount?n("li",{staticClass:"c-list__item"},[n("nn-link",{attrs:{href:e.config.urlDelegateTool}},[e._v("Bedrijven koppelen")])],1):e._e(),e._v(" "),e.config.showManageAccount?n("li",{staticClass:"c-list__item"},[n("nn-link",{attrs:{href:e.config.redirectCorporateSearch}},[e._v("Account zoeken en wijzigen")])],1):e._e()])])])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"o-layout__col-s-9"},[t("h1",[this._v("Intern")])])}],!1,null,null,null).exports,_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b={inject:["loader"],data:function(){return{message:""}},mounted:function(){this.$store.commit("businessPartner",null)},computed:_({},Object(r.d)(["businessPartner"])),methods:_({},Object(r.b)(["findBusinessPartner"]),{handleSubmit:function(e){var t=this;this.loader.start(),this.message="",this.findBusinessPartner(e).then(function(){t.businessPartner||(t.message="Bedrijf niet gevonden")}).finally(function(){t.loader.stop()})}})},y=Object(h.a)(b,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Admin account Mijn NN Zakelijk aanmaken")]),e._v(" "),n("account-steps",{attrs:{current:"0"}}),e._v(" "),n("div",{staticClass:"o-layout u-margin-top--30"},[n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-6"},[n("search-form",{attrs:{placeholder:"Zoek op golden record",alert:e.message},on:{onSubmit:e.handleSubmit}})],1)]),e._v(" "),e.businessPartner?n("div",{staticClass:"u-margin-top--30"},[e._m(0),e._v(" "),n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-4"},[e._v("Golden record")]),e._v(" "),n("div",{staticClass:"o-layout__col-s-4"},[e._v(e._s(e.businessPartner.GoldenBPId))])]),e._v(" "),n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-4"},[e._v("Bedrijf")]),e._v(" "),n("div",{staticClass:"o-layout__col-s-4"},[e._v(e._s(e.businessPartner.Organisation?e.businessPartner.Organisation.OrganisationName:""))])]),e._v(" "),n("div",{staticClass:"o-layout__row u-margin-top--15"},[n("div",{staticClass:"o-layout__col-s-4"},[n("nn-button",{attrs:{variant:"back",to:{name:"home"}}},[e._v("Terug")])],1),e._v(" "),n("div",{staticClass:"o-layout__col-s-4"},[n("nn-button",{attrs:{variant:"next",to:{name:"accountDetails",params:{goldenRecordId:e.businessPartner.GoldenBPId}}}},[e._v("Volgende")])],1)])]):n("div",{staticClass:"o-layout__row u-margin-top--30"},[n("div",{staticClass:"o-layout__col-s-6"},[n("nn-button",{attrs:{variant:"back",to:{name:"home"}}},[e._v("Terug")])],1)])])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"o-layout__row"},[t("div",{staticClass:"o-layout__col-s-12"},[t("b",[this._v("Accountgegevens")])])])}],!1,null,null,null).exports,C=n(761),k=/^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6})*$/,w=/^\+[0-9]{2}|^\+[0-9]{2}\(0\)|^\(\+[0-9]{2}\)\(0\)|^00[0-9]{2}|^0[0-9]{9}$|[0-9\-\s]{10}$/,P=/^[a-zA-Z0-9-_.]+$/,A={FirstName:function(e){return{valid:s(e),message:"Geef een voornaam op voor de gebruiker"}},FamilyName:function(e){return{valid:s(e),message:"Geef een achternaam op voor de gebruiker"}},Customer_GR_ID:function(e){return{valid:s(e),message:"Geef een geldige golden record ID"}},Username:function(e,t){return s(e)&&(e.length<2||50<e.length)?{valid:!1,message:"Je gebruikersnaam moet tussen de 2 en 50 karakters bevatten."}:t?{valid:!1,message:"Gebruikersnaam is al in gebruik"}:P.test(e)?{valid:s(e),message:"Geef een gebruikersnaam op waarmee de gebruiker kan inloggen"}:{valid:!1,message:"De toegestane tekens zijn a-z, A-Z, 0-9 en . - _ "}},Telephonenumber:function(e){return s(e)?{valid:w.test(e),message:"Vul een geldig telefoonnummer in"}:{valid:!1,message:"Geef een telefoonnummer op waarmee de gebruiker kan worden gebeld"}},EmailAddress:function(e){return s(e)?{valid:k.test(e),message:"Vul een geldig e-mailadres in"}:{valid:!1,message:"Geef een e-mailadres op waar we het account naar toe kunnen sturen"}}};function O(e){return function(){var i=e.apply(this,arguments);return new Promise(function(r,s){return function t(e,n){try{var a=i[e](n),o=a.value}catch(e){return void s(e)}if(!a.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});r(o)}("next")})}}var x,B={name:"accountForm",mixins:[Object(C.a)(A)],props:{onPropertyChanged:Function,handleSubmit:Function,account:Object,editMode:Boolean},methods:{formSubmit:(x=O(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validateForm(this.account),!this.isFormValid){e.next=5;break}this.handleSubmit(),e.next=8;break;case 5:return e.next=7,this.$nextTick();case 7:document.querySelector("form.account-form input.c-form-text--error").focus();case 8:case"end":return e.stop()}},e,this)})),function(){return x.apply(this,arguments)}),forceInvalidResponseFromServer:function(e,t){this.validateFormElement(e,t,!0)}},computed:{},mounted:function(){this.editMode||this.removeConfiguration("Customer_GR_ID")}},F=Object(h.a)(B,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.account?n("form",{ref:"accountForm",staticClass:"account-form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.formSubmit(e)}}},[n("div",{staticClass:"o-layout"},[t.editMode?n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-12 u-margin-bottom"},[n("nn-input-field",{attrs:{label:"Golden record",required:"",name:"Customer_GR_ID",invalid:!t.isValidatedAndValid("Customer_GR_ID"),error:t.validationMessage("Customer_GR_ID")},on:{input:function(e){return t.onPropertyChanged("Customer_GR_ID",e)},blur:function(e){return t.validateFormElement("Customer_GR_ID",e.target.value)},keydownEnter:function(e){return t.validateFormElement("Customer_GR_ID",e.target.value)}},model:{value:t.account.Customer_GR_ID,callback:function(e){t.$set(t.account,"Customer_GR_ID",e)},expression:"account.Customer_GR_ID"}})],1)]):t._e(),t._v(" "),t.editMode?n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-12"},[n("nn-input-field",{staticClass:"u-margin-bottom",attrs:{label:"Gebruikersnaam",value:t.account.Username,name:"username",readonly:""}})],1)]):t._e(),t._v(" "),n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-6"},[n("nn-input-field",{staticClass:"u-margin-bottom",attrs:{label:"Voornaam",name:"firstname",required:"",invalid:!t.isValidatedAndValid("FirstName"),error:t.validationMessage("FirstName")},on:{input:function(e){return t.onPropertyChanged("FirstName",e)},blur:function(e){return t.validateFormElement("FirstName",e.target.value)},keydownEnter:function(e){return t.validateFormElement("FirstName",e.target.value)}},model:{value:t.account.FirstName,callback:function(e){t.$set(t.account,"FirstName",e)},expression:"account.FirstName"}})],1),t._v(" "),n("div",{staticClass:"o-layout__col-s-6"},[n("nn-input-field",{staticClass:"u-margin-bottom",attrs:{label:"Tussenvoegsel"},model:{value:t.account.FamilyNamePrefix,callback:function(e){t.$set(t.account,"FamilyNamePrefix",e)},expression:"account.FamilyNamePrefix"}})],1)]),t._v(" "),n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-12"},[n("nn-input-field",{staticClass:"u-margin-bottom",attrs:{label:"Achternaam",name:"familyname",required:"",invalid:!t.isValidatedAndValid("FamilyName"),error:t.validationMessage("FamilyName")},on:{input:function(e){return t.onPropertyChanged("FamilyName",e)},blur:function(e){return t.validateFormElement("FamilyName",e.target.value)},keydownEnter:function(e){return t.validateFormElement("FamilyName",e.target.value)}},model:{value:t.account.FamilyName,callback:function(e){t.$set(t.account,"FamilyName",e)},expression:"account.FamilyName"}})],1)]),t._v(" "),t.editMode?t._e():n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-12"},[n("nn-input-field",{staticClass:"u-margin-bottom",attrs:{label:"Gebruikersnaam",name:"username",required:"",pattern:"^[a-zA-Z0-9-_.]+$",minLength:"2",maxLength:"50",invalid:!t.isValidatedAndValid("Username"),error:t.validationMessage("Username")},on:{input:function(e){return t.onPropertyChanged("Username",e)},blur:function(e){return t.validateFormElement("Username",e.target.value)},keydownEnter:function(e){return t.validateFormElement("Username",e.target.value)}},model:{value:t.account.Username,callback:function(e){t.$set(t.account,"Username",e)},expression:"account.Username"}})],1)]),t._v(" "),n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-12"},[n("nn-input-field",{staticClass:"u-margin-bottom",attrs:{label:"Telefoonnummer",name:"phone",required:"",invalid:!t.isValidatedAndValid("Telephonenumber"),error:t.validationMessage("Telephonenumber"),type:"tel"},on:{input:function(e){return t.onPropertyChanged("Telephonenumber",e)},blur:function(e){return t.validateFormElement("Telephonenumber",e.target.value)},keydownEnter:function(e){return t.validateFormElement("Telephonenumber",e.target.value)}},model:{value:t.account.Telephonenumber,callback:function(e){t.$set(t.account,"Telephonenumber",e)},expression:"account.Telephonenumber"}})],1)]),t._v(" "),n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-12"},[n("nn-input-field",{staticClass:"u-margin-bottom",attrs:{label:"E-mailadres",name:"email",type:"email",invalid:!t.isValidatedAndValid("EmailAddress"),error:t.validationMessage("EmailAddress"),required:""},on:{input:function(e){return t.onPropertyChanged("EmailAddress",e)},blur:function(e){return t.validateFormElement("EmailAddress",e.target.value)},keydownEnter:function(e){return t.validateFormElement("EmailAddress",e.target.value)}},model:{value:t.account.EmailAddress,callback:function(e){t.$set(t.account,"EmailAddress",e)},expression:"account.EmailAddress"}})],1)]),t._v(" "),t._t("default")],2)]):t._e()},[],!1,null,null,null).exports,j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var R={inject:["loader"],components:{AccountForm:F},data:function(){return{account:{},error:null,errors:{}}},computed:j({},Object(r.d)(["businessPartner"])),mounted:function(){var e=this;this.businessPartner&&this.businessPartner.GoldenBPId===this.$route.params.goldenRecordId||(this.loader.start(),this.findBusinessPartner(this.$route.params.goldenRecordId).finally(function(){e.loader.stop(),e.businessPartner||e.$router.push({name:"findGoldenRecord"})}))},methods:j({},Object(r.b)(["createAccount","findBusinessPartner"]),{onPropertyChanged:function(e,t){var n,a,o;this.account=j({},this.account,(o=t,(a=e)in(n={})?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o,n))},handleSubmit:function(){var t=this;this.error=null,this.loader.start(),this.account.Customer_GR_ID=this.businessPartner.GoldenBPId,this.account.Admin="true",this.createAccount(this.account).then(function(){t.$router.push({name:"confirmAccount",params:{username:t.account.Username}})}).catch(function(e){e.errorList&&e.errorList.find(function(e){return"DUPLICATE USERNAME"===e.code})?t.$refs.accountForm&&t.$refs.accountForm.forceInvalidResponseFromServer("Username",t.account.Username):t.error="Er is iets mis gegaan bij het aanmaken van de gebruiker."}).finally(function(){t.loader.stop()})},resetErrors:function(){this.errors={}}})},I=Object(h.a)(R,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Admin account Mijn NN Zakelijk aanmaken")]),e._v(" "),n("account-steps",{attrs:{current:"1"}}),e._v(" "),n("div",{staticClass:"o-layout"},[n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-m-6"},[e.error?n("alert",{staticClass:"u-margin-bottom--15",attrs:{type:"error"}},[e._v(e._s(e.error))]):e._e(),e._v(" "),n("account-form",{ref:"accountForm",attrs:{account:e.account,handleSubmit:e.handleSubmit,onPropertyChanged:e.onPropertyChanged}},[n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-6"},[n("nn-button",{attrs:{variant:"back",to:{name:"findGoldenRecord"}}},[e._v("Terug")])],1),e._v(" "),n("div",{staticClass:"o-layout__col-s-6"},[n("nn-button",{staticClass:"u-float-right",attrs:{variant:"next",type:"submit"}},[e._v("Volgende")])],1)])])],1)])])],1)},[],!1,null,null,null).exports,S=Object(h.a)({computed:{username:function(){return this.$route.params.username}}},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Admin account Mijn NN Zakelijk aanmaken")]),e._v(" "),n("account-steps",{attrs:{current:"2"}}),e._v(" "),n("b",[e._v("Het account is aangemaakt, maar nog niet vrijgegeven.")]),e._v(" "),n("p",[e._v("Let op: u kunt het, controleren en daarna handmatig vrijgeven.")]),e._v(" "),n("div",{staticClass:"o-layout"},[n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-m-6"},[n("nn-button",{attrs:{variant:"back",to:{name:"home"}}},[e._v("Terug home Mijn NN Zakelijk")]),e._v(" "),n("nn-button",{staticClass:"u-float-right",attrs:{to:{name:"editAccount",params:{username:e.username}}}},[e._v("Account controleren")])],1)])])],1)},[],!1,null,null,null).exports,D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function E(e){return function(){var i=e.apply(this,arguments);return new Promise(function(r,s){return function t(e,n){try{var a=i[e](n),o=a.value}catch(e){return void s(e)}if(!a.done)return Promise.resolve(o).then(function(e){t("next",e)},function(e){t("throw",e)});r(o)}("next")})}}var N,U,$,G,M={props:{config:Object},components:{AccountForm:F},data:function(){return{status:"action",modal:{},validationErrors:{},editMode:!0,accountData:{}}},computed:D({},Object(r.d)(["account"])),mounted:(G=E(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.findAccountByUsername(this.$route.params.username);case 3:this.accountData=D({},this.account),this.status="done",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.status="failed";case 10:case"end":return e.stop()}},e,this,[[0,7]])})),function(){return G.apply(this,arguments)}),methods:D({},Object(r.b)(["findAccountByUsername","updateAccount","releaseAccount","resetPassword"]),{openModal:function(e,t){this.modal={header:e,message:t},this.$refs.changeConfirmation.open()},onPropertyChanged:function(e,t){var n,a,o;this.accountData=D({},this.accountData,(o=t,(a=e)in(n={})?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o,n))},closeModal:function(){this.$refs.changeConfirmation.close()},handleSubmit:($=E(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.status="action",e.next=4,this.updateAccount(this.accountData);case 4:this.openModal("Opslaan gegevens","Gegevens zijn opgeslagen"),this.status="done",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.status="failed";case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(){return $.apply(this,arguments)}),sendReleaseAccount:(U=E(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.status="action",e.next=4,this.releaseAccount();case 4:this.openModal("Vrijgeven account","Het account van de gebruiker is vrijgegeven. De gebruiker ontvangt hierover een e-mail."),this.status="done",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.status="failed";case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(){return U.apply(this,arguments)}),sendPasswordReset:(N=E(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.status="action",e.next=4,this.resetPassword();case 4:this.openModal("Wachtwoord reset","Het wachtwoord van de gebruiker is gereset. De gebruiker ontvangt een e-mail."),this.status="done",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.status="failed";case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(){return N.apply(this,arguments)})})},V=Object(h.a)(M,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Account controleren")]),t._v(" "),n("nn-modal",{ref:"changeConfirmation"},[n("h1",[t._v(t._s(t.modal.header))]),t._v(" "),n("hr"),t._v(" "),n("p",[t._v(t._s(t.modal.message))]),t._v(" "),n("div",{staticClass:"u-float-right"},[n("nn-button",{on:{click:t.closeModal}},[t._v("Sluiten")])],1),t._v(" "),n("br"),t._v(" "),n("br")]),t._v(" "),n("div",{staticClass:"o-layout"},[n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-m-9"},[n("div",{staticClass:"o-layout"},[n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-m-9"},["failed"===t.status?n("alert",{staticClass:"u-margin-bottom",attrs:{type:"error"}},[t._v("\n                Er is iets misgegaan bij het ophalen van de gebruiker.\n              ")]):t._e(),t._v(" "),"action"===t.status?n("loading-overlay",[t._v(" Please wait...")]):t._e(),t._v(" "),"done"===t.status||"action"===t.status?n("account-form",{attrs:{account:t.accountData,handleSubmit:t.handleSubmit,onPropertyChanged:t.onPropertyChanged,editMode:t.editMode}},[n("div",{staticClass:"o-layout__row"},[n("div",{staticClass:"o-layout__col-s-12 u-margin-bottom"},[n("nn-button",{attrs:{variant:"back",to:{name:"home"}}},[t._v("Terug")]),t._v(" "),n("nn-button",{staticClass:"u-float-right",attrs:{type:"submit"}},[t._v("Opslaan")])],1)])]):t._e()],1)])])]),t._v(" "),"done"===t.status?n("div",{staticClass:"o-layout__col-s-3"},[n("h2",{staticClass:"h2--secondary"},[t._v("Uw acties")]),t._v(" "),n("ul",{staticClass:"c-list"},[n("li",{staticClass:"c-list__item"},[n("nn-link",{on:{click:function(e){return e.preventDefault(),t.sendReleaseAccount(e)}}},[t._v("Vrijgeven")])],1),t._v(" "),n("li",{staticClass:"c-list__item"},[n("nn-link",{on:{click:function(e){return e.preventDefault(),t.sendPasswordReset(e)}}},[t._v("Wachtwoord reset")])],1)])]):t._e()])])],1)},[],!1,null,null,null).exports,T=function(){return a.default.use(v.a),new v.a({routes:[{path:"/",name:"home",component:g},{path:"/find-golden-record",name:"findGoldenRecord",component:y},{path:"/account-details/:goldenRecordId",name:"accountDetails",component:I},{path:"/confirm-account-create/:username",name:"confirmAccount",component:S},{path:"/edit-account/:username",name:"editAccount",component:V}],scrollBehavior:function(){return{x:0,y:0}}})},q={props:{config:Object},template:'<div><loading-overlay v-if="loading"></loading-overlay><router-view :config="config"></router-view></div>',data:function(){return{loading:!1}},provide:function(){var e=this;return{loader:{start:function(){e.loading=!0},stop:function(){e.loading=!1}}}}},L=n(727),Z=(n(750),{template:'<nn-stepper :steps="steps" :activeStep="activeStep"></nn-stepper>',props:["current"],computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e})({},Object(r.d)(["businessPartner"]),{steps:function(){return[{name:"Zoeken",to:"/find-golden-record"},{name:"Accountgegevens",to:this.businessPartner?"/account-details/"+this.businessPartner.GoldenBPId:""},{name:"Bevestiging"}]},activeStep:function(){return parseFloat(this.current)}})}),z={template:'<nn-stepper :steps="steps" :activeStep="activeStep"></nn-stepper>',props:["current"],computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e})({},Object(r.d)(["account","delegation"]),{steps:function(){return[{name:"Zoeken",to:"/find-account-for-delegates"},{name:"Koppelen",to:this.account?"/assign-delegates/"+this.account.Username:""},{name:"Controleren",to:this.account&&this.delegation&&this.delegation.username?"/check-delegation/"+this.delegation.username:""},{name:"Bevestiging",to:"/confirm-delegation"}]},activeStep:function(){return parseFloat(this.current)}})};a.default.component("account-steps",Z),a.default.component("delegate-steps",z),a.default.use(o.a);t.default=function(e,t){new a.default({el:Object(L.a)(e),store:f,router:T(),render:function(e){return e(q,{props:{config:t}})}})}},727:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(e){var t=document.createElement("div");return e.appendChild(t),t}},730:function(e,t,n){"use strict";var a=n(748),o=n.n(a);t.a={name:"alert",template:o.a,props:{type:{type:String,default:""},isOpen:{type:Boolean,default:!0},showCloseButton:{type:Boolean,default:!1}},computed:{alertClasses:function(){return"c-notification c-notification--"+this.type}},methods:{closeAlert:function(){this.$emit("closeAlert",this)}}}},742:function(e,t,n){"use strict";var a=n(760),o=n.n(a),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a={name:"Datatable",template:o.a,props:{rows:{type:Array,default:[]},displayedColumns:{type:Object,default:function(){return{}}},multiSelect:{type:Boolean,default:!1},selection:{type:Array,default:function(){return[]}},elementsPerPage:{type:Number,default:10},border:{type:Boolean,default:!0},crud:{type:Boolean,default:!1},displayHeaders:{type:Boolean,default:!0},showPagination:{type:Boolean,default:!0}},data:function(){return{currentPage:1}},methods:{displayColumn:function(e,t){return e[t]&&0<e[t].length?e[t]:"-"},isPager:function(){return this.showPagination&&1<this.numPages()},numPages:function(){return Math.ceil(this.rows.length/this.elementsPerPage)},getRows:function(){if(this.showPagination){var e=(this.currentPage-1)*this.elementsPerPage,t=e+this.elementsPerPage;return this.rows.slice(e,t)}return this.rows},changePage:function(e){this.currentPage=e},clickRow:function(e,t){this.multiSelect&&(this.updateSelection(t),e.stopPropagation())},clickCheckBox:function(e){return e.preventDefault(),e.stopPropagation(),!1},updateSelection:function(e){var t=document.querySelector('input[name="row_'+e+'"]');t.checked=!t.checked;var n=this.rows.filter(function(e,t){return document.querySelector('input[name="row_'+t+'"]').checked});this.$emit("updateSelection",n)},isChecked:function(t){var n=this;return this.selection.find(function(e){return n.deepCompare(n.rows[t],e)})},isCrud:function(e){return e===this.columns.length-1&&this.crud},hasRows:function(){return!!this.rows.length},deepCompare:function(e,t){for(var n in e){if(e.hasOwnProperty(n)!==t.hasOwnProperty(n))return!1;switch(r(e[n])){case"object":if(!Object.compare(e[n],t[n]))return!1;break;case"function":if(void 0===t[n]||"compare"!==n&&e[n].toString()!==t[n].toString())return!1;break;default:if(e[n]!==t[n])return!1}}for(var a in t)if(void 0===e[a])return!1;return!0}},computed:{columns:function(){return this.rows.length<1?[]:this.displayedColumns.length<1?Object.keys(this.rows[0]):Object.keys(this.displayedColumns)},columnsLabels:function(){var t=this;return Object.keys(this.displayedColumns).map(function(e){return t.displayedColumns[e]})}}}},746:function(e,t,n){"use strict";var a=n(152);t.a={bind:function(e){new a.a(e)}}},748:function(e,t){e.exports='<div :class="alertClasses" role="alert">\n  <a v-if="showCloseButton" @click.prevent="closeAlert();" class="c-notification__close-btn"><span class="c-icon c-icon--close--thin" aria-label="Close"></span></a>\n  <slot></slot>\n</div>\n'},750:function(e,t,n){"use strict";var a=n(722),o=n(787),r=n.n(o),s={template:"<div></div>",data:function(){return{loadingOverlay:{}}},created:function(){this.loadingOverlay=new window.app.Loadingoverlay,this.loadingOverlay.show()},destroyed:function(){this.loadingOverlay.hide(),this.loadingOverlay.destroy()}},i=n(730),c=n(757),u={template:n.n(c).a,components:{Alert:i.a},props:{label:{type:String},placeholder:{type:String},clearOnSubmit:{type:Boolean,default:!1},alert:{type:String}},data:function(){return{searchInput:""}},methods:{handleSubmit:function(){this.$emit("onSubmit",this.searchInput.trim()),!0===this.clearOnSubmit&&(this.searchInput="")}}},l=n(758),d={name:"TextInput",template:n.n(l).a,model:{prop:"value",event:"change"},props:{type:{type:String,default:"text"},name:{type:String,default:""},label:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},className:{type:String},maxLength:{type:Number,default:255}},methods:{blur:function(e){this.$emit("blur",e)},focus:function(e){this.$emit("focus",e)},updateValue:function(e){this.$emit("input",e)}},computed:{getClass:function(){var e=this.error?"c-form-text c-form-text--error":"c-form-text";return e=this.className?e+" "+this.className:e},getIconClass:function(){return this.error?"c-icon c-icon--pict-warning u-color--medium-orange u-font-size-m":"c-icon c-icon--check u-color--medium-orange u-font-size-m u-invisible"}}},m=n(759),f={name:"List",template:n.n(m).a,data:function(){return{}},props:{links:{type:Array,default:function(){return[]}}},methods:{}},v=n(742),p=n(746);a.default.directive("coloredText",p.a),a.default.directive("phoneFormatter",{bind:function(e){(e="INPUT"!==e.nodeName&&e.querySelector("input")||e).addEventListener("keyup",function(){e.value=e.value.replace(/[^0-9.]/g,""),15<e.value.length&&(e.value=e.value.substr(0,15))})},unbind:function(e){e.removeEventListener("keyup")}}),a.default.component("text-input",d),a.default.component("search-form",u),a.default.component("list",f),a.default.component("datatable",v.a),a.default.component("loading-overlay",s),a.default.component("alert",i.a),a.default.use(r.a,{symbol:"€",thousandsSeparator:".",fractionCount:2,fractionSeparator:",",symbolPosition:"front",symbolSpacing:!0})},757:function(e,t){e.exports='<form @submit.prevent="handleSubmit">\n  <div class="o-layout u-margin-top--15">\n    <div class="o-layout__row">\n      <div class="o-layout__col-s-12">\n        <label v-if="label" class="c-form-label" :for="searchInput">\n          {{label}}\n        </label>\n        <div style="display: flex; align-items: center;">\n          <input type="text" name="searchInput" class="c-form-text" :placeholder="placeholder" v-model="searchInput">\n          <button type="submit" class="c-form-button u-margin-left--10" :disabled="!searchInput.trim()">Zoek</button>\n        </div>\n      </div>\n    </div>\n    <div class="o-layout__row">\n      <div class="o-layout__col-s-12">\n        <alert v-if="alert" type="warning">\n          {{alert}}\n        </alert>\n      </div>\n    </div>\n  </div>\n</form>'},758:function(e,t){e.exports='<div>\n  <label v-if="label" class="c-form-label" :for="name">\n    {{label}}\n  </label>\n  <div class="o-flex">\n    <div class="o-flex__col">\n      <input v-bind:class="getClass"\n        :type="type"\n        :id="name"\n        :name="name"\n        :value="value"\n        :placeholder="placeholder"\n        :disabled="disabled"\n        :readonly="readonly"\n        :maxlength="maxLength"\n        @input="updateValue"\n        @change="updateValue"\n        @blur="blur"\n        @focus="focus"\n      />\n    </div>\n    <div class="o-flex__col o-flex__col--auto  o-flex__col--icon">\n      <span v-if="error" v-bind:class="getIconClass"></span>\n      <span v-if="!error" v-bind:class="getIconClass"></span>\n    </div>\n  </div>\n  <div v-if="errorMessage" class="u-color--medium-orange u-font-bold u-margin-top--5" data-test="textInput-errorMessage">{{errorMessage}}</div>\n</div>\n'},759:function(e,t){e.exports='<ul class="c-list">\n    <li v-for="link in links" class="c-list__item">\n      <router-link :to="link.url" class="c-link">{{link.label}}</router-link>\n    </li>\n</ul>'},760:function(e,t){e.exports='<div>\n  <table v-if="hasRows()" v-bind:class="border ? \'c-table c-table--large\' : \'c-table--no-border\'">\n    <thead v-if="displayHeaders" class="c-table__header">\n      <tr class="c-table__header__row">\n        <th v-if="multiSelect" class="c-table__header__cell"></th>\n        <th class="c-table__header__cell" v-for="col in columnsLabels">{{col}}</th>\n      </tr>\n    </thead>\n    <tbody class="c-table__body">\n      <tr class="c-table__body__row" v-for="(row, index) in getRows()" :key="index" @click="clickRow($event, index)">\n        <td v-if="multiSelect" style="width: 30px;" class="c-table__body__cell">\n            <input type="checkbox" class="c-form-checkbox" @click="clickCheckBox($event)" v-bind:name="\'row_\' + index" v-bind:value="index" v-bind:id="\'row_\' + index" v-bind:checked="isChecked(index)">\n            <label v-bind:for="\'row_\' + index">&nbsp;</label>\n        </td>\n        <td v-for="(col, ind) in columns" v-bind:class="isCrud(ind) ? \'c-table__body__cell u-textalign-right\' : \'c-table__body__cell\'">\n          <span v-if="!isCrud(ind)">{{ displayColumn(row, col) }}</span>\n          <slot v-if="isCrud(ind)" v-bind="row[col]"></slot>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <div v-if="isPager()" class="pagination">\n    <ul class="c-pagination__list">\n      <li v-for="i in numPages()" class="c-pagination__item">\n        <a href="#" v-bind:aria-label="\'pagina \' + currentPage" v-on:click="changePage(i)" v-bind:class="[i == currentPage ? \'active\' : \'\']"\n          class="c-pagination__link">{{i}}</a>\n      </li>\n    </ul>\n  </div>\n</div>\n'},761:function(e,t,n){"use strict";var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var l={valid:!0,message:""};t.a=function(c){return{data:function(){return{validationResults:Object.keys(c).reduce(function(e,t){return e[t]=l,e},{})}},computed:{isFormValid:function(){var t=this;return Object.keys(this.validationResults).map(function(e){return t.validationResults[e].valid}).every(function(e){return Boolean(e)})}},methods:{isValidatedAndValid:function(e){var t=this.validationResults[e];return!t||t.valid},validationMessage:function(e){var t=this.validationResults[e];return t?t.message:""},addConfiguration:function(e){return!(!e||Array.isArray(e)||"object"!==(void 0===e?"undefined":a(e)))&&(c=u({},c,e),this.validationResults=u({},this.validationResults,Object.keys(e).reduce(function(e,t){return e[t]=l,e},{})),c)},removeConfiguration:function(e){return Object.keys(c).includes(e)?(delete c[e],delete this.validationResults[e],c):"Non-existing key"},validateFormElement:function(e,t,n){var a=c[e];a||(this.validationResults[e]=l);var o,r,s,i=a(t,n);i=i||l,this.validationResults=u({},this.validationResults,(s=i,(r=e)in(o={})?Object.defineProperty(o,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[r]=s,o))},validateForm:function(t){var n=this;Object.keys(c).forEach(function(e){n.validateFormElement(e,t[e])})}}}}}}]);
//# sourceMappingURL=corporate-accounts-min.js.map