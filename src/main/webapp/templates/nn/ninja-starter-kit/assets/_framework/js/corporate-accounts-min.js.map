{"version":3,"sources":["webpack:///.-modules/src/app-corporateAccountManagement/utils.js","webpack:///.-modules/src/app-corporateAccountManagement/store/index.js","webpack:///.-modules/src/app-corporateAccountManagement/pages/validations.js","webpack:///../nn-psdl-modules/src/app-corporateAccountManagement/pages/home.vue","webpack:///.-modules/src/app-corporateAccountManagement/pages/home.vue","webpack:///.-modules/src/app-corporateAccountManagement/pages/home.vue?42f1","webpack:///../nn-psdl-modules/src/app-corporateAccountManagement/pages/create-account/findGoldenRecord.vue","webpack:///.-modules/src/app-corporateAccountManagement/pages/create-account/findGoldenRecord.vue","webpack:///.-modules/src/app-corporateAccountManagement/pages/create-account/findGoldenRecord.vue?a398","webpack:///../nn-psdl-modules/src/app-corporateAccountManagement/pages/accountForm.vue","webpack:///.-modules/src/app-corporateAccountManagement/pages/accountForm.vue","webpack:///.-modules/src/app-corporateAccountManagement/pages/accountForm.vue?9f59","webpack:///../nn-psdl-modules/src/app-corporateAccountManagement/pages/create-account/accountDetails.vue","webpack:///.-modules/src/app-corporateAccountManagement/pages/create-account/accountDetails.vue","webpack:///.-modules/src/app-corporateAccountManagement/pages/create-account/accountDetails.vue?dc2c","webpack:///.-modules/src/app-corporateAccountManagement/pages/create-account/confirmAccount.vue","webpack:///../nn-psdl-modules/src/app-corporateAccountManagement/pages/create-account/confirmAccount.vue","webpack:///.-modules/src/app-corporateAccountManagement/pages/create-account/confirmAccount.vue?df27","webpack:///../nn-psdl-modules/src/app-corporateAccountManagement/pages/manage-account/editAccount.vue","webpack:///.-modules/src/app-corporateAccountManagement/pages/manage-account/editAccount.vue","webpack:///.-modules/src/app-corporateAccountManagement/pages/manage-account/editAccount.vue?c8c6","webpack:///.-modules/src/app-corporateAccountManagement/router/index.js","webpack:///.-modules/src/app-corporateAccountManagement/pages/index.js","webpack:///.-modules/src/app-corporateAccountManagement/common/accountSteps.js","webpack:///.-modules/src/app-corporateAccountManagement/common/delegateSteps.js","webpack:///.-modules/src/app-corporateAccountManagement/common/index.js","webpack:///.-modules/src/app-corporateAccountManagement/accountManagement.js","webpack:///.-modules/src/app-vue-shared/createVueChildContainer.js","webpack:///.-modules/src/app-vue-shared/alert.js","webpack:///.-modules/src/app-vue-shared/datatable.js","webpack:///.-modules/src/app-vue-shared/coloredText.directive.js","webpack:///.-modules/src/app-vue-shared/alert.html","webpack:///.-modules/src/app-vue-shared/loadingOverlay.js","webpack:///.-modules/src/app-vue-shared/searchForm.js","webpack:///.-modules/src/app-vue-shared/textInput.js","webpack:///.-modules/src/app-vue-shared/list.js","webpack:///.-modules/src/app-vue-shared/shared.js","webpack:///.-modules/src/app-vue-shared/phoneFormatter.directive.js","webpack:///.-modules/src/app-vue-shared/searchForm.html","webpack:///.-modules/src/app-vue-shared/textInput.html","webpack:///.-modules/src/app-vue-shared/list.html","webpack:///.-modules/src/app-vue-shared/datatable.html","webpack:///.-modules/src/app-vue-shared/validationMixin.js"],"names":["asString","value","organisationName","businessPartner","Organisation","OrganisationName","config","setFetchMethod","fetch","setFetchCredentials","Vue","use","Vuex","hasValue","trim","mutations","account","state","Admin","Customer_GR_ID","Username","FirstName","FamilyNamePrefix","FamilyName","Telephonenumber","EmailAddress","Emailaddress","otherAccounts","accounts","delegation","delegationModified","delegate","removeDelegate","index","requested","indexOf","splice","addDelegate","push","actions","findAccountByUsername","username","commit","api","corporateAccess","searchBusinessUserForBusinessCustomer","then","response","Results","BusinessUser","createAccount","context","handleBusinessUserForBusinessCustomer","updateAccount","Object","assign","Action","releaseAccount","AccountStatus","resetPassword","findBusinessPartner","goldenRecordId","findBusinessPartnerForCall","BusinessPartner","findDelegate","OrganisationID","GoldenBPId","Identification","OrganisationType","findAccountsForDelegation","searchText","dispatch","test","asArray","find","a","filter","prepareForDelegation","Promise","reject","name","contactName","contactEmail","original","businessPartnerPromise","delegatePromise","getBusinessCustomerAuthorisationForBusinessCustomer","result","BusinessCustomerAuthorisation","Delegates","delegatePromises","forEach","internalDelegate","BusinessRoleId","BusinessRoleData","all","addDelegateWithBusinessRole","handleBusinessRoleDefinitionForBusinessCustomer","addDelegates","delegates","promises","errors","handleBusinessCustomerAuthorisationsForBusinessCustomer","catch","e","message","errorList","description","length","deleteDelegates","store","Store","props","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","_e","urlDelegateTool","redirectCorporateSearch","inject","data","mounted","$store","computed","methods","handleSubmit","loader","start","on","_s","params","emailRegex","phoneRegex","userNameRegex","valid","isDuplicate","mixins","onPropertyChanged","Function","editMode","Boolean","forceInvalidResponseFromServer","validateFormElement","elementName","removeConfiguration","ref","$event","preventDefault","formSubmit","isValidatedAndValid","validationMessage","target","model","callback","$$v","$set","expression","_t","components","error","$route","resetErrors","status","modal","validationErrors","accountData","openModal","header","$refs","changeConfirmation","open","closeModal","close","sendReleaseAccount","sendPasswordReset","createRouter","VueRouter","routes","path","component","Home","FindGoldenRecord","AccountDetails","ConfirmAccount","EditAccount","scrollBehavior","x","y","template","loading","provide","stop","mapState","steps","to","activeStep","parseFloat","current","AccountSteps","AssignSteps","VueComponents","bootstrapAccountManagement","root","el","createVueChildContainer","router","render","h","Index","div","document","createElement","appendChild","type","String","default","isOpen","showCloseButton","alertClasses","closeAlert","$emit","rows","Array","displayedColumns","multiSelect","selection","elementsPerPage","Number","border","crud","displayHeaders","showPagination","currentPage","displayColumn","row","col","isPager","numPages","Math","ceil","getRows","end","slice","changePage","page","clickRow","evt","updateSelection","stopPropagation","clickCheckBox","checkbox","querySelector","checked","val","isChecked","item","deepCompare","isCrud","columns","hasRows","obj1","obj2","p","hasOwnProperty","compare","toString","q","keys","columnsLabels","map","key","bind","element","ColoredText","module","exports","loadingOverlay","created","window","app","Loadingoverlay","show","destroyed","hide","destroy","Alert","label","placeholder","clearOnSubmit","alert","searchInput","prop","event","disabled","readonly","errorMessage","className","maxLength","blur","focus","updateValue","getClass","classes","getIconClass","links","directive","nodeName","addEventListener","replace","substr","unbind","removeEventListener","TextInput","SearchForm","List","Datatable","LoadingOverlay","VueCurrencyFilter","symbol","thousandsSeparator","fractionCount","fractionSeparator","symbolPosition","symbolSpacing","validResult","configuration","validationResults","reduce","prev","curr","isFormValid","k","every","r","validationResult","addConfiguration","extraConfig","isArray","configName","includes","forcedInvalid","validator","validateForm"],"mappings":"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","file":"corporate-accounts-min.js","sourcesContent":["export function asString(value) {\n  if (typeof value === 'string') {\n    return value;\n  }\n\n  return '';\n}\n\nexport function fullName(account) {\n  let name = '';\n\n  name += asString(account.FirstName) + ' ';\n  if (asString(account.FamilyNamePrefix)) {\n    name += asString(account.FamilyNamePrefix) + ' ';\n  }\n  name += asString(account.FamilyName);\n\n  return name;\n}\n\nexport function organisationName(businessPartner) {\n  return businessPartner.Organisation ? businessPartner.Organisation.OrganisationName : ''\n}","import Vue from \"vue\";\nimport Vuex from 'vuex';\nimport {asArray} from \"@nn/psdl-utility/src/object-utils\";\n\n\nimport {api, config} from '@nn/nn-api'\nimport {asString, fullName, organisationName} from \"../utils\";\n\nconfig.setFetchMethod(fetch);\nconfig.setFetchCredentials('same-origin');\n\nVue.use(Vuex);\n\nconst state = {\n  account: null,\n  otherAccounts: null,\n  businessPartner: null,\n  delegation: {},\n  delegate: null,\n  delegationModified: false\n};\n\nconst mutations = {\n  account(state, account) {\n    if (!account) {\n      state.account = null;\n      return;\n    }\n\n    // Result returns more properties than we need and can conflict with the saving of the user.\n    // Therefore we map it to an internal account model.\n\n    // Empty props are returned as empty objects so we transform these to empty strings.\n\n    // There's a mismatch in casing for EmailAddress when fetching data and when saving it.\n    // We map it to the property casing used for saving account.\n    state.account = {\n      Admin: asString(account.Admin),\n      Customer_GR_ID: asString(account.Customer_GR_ID),\n      Username: asString(account.Username),\n      FirstName: asString(account.FirstName),\n      FamilyNamePrefix: asString(account.FamilyNamePrefix),\n      FamilyName: asString(account.FamilyName),\n      Telephonenumber: asString(account.Telephonenumber),\n      EmailAddress: asString(account.Emailaddress || account.EmailAddress)\n    };\n  },\n  otherAccounts(state, accounts) {\n    state.otherAccounts = accounts;\n  },\n  businessPartner(state, businessPartner) {\n    state.businessPartner = businessPartner;\n  },\n  delegation(state, delegation) {\n    state.delegation = delegation;\n    state.delegationModified = false;\n  },\n  delegate(state, delegate) {\n    state.delegate = delegate;\n  },\n  removeDelegate(state, delegate) {\n    const index = state.delegation.requested.indexOf(delegate);\n    state.delegation.requested.splice(index, 1);\n    state.delegationModified = true;\n  },\n  addDelegate(state) {\n    state.delegation.requested.push(state.delegate);\n    state.delegate = null;\n    state.delegationModified = true;\n  },\n};\n\nconst actions = {\n  findAccountByUsername({commit}, username) {\n    return api.corporateAccess.searchBusinessUserForBusinessCustomer('Username', username).then(response => {\n      // Usernames are unique, so result will either be empty or exactly 1\n      commit('account', response.Results.BusinessUser);\n    });\n  },\n  createAccount(context, account) {\n    return api.corporateAccess.handleBusinessUserForBusinessCustomer(account);\n  },\n  updateAccount({commit}, account) {\n    // map Action to new object to keep original clean, commit original if successful\n    const updateAccount = Object.assign({}, account, {Action: \"Update\"});\n    return api.corporateAccess.handleBusinessUserForBusinessCustomer(updateAccount).then(() => {\n      commit('account', account);\n    });\n  },\n  releaseAccount({state}) {\n    const account = Object.assign({}, state.account, {AccountStatus: \"RE\", Action: \"Update\"});\n    return api.corporateAccess.handleBusinessUserForBusinessCustomer(account)\n  },\n  resetPassword({state}) {\n    return api.corporateAccess.resetPassword(state.account.Username);\n  },\n\n  findBusinessPartner({commit}, goldenRecordId) {\n    return api.corporateAccess.findBusinessPartnerForCall(goldenRecordId).then(response => {\n      commit('businessPartner', response.BusinessPartner)\n    });\n  },\n  findDelegate({commit, state}, goldenRecordId) {\n    return api.corporateAccess.findBusinessPartnerForCall(goldenRecordId).then(response => {\n      if (response.BusinessPartner) {\n        commit('delegate', {\n          // Map to Internal Delegate structure\n          OrganisationID: response.BusinessPartner.GoldenBPId,\n          OrganisationName: organisationName(response.BusinessPartner),\n          // BusinessRoleId -> will be fetched if added\n          Identification: {\n            OrganisationID: state.delegation.goldenRecordId,\n            OrganisationType: 'BC'\n          }\n        });\n      } else {\n        commit('delegate', null);\n      }\n    });\n  },\n  findAccountsForDelegation({commit, dispatch, state}, searchText) {\n    if (/^\\d{10}$/.test(searchText)) {\n      // Search by golden record ID\n      return api.corporateAccess.searchBusinessUserForBusinessCustomer('Customer_GR_ID', searchText)\n        .then(response => {\n          let accounts = asArray(response.Results.BusinessUser);\n          if (accounts) {\n            commit('account', accounts.find(a => a.Admin === 'true'));\n            commit('otherAccounts', accounts.filter(a => a.Username !== state.account.Username));\n          } else {\n            commit('account', null);\n            commit('otherAccounts', null);\n          }\n        });\n    }\n\n    // search by username\n    return dispatch('findAccountByUsername', searchText).then(() => {\n      if (state.account) {\n        // now we know the golden record ID and can search for all other related accounts\n        return api.corporateAccess.searchBusinessUserForBusinessCustomer('Customer_GR_ID', state.account.Customer_GR_ID)\n          .then(response => {\n            let accounts = asArray(response.Results.BusinessUser);\n            if (accounts) {\n              commit('otherAccounts', accounts.filter(a => a.Username !== state.account.Username))\n            } else {\n              commit('otherAccounts', null)\n            }\n          })\n      }\n      commit('otherAccounts', null)\n\n    });\n  },\n  prepareForDelegation({state, commit, dispatch}, username) {\n    return dispatch('findAccountByUsername', username).then(() => {\n      if (!state.account) {\n        return Promise.reject();\n      }\n\n      const delegation = {\n        goldenRecordId: state.account.Customer_GR_ID,\n        username: state.account.Username,\n        contactName: fullName(state.account),\n        contactEmail: state.account.EmailAddress,\n        original: [],\n        requested: []\n      };\n\n      // get business partner\n      const businessPartnerPromise = api.corporateAccess.findBusinessPartnerForCall(delegation.goldenRecordId)\n        .then(response => {\n          delegation.organisationName = organisationName(response.BusinessPartner);\n        });\n\n      // get current delegates\n      const delegatePromise = api.corporateAccess.getBusinessCustomerAuthorisationForBusinessCustomer(delegation.goldenRecordId).then(result => {\n        if (result.BusinessCustomerAuthorisation.Delegates) {\n          const delegatePromises = [];\n          const delegates = asArray(result.BusinessCustomerAuthorisation.Delegates);\n\n          delegates.forEach(delegate => {\n            delegatePromises.push(\n              api.corporateAccess.findBusinessPartnerForCall(delegate.Identification.OrganisationID)\n                .then(response => {\n                  /*\n                  * Internal Delegate structure matches structure used for adding and deleting delegates instead of structure received in this call.\n                  * Mapping is done below.\n                  *\n                  * Internal Delegate:\n                  * {\n                  *   OrganisationID       -> ID of delegated organisation\n                  *   OrganisationName     -> Name of delegated organisation\n                  *   BusinessRoleId       -> Business Role ID for delegated organisation\n                  *   Identification: {\n                  *     OrganisationID     -> ID of base organisation\n                  *     OrganisationType   -> Type of base organisation (always BC for now)\n                  *   }\n                  * }\n                  * */\n                  const internalDelegate = {\n                    OrganisationID: delegate.Identification.OrganisationID,\n                    OrganisationName: organisationName(response.BusinessPartner),\n                    BusinessRoleId: delegate.BusinessRoleData.BusinessRoleId,\n                    Identification: {\n                      OrganisationID: delegation.goldenRecordId,\n                      OrganisationType: 'BC'\n                    }\n                  };\n\n                  // to start the original and requested lists are the same\n                  // later used to determine what to add and what to delete\n                  delegation.original.push(internalDelegate);\n                  delegation.requested.push(internalDelegate);\n                })\n            );\n          });\n\n          return Promise.all(delegatePromises);\n        }\n      });\n\n      return Promise.all([businessPartnerPromise, delegatePromise]).then(() => {\n        commit('delegation', delegation);\n      });\n    })\n  },\n  addDelegateWithBusinessRole({state, commit}) {\n    return api.corporateAccess.handleBusinessRoleDefinitionForBusinessCustomer(state.delegate.OrganisationID, 'Volledig beheer', true)\n      .then(response => {\n        state.delegate.BusinessRoleId = response.BusinessRoleId;\n        commit('addDelegate');\n      });\n  },\n  addDelegates(context, delegates) {\n    const promises = [];\n    const errors = [];\n\n    delegates.forEach(delegate => {\n      promises.push(\n        api.corporateAccess.handleBusinessCustomerAuthorisationsForBusinessCustomer(delegate.OrganisationID, 'Add', delegate, delegate.BusinessRoleId)\n          .catch(e => {\n            // gather errors in an array (note this can't be done in Promise.all because it will fail on first error,\n            // but we want all to finish and give a list of any errors.\n            // This does mean that some companies will persist to server, only the ones giving an error will not have been added.\n            errors.push({\n              delegate,\n              message: e.errorList[0].description\n            });\n          })\n      )\n    });\n\n    return Promise.all(promises).then(() => {\n      if (errors.length > 0) {\n        // ensure error propagation\n        return Promise.reject(errors);\n      }\n    });\n  },\n  deleteDelegates(context, delegates) {\n    const promises = [];\n    delegates.forEach(delegate => {\n      promises.push(\n        api.corporateAccess.handleBusinessCustomerAuthorisationsForBusinessCustomer(delegate.OrganisationID, 'Delete', delegate, delegate.BusinessRoleId)\n      )\n    });\n    return Promise.all(promises);\n  },\n};\n\nconst store = new Vuex.Store({\n  state,\n  mutations,\n  actions\n});\n\nexport {store, state, actions, mutations}\n","const emailRegex = /^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6})*$/;\n// eslint-disable-next-line no-useless-escape\nconst phoneRegex = /^\\+[0-9]{2}|^\\+[0-9]{2}\\(0\\)|^\\(\\+[0-9]{2}\\)\\(0\\)|^00[0-9]{2}|^0[0-9]{9}$|[0-9\\-\\s]{10}$/;\nconst userNameRegex = /^[a-zA-Z0-9-_.]+$/;\nconst hasValue = (value) => value ? !!value.trim() : false;\n\nexport default {\n  FirstName: (value) => ({ valid: hasValue(value), message: 'Geef een voornaam op voor de gebruiker' }),\n  FamilyName: (value) => ({ valid: hasValue(value), message: 'Geef een achternaam op voor de gebruiker' }),\n  Customer_GR_ID: (value) => ({ valid: hasValue(value), message: 'Geef een geldige golden record ID' }),\n  Username: (value, isDuplicate) => {\n    if(hasValue(value) && (value.length < 2 || value.length > 50)) {\n      return { valid: false, message: 'Je gebruikersnaam moet tussen de 2 en 50 karakters bevatten.' };\n    }\n    if(isDuplicate){\n      return { valid: false, message: 'Gebruikersnaam is al in gebruik' };\n    }\n    if (!userNameRegex.test(value)) {\n      return { valid: false, message: 'De toegestane tekens zijn a-z, A-Z, 0-9 en . - _ ' };\n    }\n    return { valid: hasValue(value), message: 'Geef een gebruikersnaam op waarmee de gebruiker kan inloggen' };\n  },\n  Telephonenumber: (value) => {\n    if (!hasValue(value)) {\n      return { valid: false, message: 'Geef een telefoonnummer op waarmee de gebruiker kan worden gebeld' };\n    }\n    return { valid: phoneRegex.test(value), message: 'Vul een geldig telefoonnummer in' }\n  },\n  EmailAddress: (value) => {\n    if (!hasValue(value)) {\n      return { valid: false, message: 'Geef een e-mailadres op waar we het account naar toe kunnen sturen' };\n    }\n    return { valid: emailRegex.test(value), message: 'Vul een geldig e-mailadres in' };\n  },\n}","<template>\n<div class=\"o-layout o-layout__container\">\n  <div class=\"o-layout__row\">\n    <div class=\"o-layout__col-s-9\">\n      <h1>Intern</h1>\n    </div>\n    <div class=\"o-layout__col-s-3\">\n      <h2 class=\"h2--secondary\">Uw acties</h2>\n      <ul class=\"c-list\">\n        <li class=\"c-list__item\" v-if=\"config.showCreateAccount\"><nn-link to=\"/find-golden-record\">Account aanmaken</nn-link></li>\n        <li class=\"c-list__item\" v-if=\"config.showDelegateAccount\"><nn-link :href=\"config.urlDelegateTool\">Bedrijven koppelen</nn-link></li>\n        <li class=\"c-list__item\" v-if=\"config.showManageAccount\"><nn-link :href=\"config.redirectCorporateSearch\">Account zoeken en wijzigen</nn-link></li>\n      </ul>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  props: {\n    config: Object\n  },\n}\n</script>\n","/* script */\nexport * from \"!!babel-loader!eslint-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\nimport __vue_script__ from \"!!babel-loader!eslint-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b2bcb6f8\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"2\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"o-layout o-layout__container\"},[_c('div',{staticClass:\"o-layout__row\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"o-layout__col-s-3\"},[_c('h2',{staticClass:\"h2--secondary\"},[_vm._v(\"Uw acties\")]),_vm._v(\" \"),_c('ul',{staticClass:\"c-list\"},[(_vm.config.showCreateAccount)?_c('li',{staticClass:\"c-list__item\"},[_c('nn-link',{attrs:{\"to\":\"/find-golden-record\"}},[_vm._v(\"Account aanmaken\")])],1):_vm._e(),_vm._v(\" \"),(_vm.config.showDelegateAccount)?_c('li',{staticClass:\"c-list__item\"},[_c('nn-link',{attrs:{\"href\":_vm.config.urlDelegateTool}},[_vm._v(\"Bedrijven koppelen\")])],1):_vm._e(),_vm._v(\" \"),(_vm.config.showManageAccount)?_c('li',{staticClass:\"c-list__item\"},[_c('nn-link',{attrs:{\"href\":_vm.config.redirectCorporateSearch}},[_vm._v(\"Account zoeken en wijzigen\")])],1):_vm._e()])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"o-layout__col-s-9\"},[_c('h1',[_vm._v(\"Intern\")])])}]\nexport { render, staticRenderFns }","<template>\n<div>\n  <h1>Admin account Mijn NN Zakelijk aanmaken</h1>\n  <account-steps current=\"0\"></account-steps>\n  <div class=\"o-layout u-margin-top--30\">\n    <div class=\"o-layout__row\">\n      <div class=\"o-layout__col-s-6\">\n        <search-form placeholder=\"Zoek op golden record\" @onSubmit=\"handleSubmit\" :alert=\"message\"></search-form>\n      </div>\n    </div>\n    <div v-if=\"businessPartner\" class=\"u-margin-top--30\">\n      <div class=\"o-layout__row\">\n        <div class=\"o-layout__col-s-12\">\n          <b>Accountgegevens</b>\n        </div>\n      </div>\n      <div class=\"o-layout__row\">\n        <div class=\"o-layout__col-s-4\">Golden record</div>\n        <div class=\"o-layout__col-s-4\">{{businessPartner.GoldenBPId}}</div>\n      </div>\n      <div class=\"o-layout__row\">\n        <div class=\"o-layout__col-s-4\">Bedrijf</div>\n        <div class=\"o-layout__col-s-4\">{{businessPartner.Organisation ? businessPartner.Organisation.OrganisationName : ''}}</div>\n      </div>\n      <div class=\"o-layout__row u-margin-top--15\">\n        <div class=\"o-layout__col-s-4\"><nn-button variant=\"back\" :to=\"{name: 'home'}\">Terug</nn-button></div>\n        <div class=\"o-layout__col-s-4\"><nn-button variant=\"next\" :to=\"{name: 'accountDetails', params: {goldenRecordId: businessPartner.GoldenBPId}}\">Volgende</nn-button></div>\n      </div>\n    </div>\n    <div v-else class=\"o-layout__row u-margin-top--30\">\n      <div class=\"o-layout__col-s-6\">\n        <nn-button variant=\"back\" :to=\"{name: 'home'}\">Terug</nn-button>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport {mapActions, mapState} from 'vuex'\n\nexport default {\n  inject: ['loader'],\n  data: function () {\n    return {\n      message: ''\n    }\n  },\n  mounted: function () {\n    this.$store.commit('businessPartner', null);\n  },\n  computed: {\n    ...mapState([\n      'businessPartner'\n    ])\n  },\n  methods: {\n    ...mapActions([\n      'findBusinessPartner'\n    ]),\n    handleSubmit: function (searchText) {\n      this.loader.start();\n      this.message = '';\n      this.findBusinessPartner(searchText)\n        .then(() => {\n          if (!this.businessPartner) {\n            this.message = 'Bedrijf niet gevonden';\n          }\n        })\n        .finally(() => {\n          this.loader.stop();\n        })\n    },\n  }\n}\n</script>\n","/* script */\nexport * from \"!!babel-loader!eslint-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./findGoldenRecord.vue\"\nimport __vue_script__ from \"!!babel-loader!eslint-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./findGoldenRecord.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3a55adad\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"2\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./findGoldenRecord.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Admin account Mijn NN Zakelijk aanmaken\")]),_vm._v(\" \"),_c('account-steps',{attrs:{\"current\":\"0\"}}),_vm._v(\" \"),_c('div',{staticClass:\"o-layout u-margin-top--30\"},[_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-s-6\"},[_c('search-form',{attrs:{\"placeholder\":\"Zoek op golden record\",\"alert\":_vm.message},on:{\"onSubmit\":_vm.handleSubmit}})],1)]),_vm._v(\" \"),(_vm.businessPartner)?_c('div',{staticClass:\"u-margin-top--30\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-s-4\"},[_vm._v(\"Golden record\")]),_vm._v(\" \"),_c('div',{staticClass:\"o-layout__col-s-4\"},[_vm._v(_vm._s(_vm.businessPartner.GoldenBPId))])]),_vm._v(\" \"),_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-s-4\"},[_vm._v(\"Bedrijf\")]),_vm._v(\" \"),_c('div',{staticClass:\"o-layout__col-s-4\"},[_vm._v(_vm._s(_vm.businessPartner.Organisation ? _vm.businessPartner.Organisation.OrganisationName : ''))])]),_vm._v(\" \"),_c('div',{staticClass:\"o-layout__row u-margin-top--15\"},[_c('div',{staticClass:\"o-layout__col-s-4\"},[_c('nn-button',{attrs:{\"variant\":\"back\",\"to\":{name: 'home'}}},[_vm._v(\"Terug\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"o-layout__col-s-4\"},[_c('nn-button',{attrs:{\"variant\":\"next\",\"to\":{name: 'accountDetails', params: {goldenRecordId: _vm.businessPartner.GoldenBPId}}}},[_vm._v(\"Volgende\")])],1)])]):_c('div',{staticClass:\"o-layout__row u-margin-top--30\"},[_c('div',{staticClass:\"o-layout__col-s-6\"},[_c('nn-button',{attrs:{\"variant\":\"back\",\"to\":{name: 'home'}}},[_vm._v(\"Terug\")])],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-s-12\"},[_c('b',[_vm._v(\"Accountgegevens\")])])])}]\nexport { render, staticRenderFns }","<template>\n  <form @submit.prevent=\"formSubmit\" class=\"account-form\" v-if=\"account\" ref=\"accountForm\" novalidate>\n    <div class=\"o-layout\">\n      <div class=\"o-layout__row\" v-if=\"editMode\">\n        <div class=\"o-layout__col-s-12 u-margin-bottom\">\n          <nn-input-field\n          label=\"Golden record\"\n          v-model=\"account.Customer_GR_ID\"\n          required\n          name=\"Customer_GR_ID\"\n          @input=\"onPropertyChanged('Customer_GR_ID', $event)\"\n          @blur=\"validateFormElement('Customer_GR_ID', $event.target.value)\"\n          @keydownEnter=\"validateFormElement('Customer_GR_ID', $event.target.value)\"\n          :invalid=\"!isValidatedAndValid('Customer_GR_ID')\"\n          :error=\"validationMessage('Customer_GR_ID')\"\n          ></nn-input-field>\n        </div>\n      </div>\n      <div class=\"o-layout__row\" v-if=\"editMode\">\n        <div class=\"o-layout__col-s-12\">\n          <nn-input-field\n            class=\"u-margin-bottom\"\n            label=\"Gebruikersnaam\"\n            :value=\"account.Username\"\n            name=\"username\"\n            readonly\n          />\n        </div>\n      </div>\n      <div class=\"o-layout__row\">\n        <div class=\"o-layout__col-s-6\">\n          <nn-input-field\n            label=\"Voornaam\"\n            class=\"u-margin-bottom\"\n            v-model=\"account.FirstName\"\n            name=\"firstname\"\n            required\n            @input=\"onPropertyChanged('FirstName', $event)\"\n            @blur=\"validateFormElement('FirstName', $event.target.value)\"\n            @keydownEnter=\"validateFormElement('FirstName', $event.target.value)\"\n            :invalid=\"!isValidatedAndValid('FirstName')\"\n            :error=\"validationMessage('FirstName')\"\n          />\n        </div>\n        <div class=\"o-layout__col-s-6\">\n          <nn-input-field\n            class=\"u-margin-bottom\"\n            label=\"Tussenvoegsel\"\n            v-model=\"account.FamilyNamePrefix\"\n          />\n        </div>\n      </div>\n      <div class=\"o-layout__row\">\n        <div class=\"o-layout__col-s-12\">\n          <nn-input-field\n            class=\"u-margin-bottom\"\n            label=\"Achternaam\"\n            v-model=\"account.FamilyName\"\n            name=\"familyname\"\n            required\n            @input=\"onPropertyChanged('FamilyName', $event)\"\n            @blur=\"validateFormElement('FamilyName', $event.target.value)\"\n            @keydownEnter=\"validateFormElement('FamilyName', $event.target.value)\"\n            :invalid=\"!isValidatedAndValid('FamilyName')\"\n            :error=\"validationMessage('FamilyName')\"\n          />\n        </div>\n      </div>\n      <div class=\"o-layout__row\" v-if=\"!editMode\">\n        <div class=\"o-layout__col-s-12\">\n          <nn-input-field\n            class=\"u-margin-bottom\"\n            label=\"Gebruikersnaam\"\n            v-model=\"account.Username\"\n            name=\"username\"\n            required\n            pattern=\"^[a-zA-Z0-9-_.]+$\"\n            minLength= \"2\"\n            maxLength= \"50\"\n            @input=\"onPropertyChanged('Username', $event)\"\n            @blur=\"validateFormElement('Username', $event.target.value)\"\n            @keydownEnter=\"validateFormElement('Username', $event.target.value)\"\n            :invalid=\"!isValidatedAndValid('Username')\"\n            :error=\"validationMessage('Username')\"\n          />\n        </div>\n      </div>\n      <div class=\"o-layout__row\">\n        <div class=\"o-layout__col-s-12\">\n          <nn-input-field\n            class=\"u-margin-bottom\"\n            label=\"Telefoonnummer\"\n            v-model=\"account.Telephonenumber\"\n            name=\"phone\"\n            required\n            @input=\"onPropertyChanged('Telephonenumber', $event)\"\n            @blur=\"validateFormElement('Telephonenumber', $event.target.value)\"\n            @keydownEnter=\"validateFormElement('Telephonenumber', $event.target.value)\"\n            :invalid=\"!isValidatedAndValid('Telephonenumber')\"\n            :error=\"validationMessage('Telephonenumber')\"\n            type=\"tel\"\n          />\n        </div>\n      </div>\n      <div class=\"o-layout__row\">\n        <div class=\"o-layout__col-s-12\">\n          <nn-input-field\n            class=\"u-margin-bottom\"\n            label=\"E-mailadres\"\n            v-model=\"account.EmailAddress\"\n            name=\"email\"\n            type=\"email\"\n            @input=\"onPropertyChanged('EmailAddress', $event)\"\n            @blur=\"validateFormElement('EmailAddress', $event.target.value)\"\n            @keydownEnter=\"validateFormElement('EmailAddress', $event.target.value)\"\n            :invalid=\"!isValidatedAndValid('EmailAddress')\"\n            :error=\"validationMessage('EmailAddress')\"\n            required\n          />\n        </div>\n      </div>\n      <slot></slot>\n    </div>\n  </form>\n</template>\n\n<script>\nimport ValidationMixin from '@nn/psdl-modules/src/app-vue-shared/validationMixin';\nimport validations from './validations';\n\nexport default {\n  name: 'accountForm',\n  mixins: [ ValidationMixin(validations) ],\n  props: {\n    onPropertyChanged: Function,\n    handleSubmit: Function,\n    account: Object,\n    editMode: Boolean,\n  },\n  methods: {\n    async formSubmit() {\n      this.validateForm(this.account);\n      if(this.isFormValid){\n        this.handleSubmit();\n      } else {\n        await this.$nextTick();\n        document.querySelector('form.account-form input.c-form-text--error').focus();\n      }\n    },\n    forceInvalidResponseFromServer (elementName, value) {\n      this.validateFormElement(elementName, value, true)\n    }\n  },\n  computed:{\n  },\n  mounted (){\n    if(!this.editMode){\n      this.removeConfiguration('Customer_GR_ID')\n    }\n  }\n}\n\n</script>\n","/* script */\nexport * from \"!!babel-loader!eslint-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./accountForm.vue\"\nimport __vue_script__ from \"!!babel-loader!eslint-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./accountForm.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-348433a0\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"2\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./accountForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.account)?_c('form',{ref:\"accountForm\",staticClass:\"account-form\",attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.formSubmit($event)}}},[_c('div',{staticClass:\"o-layout\"},[(_vm.editMode)?_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-s-12 u-margin-bottom\"},[_c('nn-input-field',{attrs:{\"label\":\"Golden record\",\"required\":\"\",\"name\":\"Customer_GR_ID\",\"invalid\":!_vm.isValidatedAndValid('Customer_GR_ID'),\"error\":_vm.validationMessage('Customer_GR_ID')},on:{\"input\":function($event){return _vm.onPropertyChanged('Customer_GR_ID', $event)},\"blur\":function($event){return _vm.validateFormElement('Customer_GR_ID', $event.target.value)},\"keydownEnter\":function($event){return _vm.validateFormElement('Customer_GR_ID', $event.target.value)}},model:{value:(_vm.account.Customer_GR_ID),callback:function ($$v) {_vm.$set(_vm.account, \"Customer_GR_ID\", $$v)},expression:\"account.Customer_GR_ID\"}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.editMode)?_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-s-12\"},[_c('nn-input-field',{staticClass:\"u-margin-bottom\",attrs:{\"label\":\"Gebruikersnaam\",\"value\":_vm.account.Username,\"name\":\"username\",\"readonly\":\"\"}})],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-s-6\"},[_c('nn-input-field',{staticClass:\"u-margin-bottom\",attrs:{\"label\":\"Voornaam\",\"name\":\"firstname\",\"required\":\"\",\"invalid\":!_vm.isValidatedAndValid('FirstName'),\"error\":_vm.validationMessage('FirstName')},on:{\"input\":function($event){return _vm.onPropertyChanged('FirstName', $event)},\"blur\":function($event){return _vm.validateFormElement('FirstName', $event.target.value)},\"keydownEnter\":function($event){return _vm.validateFormElement('FirstName', $event.target.value)}},model:{value:(_vm.account.FirstName),callback:function ($$v) {_vm.$set(_vm.account, \"FirstName\", $$v)},expression:\"account.FirstName\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"o-layout__col-s-6\"},[_c('nn-input-field',{staticClass:\"u-margin-bottom\",attrs:{\"label\":\"Tussenvoegsel\"},model:{value:(_vm.account.FamilyNamePrefix),callback:function ($$v) {_vm.$set(_vm.account, \"FamilyNamePrefix\", $$v)},expression:\"account.FamilyNamePrefix\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-s-12\"},[_c('nn-input-field',{staticClass:\"u-margin-bottom\",attrs:{\"label\":\"Achternaam\",\"name\":\"familyname\",\"required\":\"\",\"invalid\":!_vm.isValidatedAndValid('FamilyName'),\"error\":_vm.validationMessage('FamilyName')},on:{\"input\":function($event){return _vm.onPropertyChanged('FamilyName', $event)},\"blur\":function($event){return _vm.validateFormElement('FamilyName', $event.target.value)},\"keydownEnter\":function($event){return _vm.validateFormElement('FamilyName', $event.target.value)}},model:{value:(_vm.account.FamilyName),callback:function ($$v) {_vm.$set(_vm.account, \"FamilyName\", $$v)},expression:\"account.FamilyName\"}})],1)]),_vm._v(\" \"),(!_vm.editMode)?_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-s-12\"},[_c('nn-input-field',{staticClass:\"u-margin-bottom\",attrs:{\"label\":\"Gebruikersnaam\",\"name\":\"username\",\"required\":\"\",\"pattern\":\"^[a-zA-Z0-9-_.]+$\",\"minLength\":\"2\",\"maxLength\":\"50\",\"invalid\":!_vm.isValidatedAndValid('Username'),\"error\":_vm.validationMessage('Username')},on:{\"input\":function($event){return _vm.onPropertyChanged('Username', $event)},\"blur\":function($event){return _vm.validateFormElement('Username', $event.target.value)},\"keydownEnter\":function($event){return _vm.validateFormElement('Username', $event.target.value)}},model:{value:(_vm.account.Username),callback:function ($$v) {_vm.$set(_vm.account, \"Username\", $$v)},expression:\"account.Username\"}})],1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-s-12\"},[_c('nn-input-field',{staticClass:\"u-margin-bottom\",attrs:{\"label\":\"Telefoonnummer\",\"name\":\"phone\",\"required\":\"\",\"invalid\":!_vm.isValidatedAndValid('Telephonenumber'),\"error\":_vm.validationMessage('Telephonenumber'),\"type\":\"tel\"},on:{\"input\":function($event){return _vm.onPropertyChanged('Telephonenumber', $event)},\"blur\":function($event){return _vm.validateFormElement('Telephonenumber', $event.target.value)},\"keydownEnter\":function($event){return _vm.validateFormElement('Telephonenumber', $event.target.value)}},model:{value:(_vm.account.Telephonenumber),callback:function ($$v) {_vm.$set(_vm.account, \"Telephonenumber\", $$v)},expression:\"account.Telephonenumber\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-s-12\"},[_c('nn-input-field',{staticClass:\"u-margin-bottom\",attrs:{\"label\":\"E-mailadres\",\"name\":\"email\",\"type\":\"email\",\"invalid\":!_vm.isValidatedAndValid('EmailAddress'),\"error\":_vm.validationMessage('EmailAddress'),\"required\":\"\"},on:{\"input\":function($event){return _vm.onPropertyChanged('EmailAddress', $event)},\"blur\":function($event){return _vm.validateFormElement('EmailAddress', $event.target.value)},\"keydownEnter\":function($event){return _vm.validateFormElement('EmailAddress', $event.target.value)}},model:{value:(_vm.account.EmailAddress),callback:function ($$v) {_vm.$set(_vm.account, \"EmailAddress\", $$v)},expression:\"account.EmailAddress\"}})],1)]),_vm._v(\" \"),_vm._t(\"default\")],2)]):_vm._e()}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\n<div>\n  <h1>Admin account Mijn NN Zakelijk aanmaken</h1>\n  <account-steps current=\"1\"></account-steps>\n  <div class=\"o-layout\">\n    <div class=\"o-layout__row\">\n      <div class=\"o-layout__col-m-6\">\n        <alert v-if=\"error\" type=\"error\" class=\"u-margin-bottom--15\">{{error}}</alert>\n        <account-form\n          :account=\"account\"\n          :handleSubmit=\"handleSubmit\"\n          :onPropertyChanged=\"onPropertyChanged\"\n          ref=\"accountForm\"\n          >\n          <div class=\"o-layout__row\">\n            <div class=\"o-layout__col-s-6\">\n              <nn-button variant=\"back\" :to=\"{name: 'findGoldenRecord'}\">Terug</nn-button>\n            </div>\n            <div class=\"o-layout__col-s-6\">\n              <nn-button variant=\"next\"  type=\"submit\" class=\"u-float-right\">Volgende</nn-button>\n            </div>\n          </div>\n        </account-form>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\nimport AccountForm from './../accountForm'\n\nexport default {\n  inject: ['loader'],\n  components: {AccountForm},\n  data: function () {\n    return {\n      account: {},\n      error: null,\n      errors: {}\n    }\n  },\n  computed: {\n    ...mapState([\n      'businessPartner'\n    ]),\n  },\n  mounted: function () {\n    // check if business partner is still same as route param\n    if (this.businessPartner && this.businessPartner.GoldenBPId === this.$route.params.goldenRecordId) {\n      return;\n    }\n    // if not then validate the route param record\n    this.loader.start();\n    this.findBusinessPartner(this.$route.params.goldenRecordId)\n      .finally(() => {\n        this.loader.stop();\n        if (!this.businessPartner) {\n          // if not valid then reroute back to find golden record\n          this.$router.push({ name: 'findGoldenRecord' });\n        }\n      })\n  },\n  methods: {\n    ...mapActions([\n      'createAccount',\n      'findBusinessPartner'\n    ]),\n    onPropertyChanged(name, value) {\n      this.account = {\n        ...this.account,\n        [name]: value\n      };\n    },\n\n    handleSubmit() {\n      this.error = null;\n      this.loader.start();\n      this.account.Customer_GR_ID = this.businessPartner.GoldenBPId;\n      this.account.Admin = 'true';\n      this.createAccount(this.account)\n        .then(() => {\n          this.$router.push({ name: 'confirmAccount', params: { username: this.account.Username } })\n        })\n        .catch(e => {\n          if (e.errorList && e.errorList.find(el => el.code === \"DUPLICATE USERNAME\")) {\n            if(this.$refs.accountForm){\n              this.$refs.accountForm.forceInvalidResponseFromServer('Username', this.account.Username)\n            }\n          } else {\n            this.error = \"Er is iets mis gegaan bij het aanmaken van de gebruiker.\";\n          }\n        })\n        .finally(() => {\n          this.loader.stop();\n        });\n    },\n    resetErrors: function () {\n      this.errors = {};\n    }\n  }\n}\n</script>","/* script */\nexport * from \"!!babel-loader!eslint-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./accountDetails.vue\"\nimport __vue_script__ from \"!!babel-loader!eslint-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./accountDetails.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-26410f66\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"2\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./accountDetails.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Admin account Mijn NN Zakelijk aanmaken\")]),_vm._v(\" \"),_c('account-steps',{attrs:{\"current\":\"1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"o-layout\"},[_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-m-6\"},[(_vm.error)?_c('alert',{staticClass:\"u-margin-bottom--15\",attrs:{\"type\":\"error\"}},[_vm._v(_vm._s(_vm.error))]):_vm._e(),_vm._v(\" \"),_c('account-form',{ref:\"accountForm\",attrs:{\"account\":_vm.account,\"handleSubmit\":_vm.handleSubmit,\"onPropertyChanged\":_vm.onPropertyChanged}},[_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-s-6\"},[_c('nn-button',{attrs:{\"variant\":\"back\",\"to\":{name: 'findGoldenRecord'}}},[_vm._v(\"Terug\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"o-layout__col-s-6\"},[_c('nn-button',{staticClass:\"u-float-right\",attrs:{\"variant\":\"next\",\"type\":\"submit\"}},[_vm._v(\"Volgende\")])],1)])])],1)])])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","/* script */\nexport * from \"!!babel-loader!eslint-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./confirmAccount.vue\"\nimport __vue_script__ from \"!!babel-loader!eslint-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./confirmAccount.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5c9467f5\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"2\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./confirmAccount.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","<template>\n<div>\n  <h1>Admin account Mijn NN Zakelijk aanmaken</h1>\n  <account-steps current=\"2\"></account-steps>\n  <b>Het account is aangemaakt, maar nog niet vrijgegeven.</b>\n  <p>Let op: u kunt het, controleren en daarna handmatig vrijgeven.</p>\n  <div class=\"o-layout\">\n    <div class=\"o-layout__row\">\n      <div class=\"o-layout__col-m-6\">\n        <nn-button variant=\"back\" :to=\"{name: 'home'}\">Terug home Mijn NN Zakelijk</nn-button>\n        <nn-button :to=\"{name: 'editAccount', params: {username: username}}\" class=\"u-float-right\">Account controleren</nn-button>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  computed: {\n    username: function () {\n      return this.$route.params.username\n    }\n  }\n}\n\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Admin account Mijn NN Zakelijk aanmaken\")]),_vm._v(\" \"),_c('account-steps',{attrs:{\"current\":\"2\"}}),_vm._v(\" \"),_c('b',[_vm._v(\"Het account is aangemaakt, maar nog niet vrijgegeven.\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Let op: u kunt het, controleren en daarna handmatig vrijgeven.\")]),_vm._v(\" \"),_c('div',{staticClass:\"o-layout\"},[_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-m-6\"},[_c('nn-button',{attrs:{\"variant\":\"back\",\"to\":{name: 'home'}}},[_vm._v(\"Terug home Mijn NN Zakelijk\")]),_vm._v(\" \"),_c('nn-button',{staticClass:\"u-float-right\",attrs:{\"to\":{name: 'editAccount', params: {username: _vm.username}}}},[_vm._v(\"Account controleren\")])],1)])])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","<template>\n<div>\n  <h1>Account controleren</h1>\n  <nn-modal ref=\"changeConfirmation\">\n    <h1>{{modal.header}}</h1>\n    <hr/>\n    <p>{{modal.message}}</p>\n    <div class=\"u-float-right\">\n      <nn-button @click=\"closeModal\">Sluiten</nn-button>\n    </div>\n    <br>\n    <br>\n  </nn-modal>\n  <div class=\"o-layout\">\n    <div class=\"o-layout__row\">\n      <div class=\"o-layout__col-m-9\">\n        <div class=\"o-layout\">\n          <div class=\"o-layout__row\">\n            <div class=\"o-layout__col-m-9\">\n              <alert v-if=\"status === 'failed'\" type=\"error\" class=\"u-margin-bottom\">\n                Er is iets misgegaan bij het ophalen van de gebruiker.\n              </alert>\n              <loading-overlay v-if=\"status === 'action'\"> Please wait...</loading-overlay>\n              <account-form\n                v-if=\"status === 'done' || status === 'action'\"\n                :account=\"accountData\"\n                :handleSubmit=\"handleSubmit\"\n                :onPropertyChanged=\"onPropertyChanged\"\n                :editMode=\"editMode\"\n              >\n                <div class=\"o-layout__row\">\n                  <div class=\"o-layout__col-s-12 u-margin-bottom\">\n                    <nn-button variant=\"back\" :to=\"{ name: 'home' }\">Terug</nn-button>\n                    <nn-button type=\"submit\" class=\"u-float-right\">Opslaan</nn-button>\n                  </div>\n                </div>\n              </account-form>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"status === 'done'\" class=\"o-layout__col-s-3\">\n        <h2 class=\"h2--secondary\">Uw acties</h2>\n        <ul class=\"c-list\">\n          <li class=\"c-list__item\"><nn-link @click.prevent=\"sendReleaseAccount\">Vrijgeven</nn-link></li>\n          <li class=\"c-list__item\"><nn-link @click.prevent=\"sendPasswordReset\">Wachtwoord reset</nn-link></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\nimport AccountForm from './../accountForm'\n\nexport default {\n  props: {\n    config: Object\n  },\n  components: {AccountForm},\n  data () {\n    return {\n      status: 'action',\n      modal: {},\n      validationErrors: {},\n      editMode: true,\n      accountData: {},\n    }\n  },\n  computed: {\n    ...mapState([ 'account' ]),\n  },\n  async mounted () {\n    try {\n      await this.findAccountByUsername(this.$route.params.username);\n      this.accountData = {...this.account};\n      this.status = 'done';\n    } catch (err) {\n      this.status = 'failed';\n    }\n  },\n  methods: {\n    ...mapActions([\n      'findAccountByUsername',\n      'updateAccount',\n      'releaseAccount',\n      'resetPassword'\n    ]),\n    openModal (header, message) {\n      this.modal = { header, message };\n      this.$refs.changeConfirmation.open();\n    },\n    onPropertyChanged(name, value) {\n      this.accountData = {\n        ...this.accountData,\n        [name]: value\n      };\n    },\n    closeModal () {\n      this.$refs.changeConfirmation.close();\n    },\n    async handleSubmit () {\n      try {\n        this.status = 'action';\n        await this.updateAccount(this.accountData);\n        this.openModal('Opslaan gegevens', 'Gegevens zijn opgeslagen');\n        this.status = 'done';\n      } catch (err) {\n        this.status = 'failed';\n      }\n    },\n    async sendReleaseAccount () {\n      try {\n        this.status = 'action';\n        await this.releaseAccount();\n        this.openModal( 'Vrijgeven account', 'Het account van de gebruiker is vrijgegeven. De gebruiker ontvangt hierover een e-mail.');\n        this.status = 'done';\n      } catch (err) {\n        this.status = 'failed';\n      }\n    },\n    async sendPasswordReset () {\n      try {\n        this.status = 'action';\n        await this.resetPassword();\n        this.openModal( 'Wachtwoord reset', 'Het wachtwoord van de gebruiker is gereset. De gebruiker ontvangt een e-mail.');\n        this.status = 'done';\n      } catch (err) {\n        this.status = 'failed';\n      }\n    }\n  }\n}\n</script>","/* script */\nexport * from \"!!babel-loader!eslint-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editAccount.vue\"\nimport __vue_script__ from \"!!babel-loader!eslint-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editAccount.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6765c176\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"2\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editAccount.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Account controleren\")]),_vm._v(\" \"),_c('nn-modal',{ref:\"changeConfirmation\"},[_c('h1',[_vm._v(_vm._s(_vm.modal.header))]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.modal.message))]),_vm._v(\" \"),_c('div',{staticClass:\"u-float-right\"},[_c('nn-button',{on:{\"click\":_vm.closeModal}},[_vm._v(\"Sluiten\")])],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('br')]),_vm._v(\" \"),_c('div',{staticClass:\"o-layout\"},[_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-m-9\"},[_c('div',{staticClass:\"o-layout\"},[_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-m-9\"},[(_vm.status === 'failed')?_c('alert',{staticClass:\"u-margin-bottom\",attrs:{\"type\":\"error\"}},[_vm._v(\"\\n                Er is iets misgegaan bij het ophalen van de gebruiker.\\n              \")]):_vm._e(),_vm._v(\" \"),(_vm.status === 'action')?_c('loading-overlay',[_vm._v(\" Please wait...\")]):_vm._e(),_vm._v(\" \"),(_vm.status === 'done' || _vm.status === 'action')?_c('account-form',{attrs:{\"account\":_vm.accountData,\"handleSubmit\":_vm.handleSubmit,\"onPropertyChanged\":_vm.onPropertyChanged,\"editMode\":_vm.editMode}},[_c('div',{staticClass:\"o-layout__row\"},[_c('div',{staticClass:\"o-layout__col-s-12 u-margin-bottom\"},[_c('nn-button',{attrs:{\"variant\":\"back\",\"to\":{ name: 'home' }}},[_vm._v(\"Terug\")]),_vm._v(\" \"),_c('nn-button',{staticClass:\"u-float-right\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Opslaan\")])],1)])]):_vm._e()],1)])])]),_vm._v(\" \"),(_vm.status === 'done')?_c('div',{staticClass:\"o-layout__col-s-3\"},[_c('h2',{staticClass:\"h2--secondary\"},[_vm._v(\"Uw acties\")]),_vm._v(\" \"),_c('ul',{staticClass:\"c-list\"},[_c('li',{staticClass:\"c-list__item\"},[_c('nn-link',{on:{\"click\":function($event){$event.preventDefault();return _vm.sendReleaseAccount($event)}}},[_vm._v(\"Vrijgeven\")])],1),_vm._v(\" \"),_c('li',{staticClass:\"c-list__item\"},[_c('nn-link',{on:{\"click\":function($event){$event.preventDefault();return _vm.sendPasswordReset($event)}}},[_vm._v(\"Wachtwoord reset\")])],1)])]):_vm._e()])])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","import Vue from \"vue\";\nimport VueRouter from 'vue-router'\n\nimport Home from '../pages/home.vue';\n\nimport FindGoldenRecord from \"../pages/create-account/findGoldenRecord.vue\";\nimport AccountDetails from \"../pages/create-account/accountDetails.vue\";\nimport ConfirmAccount from \"../pages/create-account/confirmAccount.vue\";\n\nimport EditAccount from '../pages/manage-account/editAccount.vue';\n\nconst createRouter = () => {\n  if (!TESTING) {\n    Vue.use(VueRouter);\n    return new VueRouter({\n      routes: [\n        { path: '/', name: 'home', component: Home},\n\n        // Account creation pages\n        { path: '/find-golden-record', name: 'findGoldenRecord', component: FindGoldenRecord },\n        { path: '/account-details/:goldenRecordId', name: 'accountDetails', component: AccountDetails },\n        { path: '/confirm-account-create/:username', name: 'confirmAccount', component: ConfirmAccount },\n\n        // Manage account\n        { path: '/edit-account/:username', name: 'editAccount', component: EditAccount}\n      ],\n      scrollBehavior() {\n        return { x: 0, y: 0 }\n      }\n    });\n  }\n}\n\nexport default createRouter;","export default {\n  props: {\n    config: Object\n  },\n  template: '<div><loading-overlay v-if=\"loading\"></loading-overlay><router-view :config=\"config\"></router-view></div>',\n  data: function () {\n    return {\n      loading: false\n    }\n  },\n  provide: function () {\n    return {\n      loader: {\n        start: () => {\n          this.loading = true;\n        },\n        stop: () => {\n          this.loading = false;\n        }\n      }\n    }\n  },\n}","import {mapState} from 'vuex';\n\nexport default {\n  template: '<nn-stepper :steps=\"steps\" :activeStep=\"activeStep\"></nn-stepper>',\n  props: ['current'],\n  computed: {\n    ...mapState([\n      'businessPartner'\n    ]),\n    steps() {\n      return [\n        {name: 'Zoeken', to: '/find-golden-record'},\n        {name: 'Accountgegevens', to: this.businessPartner ? '/account-details/' + this.businessPartner.GoldenBPId : ''},\n        {name: 'Bevestiging'},\n      ]\n    },\n    activeStep() {\n      return parseFloat(this.current)\n    }\n  }\n}","import {mapState} from 'vuex';\n\nexport default {\n  template: '<nn-stepper :steps=\"steps\" :activeStep=\"activeStep\"></nn-stepper>',\n  props: ['current'],\n  computed: {\n    ...mapState([\n      'account',\n      'delegation'\n    ]),\n    steps() {\n      return [\n        {name: 'Zoeken', to: '/find-account-for-delegates'},\n        {name: 'Koppelen', to: this.account ? '/assign-delegates/' + this.account.Username : ''},\n        {name: 'Controleren', to: this.account && this.delegation && this.delegation.username ? '/check-delegation/' + this.delegation.username : ''},\n        {name: 'Bevestiging', to: '/confirm-delegation'},\n      ]\n    },\n    activeStep() {\n      return parseFloat(this.current)\n    }\n  }\n}","import Vue from 'vue';\n\nimport AccountSteps from './accountSteps';\nimport AssignSteps from './delegateSteps';\n\nVue.component('account-steps', AccountSteps);\nVue.component('delegate-steps', AssignSteps);","import Vue from \"vue\";\nimport VueComponents from '@nn/vue-components';\nimport { store } from './store/index';\nimport createRouter from './router/index';\nimport Index from './pages/index';\nimport { createVueChildContainer } from '../app-vue-shared/createVueChildContainer';\n\n// Shared componenents (logic independent and can be used anywhere in any Vue project\nimport '../app-vue-shared/shared.js';\n// Common component, has logic and is specific for a project but shared between pages\nimport './common';\n\nVue.use(VueComponents);\n\nconst bootstrapAccountManagement = (root, config) => {\n  new Vue({\n    el: createVueChildContainer(root),\n    store,\n    router: createRouter(),\n    render: h =>\n      h(Index, { props: { config } })\n  });\n}\n\nexport default bootstrapAccountManagement;","export const createVueChildContainer = (el) => {\n  const div = document.createElement('div');\n  el.appendChild(div);\n  return div;\n};\n","import template from \"./alert.html\";\n\nexport default {\n  name: \"alert\",\n  template,\n  props: {\n    type: { type: String, default: '' },\n    isOpen: {\n      type: Boolean,\n      default: true\n    },\n    showCloseButton: {\n      type: Boolean,\n      default: false\n    },\n  },\n  computed: {\n    alertClasses() {\n      return 'c-notification c-notification--' + this.type;\n    },\n  },\n  methods: {\n    closeAlert() {\n      this.$emit('closeAlert', this);\n    },\n  },\n}","import template from \"./datatable.html\";\n\nexport default {\n  name: \"Datatable\",\n  template,\n  props: {\n    rows: { type: Array, default: [] },\n    displayedColumns: { type: Object, default: function () {\n      return {}\n    } },\n    multiSelect: { type: Boolean, default: false },\n    selection: { type: Array, default: function () {\n      return []\n    } },\n    elementsPerPage: { type: Number, default: 10 },\n    border: { type: Boolean, default: true },\n    crud: { type: Boolean, default: false },\n    displayHeaders: { type: Boolean, default: true },\n    showPagination: { type: Boolean, default: true },\n  },\n  data() {\n    return {\n      currentPage: 1,\n    };\n  },\n  methods: {\n    displayColumn(row, col) {\n      return (row[col] && row[col].length > 0) ? row[col] : '-';\n    },\n    isPager() {\n      return (this.showPagination && this.numPages() > 1);\n    },\n    numPages() {\n      return Math.ceil(this.rows.length / this.elementsPerPage);\n    },\n    getRows() {\n      if (this.showPagination) {\n        const start = (this.currentPage - 1) * this.elementsPerPage;\n        const end = start + this.elementsPerPage;\n        return this.rows.slice(start, end);\n      }\n      return this.rows\n    },\n    changePage(page) {\n      this.currentPage = page;\n    },\n    clickRow(evt, index) {\n      if (this.multiSelect) {\n        this.updateSelection(index);\n        evt.stopPropagation();\n      }\n    },\n    clickCheckBox(evt) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      return false;\n    },\n    updateSelection(index) {\n      const checkbox = document.querySelector('input[name=\"row_' + index + '\"]');\n      checkbox.checked = !checkbox.checked;\n\n      const selection = this.rows.filter( (val, index) => (document.querySelector('input[name=\"row_' + index + '\"]').checked));\n\n      this.$emit('updateSelection', selection);\n    },\n    isChecked(index) {\n      return this.selection.find((item) => this.deepCompare(this.rows[index], item));\n    },\n    isCrud(index) {\n      return (index === (this.columns.length - 1) && this.crud);\n    },\n    hasRows() {\n      return !!(this.rows.length);\n    },\n    deepCompare(obj1, obj2) {\n      // Loop through properties in object 1\n      for (let p in obj1) {\n        //Check property exists on both objects\n        if (obj1.hasOwnProperty(p) !== obj2.hasOwnProperty(p)) {\n          return false;\n        }\n\n        switch (typeof (obj1[p])) {\n        // Deep compare objects\n        case 'object':\n          if (!Object.compare(obj1[p], obj2[p])) {\n            return false;\n          }\n          break;\n        // Compare function code\n        case 'function':\n          if (typeof (obj2[p]) === 'undefined' || (p !== 'compare' && obj1[p].toString() !== obj2[p].toString())) {\n            return false;\n          }\n          break;\n        // Compare values\n        default:\n          if (obj1[p] !== obj2[p]) {\n            return false;\n          }\n        }\n      }\n\n      // Check object 2 for any extra properties\n      for (let q in obj2) {\n        if (typeof (obj1[q]) === 'undefined') {\n          return false;\n        }\n      }\n      return true;\n    }\n  },\n  computed: {\n    columns() {\n      if (this.rows.length < 1) {\n        return [];\n      }\n      return (this.displayedColumns.length < 1) ? Object.keys(this.rows[0]) : Object.keys(this.displayedColumns);\n    },\n    columnsLabels() {\n      return Object.keys(this.displayedColumns).map((key) => {\n        return this.displayedColumns[key];\n      });\n    }\n  },\n};\n","import ColoredText from '../coloredtext/coloredtext';\n\nexport default {\n  bind: (element) => {\n    new ColoredText(element)\n  },\n};\n","module.exports = \"<div :class=\\\"alertClasses\\\" role=\\\"alert\\\">\\n  <a v-if=\\\"showCloseButton\\\" @click.prevent=\\\"closeAlert();\\\" class=\\\"c-notification__close-btn\\\"><span class=\\\"c-icon c-icon--close--thin\\\" aria-label=\\\"Close\\\"></span></a>\\n  <slot></slot>\\n</div>\\n\";","export default {\n  template: '<div></div>',\n  data: function() {\n    return {\n      loadingOverlay: {}\n    }\n  },\n  created: function() {\n    this.loadingOverlay = new window.app.Loadingoverlay();\n    this.loadingOverlay.show();\n  },\n  destroyed: function() {\n    this.loadingOverlay.hide();\n    this.loadingOverlay.destroy();\n  }\n}","import template from './searchForm.html';\nimport Alert from './alert.js';\n\nexport default {\n  template,\n  components: { Alert },\n  props: {\n    label: {\n      type: String\n    },\n    placeholder: {\n      type: String\n    },\n    clearOnSubmit: {\n      type: Boolean,\n      default: false\n    },\n    alert: {\n      type: String\n    }\n  },\n  data () {\n    return {\n      searchInput: ''\n    }\n  },\n  methods: {\n    handleSubmit () {\n      this.$emit('onSubmit', this.searchInput.trim());\n\n      if(this.clearOnSubmit === true) {\n        this.searchInput = '';\n      }\n    }\n  }\n}\n","import template from \"./textInput.html\";\n\nexport default {\n  name: \"TextInput\",\n  template,\n  model: {\n    prop: \"value\",\n    event: \"change\"\n  },\n  props: {\n    type: { type: String, default: \"text\" },\n    name: { type: String, default: \"\" },\n    label: { type: String, default: \"\" },\n    value: { type: String, default: \"\" },\n    placeholder: { type: String, default: \"\" },\n    disabled: { type: Boolean, default: false },\n    readonly: { type: Boolean, default: false },\n    error: { type: Boolean, default: false },\n    errorMessage: { type: String, default: \"\" },\n    className: { type: String },\n    maxLength: { type: Number, default: 255 },\n  },\n  methods: {\n    blur(e) {\n      this.$emit('blur', e);\n    },\n    focus(e) {\n      this.$emit('focus', e);\n    },\n    updateValue(e) {\n      this.$emit('input', e);\n    }\n  },\n  computed: {\n    getClass() {\n      let classes = (this.error) ? 'c-form-text c-form-text--error' : 'c-form-text';\n      classes = (this.className) ? classes + ' ' + this.className : classes;\n      return classes;\n    },\n    getIconClass() {\n      if (this.error) {\n        return 'c-icon c-icon--pict-warning u-color--medium-orange u-font-size-m';\n      }\n      return 'c-icon c-icon--check u-color--medium-orange u-font-size-m u-invisible';\n\n    },\n  }\n};\n","import template from \"./list.html\";\n\nexport default {\n  name: \"List\",\n  template,\n  data() {\n    return {\n\n    };\n  },\n  props: {\n    links: { type: Array, default: function () {\n      return []\n    } }\n  },\n  methods: {}\n};\n","import Vue from 'vue';\nimport VueCurrencyFilter from 'vue-currency-filter';\nimport LoadingOverlay from './loadingOverlay';\nimport Alert from './alert';\n\nimport SearchForm from './searchForm.js';\nimport TextInput from './textInput.js';\nimport List from './list.js';\nimport Datatable from './datatable.js';\n\nimport ColoredText from './coloredText.directive.js';\nimport PhoneFormatter from './phoneFormatter.directive.js';\n\nVue.directive('coloredText', ColoredText);\nVue.directive('phoneFormatter', PhoneFormatter);\n\nVue.component('text-input', TextInput);\nVue.component('search-form', SearchForm);\n\nVue.component('list', List);\nVue.component('datatable', Datatable);\n\nVue.component('loading-overlay', LoadingOverlay);\nVue.component('alert', Alert);\n\nVue.use(VueCurrencyFilter, {\n  symbol: '€',\n  thousandsSeparator: '.',\n  fractionCount: 2,\n  fractionSeparator: ',',\n  symbolPosition: 'front',\n  symbolSpacing: true\n});","export default {\n  bind (el) {\n    el = (el.nodeName !== 'INPUT')\n      ? (el.querySelector('input') || el)\n      : el;\n\n    el.addEventListener('keyup', () => {\n      el.value = el.value.replace(/[^0-9.]/g, '');\n      if (el.value.length > 15) {\n        el.value = el.value.substr(0, 15);\n      }\n    })\n  },\n\n  unbind (el) {\n    el.removeEventListener('keyup');\n  }\n};\n","module.exports = \"<form @submit.prevent=\\\"handleSubmit\\\">\\n  <div class=\\\"o-layout u-margin-top--15\\\">\\n    <div class=\\\"o-layout__row\\\">\\n      <div class=\\\"o-layout__col-s-12\\\">\\n        <label v-if=\\\"label\\\" class=\\\"c-form-label\\\" :for=\\\"searchInput\\\">\\n          {{label}}\\n        </label>\\n        <div style=\\\"display: flex; align-items: center;\\\">\\n          <input type=\\\"text\\\" name=\\\"searchInput\\\" class=\\\"c-form-text\\\" :placeholder=\\\"placeholder\\\" v-model=\\\"searchInput\\\">\\n          <button type=\\\"submit\\\" class=\\\"c-form-button u-margin-left--10\\\" :disabled=\\\"!searchInput.trim()\\\">Zoek</button>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"o-layout__row\\\">\\n      <div class=\\\"o-layout__col-s-12\\\">\\n        <alert v-if=\\\"alert\\\" type=\\\"warning\\\">\\n          {{alert}}\\n        </alert>\\n      </div>\\n    </div>\\n  </div>\\n</form>\";","module.exports = \"<div>\\n  <label v-if=\\\"label\\\" class=\\\"c-form-label\\\" :for=\\\"name\\\">\\n    {{label}}\\n  </label>\\n  <div class=\\\"o-flex\\\">\\n    <div class=\\\"o-flex__col\\\">\\n      <input v-bind:class=\\\"getClass\\\"\\n        :type=\\\"type\\\"\\n        :id=\\\"name\\\"\\n        :name=\\\"name\\\"\\n        :value=\\\"value\\\"\\n        :placeholder=\\\"placeholder\\\"\\n        :disabled=\\\"disabled\\\"\\n        :readonly=\\\"readonly\\\"\\n        :maxlength=\\\"maxLength\\\"\\n        @input=\\\"updateValue\\\"\\n        @change=\\\"updateValue\\\"\\n        @blur=\\\"blur\\\"\\n        @focus=\\\"focus\\\"\\n      />\\n    </div>\\n    <div class=\\\"o-flex__col o-flex__col--auto  o-flex__col--icon\\\">\\n      <span v-if=\\\"error\\\" v-bind:class=\\\"getIconClass\\\"></span>\\n      <span v-if=\\\"!error\\\" v-bind:class=\\\"getIconClass\\\"></span>\\n    </div>\\n  </div>\\n  <div v-if=\\\"errorMessage\\\" class=\\\"u-color--medium-orange u-font-bold u-margin-top--5\\\" data-test=\\\"textInput-errorMessage\\\">{{errorMessage}}</div>\\n</div>\\n\";","module.exports = \"<ul class=\\\"c-list\\\">\\n    <li v-for=\\\"link in links\\\" class=\\\"c-list__item\\\">\\n      <router-link :to=\\\"link.url\\\" class=\\\"c-link\\\">{{link.label}}</router-link>\\n    </li>\\n</ul>\";","module.exports = \"<div>\\n  <table v-if=\\\"hasRows()\\\" v-bind:class=\\\"border ? 'c-table c-table--large' : 'c-table--no-border'\\\">\\n    <thead v-if=\\\"displayHeaders\\\" class=\\\"c-table__header\\\">\\n      <tr class=\\\"c-table__header__row\\\">\\n        <th v-if=\\\"multiSelect\\\" class=\\\"c-table__header__cell\\\"></th>\\n        <th class=\\\"c-table__header__cell\\\" v-for=\\\"col in columnsLabels\\\">{{col}}</th>\\n      </tr>\\n    </thead>\\n    <tbody class=\\\"c-table__body\\\">\\n      <tr class=\\\"c-table__body__row\\\" v-for=\\\"(row, index) in getRows()\\\" :key=\\\"index\\\" @click=\\\"clickRow($event, index)\\\">\\n        <td v-if=\\\"multiSelect\\\" style=\\\"width: 30px;\\\" class=\\\"c-table__body__cell\\\">\\n            <input type=\\\"checkbox\\\" class=\\\"c-form-checkbox\\\" @click=\\\"clickCheckBox($event)\\\" v-bind:name=\\\"'row_' + index\\\" v-bind:value=\\\"index\\\" v-bind:id=\\\"'row_' + index\\\" v-bind:checked=\\\"isChecked(index)\\\">\\n            <label v-bind:for=\\\"'row_' + index\\\">&nbsp;</label>\\n        </td>\\n        <td v-for=\\\"(col, ind) in columns\\\" v-bind:class=\\\"isCrud(ind) ? 'c-table__body__cell u-textalign-right' : 'c-table__body__cell'\\\">\\n          <span v-if=\\\"!isCrud(ind)\\\">{{ displayColumn(row, col) }}</span>\\n          <slot v-if=\\\"isCrud(ind)\\\" v-bind=\\\"row[col]\\\"></slot>\\n        </td>\\n      </tr>\\n    </tbody>\\n  </table>\\n  <div v-if=\\\"isPager()\\\" class=\\\"pagination\\\">\\n    <ul class=\\\"c-pagination__list\\\">\\n      <li v-for=\\\"i in numPages()\\\" class=\\\"c-pagination__item\\\">\\n        <a href=\\\"#\\\" v-bind:aria-label=\\\"'pagina ' + currentPage\\\" v-on:click=\\\"changePage(i)\\\" v-bind:class=\\\"[i == currentPage ? 'active' : '']\\\"\\n          class=\\\"c-pagination__link\\\">{{i}}</a>\\n      </li>\\n    </ul>\\n  </div>\\n</div>\\n\";","const validResult = { valid: true, message: '' };\n\n/**\n * Provides a mixin for validating your form using your own validation methods.\n * @param {object} configuration - A Validation configuration\n * @returns {object} Validation mixin\n * @example\n *   import getValidationMixin from '@nn/psdl-modules/src/app-vue-shared/validationMixin';\n *\n *   getValidationMixin ({\n *     firstName: (value) => ({ valid:!!value, message: 'This is a required field' }),\n *     lastName: (value) => ({ valid:!!value, message: 'This is a required field' }),\n *   })\n */\nexport default (configuration) => ({\n  data () {\n    return {\n      validationResults: Object\n        .keys(configuration)\n        .reduce((prev, curr) => {\n          prev[curr] = validResult;\n          return prev;\n        }, {})\n    }\n  },\n  computed: {\n    isFormValid () {\n      return Object\n        .keys(this.validationResults)\n        .map(k => this.validationResults[k].valid)\n        .every(r => Boolean(r));\n    },\n  },\n  methods: {\n    isValidatedAndValid (name) {\n      const validationResult = this.validationResults[name];\n      return validationResult ? validationResult.valid : true;\n    },\n    validationMessage (name) {\n      const validationResult = this.validationResults[name];\n      return validationResult ? validationResult.message : '';\n    },\n    addConfiguration (extraConfig){\n      if (!extraConfig || Array.isArray(extraConfig) || typeof extraConfig !== 'object') {\n        return false\n      }\n      configuration = {...configuration, ...extraConfig};\n\n      this.validationResults = {\n        ...this.validationResults,\n        ...Object\n          .keys(extraConfig)\n          .reduce((prev, curr) => {\n            prev[curr] = validResult;\n            return prev;\n          }, {})\n      }\n\n      return configuration;\n    },\n    removeConfiguration (configName){\n      if (Object.keys(configuration).includes(configName)) {\n        delete configuration[configName];\n        delete this.validationResults[configName]\n        return configuration;\n      }\n\n      return 'Non-existing key'\n    },\n    validateFormElement (name, value, forcedInvalid) {\n      const validator = configuration[name];\n      if (!validator) {\n        this.validationResults[name] = validResult;\n      }\n      let validationResult = validator(value, forcedInvalid);\n      if (!validationResult) {\n        validationResult = validResult;\n      }\n      this.validationResults = {\n        ...this.validationResults,\n        [name]: validationResult,\n      };\n    },\n    validateForm (data) {\n      Object.keys(configuration)\n        .forEach(name => {\n          this.validateFormElement(name, data[name]);\n        });\n    }\n  }\n})\n"],"sourceRoot":""}